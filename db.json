{"meta":{"version":1,"warehouse":"1.0.2"},"models":{"Asset":[{"_id":"source/CNAME","path":"CNAME","modified":1},{"_id":"source/upload/java-at-alibaba.pptx","path":"upload/java-at-alibaba.pptx","modified":1},{"_id":"source/images/wpid-nio-oio.jpg","path":"images/wpid-nio-oio.jpg","modified":1},{"_id":"source/images/wpid-Netty-thread-model3.png","path":"images/wpid-Netty-thread-model3.png","modified":1},{"_id":"source/images/wpid-Netty-ChannelPipeline-.png","path":"images/wpid-Netty-ChannelPipeline-.png","modified":1},{"_id":"source/images/wpid-Multi-reactors3.png","path":"images/wpid-Multi-reactors3.png","modified":1},{"_id":"source/images/wpid-EventLoopAndEventExecutor3.jpg","path":"images/wpid-EventLoopAndEventExecutor3.jpg","modified":1},{"_id":"source/images/wpid-Channel.png","path":"images/wpid-Channel.png","modified":1},{"_id":"source/images/solr-DocSet.png","path":"images/solr-DocSet.png","modified":1},{"_id":"source/images/reactors-in-threads.png","path":"images/reactors-in-threads.png","modified":1},{"_id":"source/images/reactors-in-threads-thread-pool.png","path":"images/reactors-in-threads-thread-pool.png","modified":1},{"_id":"source/images/reactor-thread-pool.png","path":"images/reactor-thread-pool.png","modified":1},{"_id":"source/images/reactor-single-thread.png","path":"images/reactor-single-thread.png","modified":1},{"_id":"source/images/ranksystem-in-social-network.png","path":"images/ranksystem-in-social-network.png","modified":1},{"_id":"source/images/facet-1.png","path":"images/facet-1.png","modified":1},{"_id":"source/images/bytebuf-priciple.png","path":"images/bytebuf-priciple.png","modified":1},{"_id":"source/images/bytebuf-diagram.jpg","path":"images/bytebuf-diagram.jpg","modified":1},{"_id":"source/images/bytebuf-combine-slice-buffer.png","path":"images/bytebuf-combine-slice-buffer.png","modified":1},{"_id":"source/favicon.png","path":"favicon.png","modified":1},{"_id":"themes/next/source/vendors/velocity/velocity.ui.min.js","path":"vendors/velocity/velocity.ui.min.js","modified":1},{"_id":"themes/next/source/vendors/velocity/velocity.ui.js","path":"vendors/velocity/velocity.ui.js","modified":1},{"_id":"themes/next/source/vendors/velocity/velocity.min.js","path":"vendors/velocity/velocity.min.js","modified":1},{"_id":"themes/next/source/vendors/velocity/velocity.js","path":"vendors/velocity/velocity.js","modified":1},{"_id":"themes/next/source/vendors/velocity/bower.json","path":"vendors/velocity/bower.json","modified":1},{"_id":"themes/next/source/vendors/jquery/index.js","path":"vendors/jquery/index.js","modified":1},{"_id":"themes/next/source/vendors/fastclick/lib/fastclick.min.js","path":"vendors/fastclick/lib/fastclick.min.js","modified":1},{"_id":"themes/next/source/vendors/fastclick/lib/fastclick.js","path":"vendors/fastclick/lib/fastclick.js","modified":1},{"_id":"themes/next/source/vendors/fastclick/bower.json","path":"vendors/fastclick/bower.json","modified":1},{"_id":"themes/next/source/vendors/fastclick/README.md","path":"vendors/fastclick/README.md","modified":1},{"_id":"themes/next/source/vendors/fastclick/LICENSE","path":"vendors/fastclick/LICENSE","modified":1},{"_id":"themes/next/source/vendors/fancybox/source/jquery.fancybox.pack.js","path":"vendors/fancybox/source/jquery.fancybox.pack.js","modified":1},{"_id":"themes/next/source/vendors/fancybox/source/jquery.fancybox.js","path":"vendors/fancybox/source/jquery.fancybox.js","modified":1},{"_id":"themes/next/source/vendors/fancybox/source/jquery.fancybox.css","path":"vendors/fancybox/source/jquery.fancybox.css","modified":1},{"_id":"themes/next/source/vendors/fancybox/source/helpers/jquery.fancybox-thumbs.js","path":"vendors/fancybox/source/helpers/jquery.fancybox-thumbs.js","modified":1},{"_id":"themes/next/source/vendors/fancybox/source/helpers/jquery.fancybox-thumbs.css","path":"vendors/fancybox/source/helpers/jquery.fancybox-thumbs.css","modified":1},{"_id":"themes/next/source/vendors/fancybox/source/helpers/jquery.fancybox-media.js","path":"vendors/fancybox/source/helpers/jquery.fancybox-media.js","modified":1},{"_id":"themes/next/source/vendors/fancybox/source/helpers/jquery.fancybox-buttons.js","path":"vendors/fancybox/source/helpers/jquery.fancybox-buttons.js","modified":1},{"_id":"themes/next/source/vendors/fancybox/source/helpers/jquery.fancybox-buttons.css","path":"vendors/fancybox/source/helpers/jquery.fancybox-buttons.css","modified":1},{"_id":"themes/next/source/vendors/fancybox/source/helpers/fancybox_buttons.png","path":"vendors/fancybox/source/helpers/fancybox_buttons.png","modified":1},{"_id":"themes/next/source/vendors/fancybox/source/fancybox_sprite@2x.png","path":"vendors/fancybox/source/fancybox_sprite@2x.png","modified":1},{"_id":"themes/next/source/vendors/fancybox/source/fancybox_sprite.png","path":"vendors/fancybox/source/fancybox_sprite.png","modified":1},{"_id":"themes/next/source/vendors/fancybox/source/fancybox_overlay.png","path":"vendors/fancybox/source/fancybox_overlay.png","modified":1},{"_id":"themes/next/source/vendors/fancybox/source/fancybox_loading@2x.gif","path":"vendors/fancybox/source/fancybox_loading@2x.gif","modified":1},{"_id":"themes/next/source/vendors/fancybox/source/fancybox_loading.gif","path":"vendors/fancybox/source/fancybox_loading.gif","modified":1},{"_id":"themes/next/source/vendors/fancybox/source/blank.gif","path":"vendors/fancybox/source/blank.gif","modified":1},{"_id":"themes/next/source/js/ua-parser.min.js","path":"js/ua-parser.min.js","modified":1},{"_id":"themes/next/source/js/nav-toggle.js","path":"js/nav-toggle.js","modified":1},{"_id":"themes/next/source/js/motion_global.js","path":"js/motion_global.js","modified":1},{"_id":"themes/next/source/js/motion_fallback.js","path":"js/motion_fallback.js","modified":1},{"_id":"themes/next/source/js/lazyload.js","path":"js/lazyload.js","modified":1},{"_id":"themes/next/source/js/hook-duoshuo.js","path":"js/hook-duoshuo.js","modified":1},{"_id":"themes/next/source/js/helpers.js","path":"js/helpers.js","modified":1},{"_id":"themes/next/source/js/fancy-box.js","path":"js/fancy-box.js","modified":1},{"_id":"themes/next/source/js/bootstrap.scrollspy.js","path":"js/bootstrap.scrollspy.js","modified":1},{"_id":"themes/next/source/images/searchicon.png","path":"images/searchicon.png","modified":1},{"_id":"themes/next/source/images/placeholder.gif","path":"images/placeholder.gif","modified":1},{"_id":"themes/next/source/images/loading.gif","path":"images/loading.gif","modified":1},{"_id":"themes/next/source/images/hongweiyi.jpg","path":"images/hongweiyi.jpg","modified":1},{"_id":"themes/next/source/images/cc-zero.svg","path":"images/cc-zero.svg","modified":1},{"_id":"themes/next/source/images/cc-by.svg","path":"images/cc-by.svg","modified":1},{"_id":"themes/next/source/images/cc-by-sa.svg","path":"images/cc-by-sa.svg","modified":1},{"_id":"themes/next/source/images/cc-by-nd.svg","path":"images/cc-by-nd.svg","modified":1},{"_id":"themes/next/source/images/cc-by-nc.svg","path":"images/cc-by-nc.svg","modified":1},{"_id":"themes/next/source/images/cc-by-nc-sa.svg","path":"images/cc-by-nc-sa.svg","modified":1},{"_id":"themes/next/source/images/cc-by-nc-nd.svg","path":"images/cc-by-nc-nd.svg","modified":1},{"_id":"themes/next/source/images/bkdefault_avatar.jpg","path":"images/bkdefault_avatar.jpg","modified":1},{"_id":"themes/next/source/fonts/icon-linecons/selection.json","path":"fonts/icon-linecons/selection.json","modified":1},{"_id":"themes/next/source/fonts/icon-linecons/icomoon.woff","path":"fonts/icon-linecons/icomoon.woff","modified":1},{"_id":"themes/next/source/fonts/icon-linecons/icomoon.ttf","path":"fonts/icon-linecons/icomoon.ttf","modified":1},{"_id":"themes/next/source/fonts/icon-linecons/icomoon.svg","path":"fonts/icon-linecons/icomoon.svg","modified":1},{"_id":"themes/next/source/fonts/icon-linecons/icomoon.eot","path":"fonts/icon-linecons/icomoon.eot","modified":1},{"_id":"themes/next/source/fonts/icon-icomoon/icomoon.woff","path":"fonts/icon-icomoon/icomoon.woff","modified":1},{"_id":"themes/next/source/fonts/icon-icomoon/icomoon.ttf","path":"fonts/icon-icomoon/icomoon.ttf","modified":1},{"_id":"themes/next/source/fonts/icon-icomoon/icomoon.svg","path":"fonts/icon-icomoon/icomoon.svg","modified":1},{"_id":"themes/next/source/fonts/icon-icomoon/icomoon.eot","path":"fonts/icon-icomoon/icomoon.eot","modified":1},{"_id":"themes/next/source/fonts/icon-fifty-shades/selection.json","path":"fonts/icon-fifty-shades/selection.json","modified":1},{"_id":"themes/next/source/fonts/icon-fifty-shades/icomoon.woff","path":"fonts/icon-fifty-shades/icomoon.woff","modified":1},{"_id":"themes/next/source/fonts/icon-fifty-shades/icomoon.ttf","path":"fonts/icon-fifty-shades/icomoon.ttf","modified":1},{"_id":"themes/next/source/fonts/icon-fifty-shades/icomoon.svg","path":"fonts/icon-fifty-shades/icomoon.svg","modified":1},{"_id":"themes/next/source/fonts/icon-fifty-shades/icomoon.eot","path":"fonts/icon-fifty-shades/icomoon.eot","modified":1},{"_id":"themes/next/source/fonts/icon-feather/selection.json","path":"fonts/icon-feather/selection.json","modified":1},{"_id":"themes/next/source/fonts/icon-feather/icomoon.woff","path":"fonts/icon-feather/icomoon.woff","modified":1},{"_id":"themes/next/source/fonts/icon-feather/icomoon.ttf","path":"fonts/icon-feather/icomoon.ttf","modified":1},{"_id":"themes/next/source/fonts/icon-feather/icomoon.svg","path":"fonts/icon-feather/icomoon.svg","modified":1},{"_id":"themes/next/source/fonts/icon-feather/icomoon.eot","path":"fonts/icon-feather/icomoon.eot","modified":1},{"_id":"themes/next/source/fonts/icon-default/selection.json","path":"fonts/icon-default/selection.json","modified":1},{"_id":"themes/next/source/fonts/icon-default/icomoon.woff","path":"fonts/icon-default/icomoon.woff","modified":1},{"_id":"themes/next/source/fonts/icon-default/icomoon.ttf","path":"fonts/icon-default/icomoon.ttf","modified":1},{"_id":"themes/next/source/fonts/icon-default/icomoon.svg","path":"fonts/icon-default/icomoon.svg","modified":1},{"_id":"themes/next/source/fonts/icon-default/icomoon.eot","path":"fonts/icon-default/icomoon.eot","modified":1},{"_id":"themes/next/source/css/main.styl","path":"css/main.styl","modified":1}],"Cache":[{"_id":"source/_posts/2013-learning-plan.md","shasum":"fb8c1db1948c8e5c8317405015f1b97d58cb8d76","modified":1451395863000},{"_id":"source/_posts/README.md","shasum":"ed7b6e8cb12f4361f78ddf68b5f4cda552ae0ef8","modified":1451395815000},{"_id":"source/_posts/algorithm-dynammic-programming.md","shasum":"771657ed51abfae51b5b0da1c22cb33ae008cda1","modified":1451395863000},{"_id":"source/_posts/algorithm-probability.md","shasum":"7935348a676fa92cd24964f13eda672c1326523b","modified":1451395863000},{"_id":"source/_posts/algorithm-search.md","shasum":"2f8cbfbb1f6f9590d157692394169861bb735526","modified":1451395863000},{"_id":"source/_posts/android-ui.md","shasum":"39cf2fb69270ec0d84dea24dba55e2f6c8d27223","modified":1451395863000},{"_id":"source/_posts/apache-hadoop-yarn-background-and-an-overview.md","shasum":"7bbcc8c84f1b141aa5bc9fec95940e48e613c5e5","modified":1451395863000},{"_id":"source/_posts/apache-solr-data-structrue-part-1.md","shasum":"019a367be39c204664ce59b7118f727e197578be","modified":1451395815000},{"_id":"source/_posts/apache-solr-data-structrue-part-2.md","shasum":"4c0477b4a51aedfd98c4363d1f778cd9c81bf81b","modified":1451395815000},{"_id":"source/_posts/apache-solr-distributed-search.md","shasum":"585bbeb4d8acbdbd18252c9b3cd0fcb599111700","modified":1451395815000},{"_id":"source/_posts/apache-solr-facet-introduction.md","shasum":"504e22b7d7a847db4560a00f0a4ccadb4cecdb62","modified":1451395815000},{"_id":"source/_posts/apache-solr-facet-pivot-implementation-tranplant.md","shasum":"39dba09d46ab464c725f1317de2b410745e9e187","modified":1451395815000},{"_id":"source/_posts/buying-laptop.md","shasum":"c4dd155780d97cf9d72f011fd5f6845023422b08","modified":1451395863000},{"_id":"source/_posts/configurate-solr-src-in-eclipse.md","shasum":"12b0ea559874ef8ea45e2ddbf08981dd71b73a7b","modified":1451395863000},{"_id":"source/_posts/css-practice.md","shasum":"4c66d9c02f21b6404006cf85bf18276a65e31387","modified":1451395815000},{"_id":"source/_posts/data-structure-bitmap.md","shasum":"811675c96fea2172b72d6599bc2675e5384fbc42","modified":1451395863000},{"_id":"source/_posts/data-structure-disjoint-set.md","shasum":"b5677c206c681284df3cff984f8f19ea4c4464b7","modified":1451395863000},{"_id":"source/_posts/data-structure-skiplists.md","shasum":"d9a94045c9f7a81e956cd907e18c2ecc9293df9f","modified":1451395863000},{"_id":"source/_posts/design-pattern-adapter.md","shasum":"4b8f9acdeaf3902530acf9f1a0708214e3817b49","modified":1451395863000},{"_id":"source/CNAME","shasum":"0ac7ddcf1b989fbcc91f6ca144101324ffac8de4","modified":1451395815000},{"_id":"source/_posts/design-pattern-additional.md","shasum":"52d1912dd690af12eadd183fdda60b0b03f94344","modified":1451395863000},{"_id":"source/_posts/design-pattern-cor.md","shasum":"8826645d3c47b9a7dd8c7f299e0b3a702b836ece","modified":1451395863000},{"_id":"source/_posts/design-pattern-decorate.md","shasum":"f52230d154aa5c08b84f7e9ec22ca07d178f689c","modified":1451395863000},{"_id":"source/_posts/design-pattern-facade.md","shasum":"2aeba82664c17356617051a5b7a1ed6d557c0e85","modified":1451395863000},{"_id":"source/_posts/design-pattern-factory-abs.md","shasum":"5a318d6a76e46e3eab27b5cccbc4b46705da48e7","modified":1451395863000},{"_id":"source/_posts/design-pattern-factory.md","shasum":"4d4bef90157e5f868d4ff4c11cd4f51638fc20dc","modified":1451395863000},{"_id":"source/_posts/design-pattern-observer.md","shasum":"8314b2d6f4a35a4e5fbe24d585bdd4681d3f3ac6","modified":1451395863000},{"_id":"source/_posts/design-pattern-proxy.md","shasum":"b5e42a3284e8a40173ee78a1ea5f00d759c8a3c6","modified":1451395863000},{"_id":"source/_posts/design-pattern-singleton.md","shasum":"0ae22916bf2adbfe8a21991621e91ef3d597db04","modified":1451395863000},{"_id":"source/_posts/dist-filesystem-metadata-server.md","shasum":"cfed853d5855661e4821b413694a0b2cc830f470","modified":1451395863000},{"_id":"source/_posts/ditital-screen.md","shasum":"be9f5a9518785f2761a7522b94fe22fee100add0","modified":1451395863000},{"_id":"source/_posts/docker-compose-pratice.md","shasum":"81d723d410f9fb2fa4cc0796a182272ddbd292ef","modified":1451395815000},{"_id":"source/_posts/docker-volume-plugin.md","shasum":"3967ae1a2d2c17241c312defdd7292f33915f2b8","modified":1451395815000},{"_id":"source/_posts/eclipse-plugin-unintall.md","shasum":"a7a62b7d1be9b5f31d712cf94bb9e412a4321b31","modified":1451395863000},{"_id":"source/_posts/english-punctuate.md","shasum":"742db7c728a94aa1108ce69f6b1d908fa9aef47b","modified":1451395863000},{"_id":"source/_posts/forget-your-lusts-1.md","shasum":"c2549c0150e9a91a760a5d49f3544632e73a0e24","modified":1451395863000},{"_id":"source/_posts/forget-your-lusts.md","shasum":"fd8cb51f74651eaf568218e3d45093804f123ff6","modified":1451395815000},{"_id":"source/_posts/git-practice.md","shasum":"1418b3628c8d248fbf1da20f70c76b76f7c0a58b","modified":1451395815000},{"_id":"source/_posts/google-doodle-for-turing.md","shasum":"2444ec07c8d88ef75307937a6ed157057abe11bf","modified":1451395863000},{"_id":"source/_posts/hadoop-bug-in-text.md","shasum":"a7a0c6b30777856ead1128d5be39ceb49afd9d78","modified":1451395863000},{"_id":"source/_posts/hadoop-default-conf.md","shasum":"af763ca33a80bd0a3572f852d85bb35152e7f0ea","modified":1451395863000},{"_id":"source/_posts/hadoop-ipc-client.md","shasum":"3a8e412eab6a23ca9bf30e35b95369819f6d67da","modified":1451395863000},{"_id":"source/_posts/hadoop-ipc-rpc.md","shasum":"e944a7d9d7c70e6389019697aede4967e07655a8","modified":1451395863000},{"_id":"source/_posts/hadoop-ipc-server.md","shasum":"9fbf8215395d4506d9c58e50964a53f912b04b6c","modified":1451395863000},{"_id":"source/_posts/hadoop-pipes-src.md","shasum":"94dfb25ff9944cc4a9e8ffde94ee5f95ec1e5f64","modified":1451395863000},{"_id":"source/_posts/hadoop-pipes.md","shasum":"df6bc3d8f38d624d02f9869082b52281800ccd3e","modified":1451395863000},{"_id":"source/_posts/hadoop-related.md","shasum":"7eb58b27d96673d85ce90c0ab28eb2c53f983c3e","modified":1451395863000},{"_id":"source/_posts/hello-sae.md","shasum":"4cb7e6036fdc4f3e0ea0dc9c0ea7e9a6a8e67842","modified":1451395863000},{"_id":"source/_posts/i-need-an-answer-now-from-remote.md","shasum":"20d5379d0d60448a66f9ece49d5d9b21a588046d","modified":1451395815000},{"_id":"source/_posts/iterative-mapred-distcache.md","shasum":"a4a882b9756fb34a985820262da87c8d8a13d3db","modified":1451395863000},{"_id":"source/_posts/iterative-mapred-summary-haloop.md","shasum":"ac6d73ea1ee127cbc5eae36a401271a8653672e4","modified":1451395863000},{"_id":"source/_posts/iterative-mapred.md","shasum":"751f369ed02ed5c78c0b682aa9d1a9da78d852ba","modified":1451395863000},{"_id":"source/_posts/java-boxing.md","shasum":"accc97d3d06692e9e0de8e8de2fa5969e9c4beff","modified":1451395863000},{"_id":"source/_posts/java-practice.md","shasum":"7d255690325ed7063c0d07bced981eaf75cec93a","modified":1451395815000},{"_id":"source/_posts/java-probability.md","shasum":"e3d4f226674fc618035edd0226455fb6ae46d8f5","modified":1451395863000},{"_id":"source/_posts/java-source-code-practice.md","shasum":"e35e352d2d089d63fd1be1bee46675ba56f8533e","modified":1451395815000},{"_id":"source/_posts/jvm-structure.md","shasum":"f48a27d76501c04754e8e5c7e2e08eb7cde5bfa6","modified":1451395863000},{"_id":"source/_posts/les-miserables-lrc.md","shasum":"9efeaa71f0d0f0c558f5912426cc1e8e73b6a4cf","modified":1451395863000},{"_id":"source/_posts/linux-file-directory-shell.md","shasum":"ac4115abe6d9743c2bc82df4a807cf8aece1a000","modified":1451395863000},{"_id":"source/_posts/linux-process-shell.md","shasum":"c74c929d0e79d6177b627988fa008dbe56eeaf4f","modified":1451395863000},{"_id":"source/_posts/linux-shell-term-tuning.md","shasum":"bee86db5dc3bc83d1f39852d7e9d08a0034529a0","modified":1451395863000},{"_id":"source/_posts/linux-text-shell.md","shasum":"79cbb889e042081ae703322d9e6a6f74910ebd4e","modified":1451395863000},{"_id":"source/_posts/mapred-optimize-writable.md","shasum":"6a7e2c3ed152376727807e0886ccd016873910ab","modified":1451395863000},{"_id":"source/_posts/mapred-optimize.md","shasum":"6cde0c6828565d89e43fc9d8b8f6641ee38988c7","modified":1451395863000},{"_id":"source/_posts/mapreduce-task-src-analysis.md","shasum":"09e02be775df155e8462c38f7f6dec2b28b64a24","modified":1451395863000},{"_id":"source/_posts/multi-columns-group-by.md","shasum":"b9996094cb2f72f9acfff6bb610412ca5f8c4166","modified":1451395863000},{"_id":"source/_posts/maven-coordinates-dependencies.md","shasum":"9235207c574a76659697cf1bbec8aee04c14af71","modified":1451395863000},{"_id":"source/_posts/maven-repositories.md","shasum":"818821e775e5f56246a0b4e2df26793691f5f5ad","modified":1451395863000},{"_id":"source/_posts/my-macbook.md","shasum":"e4d02b2b7834be96c933f670b4a8c42cb94c43e7","modified":1451395863000},{"_id":"source/_posts/my-motive.md","shasum":"6c85bdc13f75c920f07ea73b11ed11076cbf13d9","modified":1451395863000},{"_id":"source/_posts/netty-4-x-bytebuf.md","shasum":"cf5be6da4996618547c4ebb96abcbd4dd435bb77","modified":1451395815000},{"_id":"source/_posts/netty-4-x-channel-pipeline.md","shasum":"dc4638a1e3046b17fe979c28995208d7f4489780","modified":1451395815000},{"_id":"source/_posts/netty-mina-in-depth-1.md","shasum":"4bdaa9ac00fe395b951fdc0a3285d0948da84d6f","modified":1451395815000},{"_id":"source/_posts/netty-4-x-thread-model.md","shasum":"6e902100ff218758cb15c5c1200f82e3fa95fb1b","modified":1451395815000},{"_id":"source/_posts/netty-mina-in-depth-2.md","shasum":"959f1dc0d5a16b48aa38a6a8bd67ab6402146fc4","modified":1451395815000},{"_id":"source/_posts/nlp-repost-segmentation.md","shasum":"2feec3242e7acb0f290764d723b4c9a1fa08cc6b","modified":1451395863000},{"_id":"source/_posts/nlp-repost-semantic.md","shasum":"5a59a7555d3650aba717bf37f53f17e7edc85e2d","modified":1451395863000},{"_id":"source/_posts/nlp-say-hi.md","shasum":"c460b5a20c41ae1a8b74dc585643a301b028c705","modified":1451395863000},{"_id":"source/_posts/once-java-profiling.md","shasum":"918496494a06bf64d913d2aa6e29dc0a3216d119","modified":1451395863000},{"_id":"source/_posts/oom-killer-1-1.md","shasum":"5d80fd41066c6c29eb91a02070f82a321caccfb5","modified":1451395863000},{"_id":"source/_posts/oom-killer-1.md","shasum":"1b8167f06447159f8cac47846b3c35d9decfac19","modified":1451395815000},{"_id":"source/_posts/photometry.md","shasum":"82a2d4544a01b73df22dd3d4a2d94f75729f9fb1","modified":1451395863000},{"_id":"source/_posts/python-chat.md","shasum":"2bf804091032dd5098973fa395b39a3226369ddc","modified":1451395863000},{"_id":"source/_posts/python-traverse-dir.md","shasum":"ea03eec7160a3347b20b98d2d105796795470174","modified":1451395863000},{"_id":"source/_posts/ranksystem-in-social-network.md","shasum":"3013bc1811e81068798da2d2d6c8b7ffa7e48dd9","modified":1451396289000},{"_id":"source/_posts/re-equip-my-little-black.md","shasum":"57ec881b6cbf0672431e5ef355ddebfd8bb1d0eb","modified":1451395863000},{"_id":"source/_posts/redis-data-strutrue.md","shasum":"2c258874644a23551780c681d3c95e2f7127cba6","modified":1451395863000},{"_id":"source/_posts/relax-schrodinger-cat.md","shasum":"9785917918539f203013b2a515668fd38f94dbef","modified":1451395863000},{"_id":"source/_posts/remoting-practice.md","shasum":"cacdab9eb0883789117224138b0327116a64fdae","modified":1451395815000},{"_id":"source/_posts/rework-digest.md","shasum":"fcdaed2747fcb5dce72f13aea51de39719eb60d6","modified":1451395815000},{"_id":"source/_posts/single-lens-paraxonic.md","shasum":"d75e64e7d9f1d1c901fbcc8394f49d22f95603bd","modified":1451395863000},{"_id":"source/_posts/solr-switch-query-parser.md","shasum":"df8a14ed2566ceb82e4297cd2ea2da724e72678c","modified":1451395863000},{"_id":"source/_posts/study-school-sociey.md","shasum":"25f4b26fd1a1c10fbf29043af2873d05fee7a812","modified":1451395863000},{"_id":"source/_posts/system-architecture-stuffs.md","shasum":"7c7b46a88922fbe8060455205a5b1fe897912567","modified":1451395863000},{"_id":"source/_posts/truth-in-rumor.md","shasum":"b57775270a5e5a479766b3b5d4978a0891ef1eba","modified":1451395863000},{"_id":"source/_posts/the-nosql-ecosystem.md","shasum":"04db00b083abe34841a01b15a6d5ff0d94bef386","modified":1451395863000},{"_id":"source/_posts/wanting-qu.md","shasum":"89ef8685a5cfeaafdabc46a081af248bae59ab26","modified":1451395863000},{"_id":"source/_posts/weibo-analysis.md","shasum":"34c30e16d4857ba28cd413263adc5291f9180cb1","modified":1451395863000},{"_id":"source/_posts/what-i-think-about-1111.md","shasum":"6e032ac22fd68daf5b0f7f3c9170ba089aaebc80","modified":1451395863000},{"_id":"source/_posts/zookeeper-ephemeral-nodes-experience.md","shasum":"5e8c047abc28c32acefb32fbfac6b4951f65d386","modified":1451395863000},{"_id":"source/favicon.png","shasum":"6cdd78df2d91e397f08a981df6e5bb58896f1f80","modified":1451395815000},{"_id":"source/images/bytebuf-diagram.jpg","shasum":"81f2c3c1b19f01d6af05b2de19124c93ea3cad23","modified":1451395815000},{"_id":"source/images/bytebuf-priciple.png","shasum":"f2abcaa081d341f8b6aaa1c7c19e7c562329475b","modified":1451395815000},{"_id":"source/images/facet-1.png","shasum":"938bd19a87b24de5485960176c817bdac85b6093","modified":1451395815000},{"_id":"source/images/reactor-single-thread.png","shasum":"799dbea22e802bf51877500c9d7a80621baadc44","modified":1451395815000},{"_id":"source/tags/index.md","shasum":"6c8fe74182de9061c3a10e994aaccab990e58f1a","modified":1451395815000},{"_id":"source/images/bytebuf-combine-slice-buffer.png","shasum":"a073deecce1516d12e2270f373ccfa8bc57b87fd","modified":1451395815000},{"_id":"source/images/reactor-thread-pool.png","shasum":"2698dc114f10fdddef468dd49f23338f743c319e","modified":1451395815000},{"_id":"source/images/wpid-EventLoopAndEventExecutor3.jpg","shasum":"2fa9ffd6acb767bf9c8f23da2271354dba8bee63","modified":1451395815000},{"_id":"source/images/wpid-nio-oio.jpg","shasum":"ac7df496f41f1b549b41a4a4404a437ea18460c9","modified":1451395815000},{"_id":"source/images/reactors-in-threads-thread-pool.png","shasum":"cf1805741cd76ae36b85f51e3b5c455c418fa910","modified":1451395815000},{"_id":"source/images/reactors-in-threads.png","shasum":"31e20bc84b78d60af27998c0a154014babfb09dd","modified":1451395815000},{"_id":"source/images/solr-DocSet.png","shasum":"08891f7f7c7f3ee40161f9b8a01012249e5d9151","modified":1451395815000},{"_id":"source/images/wpid-Channel.png","shasum":"06acf8025d55d644ecb8d153a62c438ce6f07b8f","modified":1451395815000},{"_id":"source/images/wpid-Netty-ChannelPipeline-.png","shasum":"3b02ee73f26fcc6a782a8cb6b3af22b6e7d2be7d","modified":1451395815000},{"_id":"source/images/wpid-Multi-reactors3.png","shasum":"c18acca0c970ff38beb9605f03819eae331a0d1b","modified":1451395815000},{"_id":"source/images/wpid-Netty-thread-model3.png","shasum":"c55d7b5776528103b4e6e207d8d44aa09d7faf79","modified":1451395815000},{"_id":"source/images/ranksystem-in-social-network.png","shasum":"6250cb26042719803f5c641cc14ef10401c8675e","modified":1451396159000},{"_id":"source/upload/java-at-alibaba.pptx","shasum":"bd213366da7aeac6bb98721ed84972ac62070298","modified":1451395815000},{"_id":"themes/next/source/css/_common/_page/home.styl","shasum":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1451395815000},{"_id":"themes/next/source/css/_mixins/Mist.styl","shasum":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1451395815000},{"_id":"themes/next/source/css/_mixins/custom.styl","shasum":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1451395815000},{"_id":"themes/next/source/css/_mixins/default.styl","shasum":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1451395815000},{"_id":"themes/next/source/css/_variables/custom.styl","shasum":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1451395815000},{"_id":"themes/next/source/css/_variables/default.styl","shasum":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1451395815000},{"_id":"themes/next/_config.yml","shasum":"d54512d01a4f7aa029b02b12e3c8ee6439e0d708","modified":1451395815000},{"_id":"themes/next/README.en.md","shasum":"565ba52b3825b85a9f05b41183caca7f18b741d4","modified":1451395815000},{"_id":"themes/next/languages/de.yml","shasum":"7a8de0e5665c52a1bf168c1e7dd222c8a74fb0ab","modified":1451395815000},{"_id":"themes/next/languages/default.yml","shasum":"7e65ef918f16d0189055deb5f1616b9dedcb1920","modified":1451395815000},{"_id":"themes/next/languages/en.yml","shasum":"7e65ef918f16d0189055deb5f1616b9dedcb1920","modified":1451395815000},{"_id":"themes/next/languages/fr-FR.yml","shasum":"6d097445342a9fb5235afea35d65bf5271b772f0","modified":1451395815000},{"_id":"themes/next/languages/ru.yml","shasum":"b4a827b9ddac9d5f6dca096fe513aeafb46a3e93","modified":1451395815000},{"_id":"themes/next/README.md","shasum":"3319de8565699fc9642f76c41ee96b50f2234b6a","modified":1451395815000},{"_id":"themes/next/bower.json","shasum":"1bdb0641bdcb9b5b154d2e379c57fe5675f06b9c","modified":1451395815000},{"_id":"themes/next/diff.md","shasum":"d52974f90b9ac8f7d770b426dad0d1bf8acb05ca","modified":1451395815000},{"_id":"themes/next/languages/zh-Hans.yml","shasum":"8af76df5557561050a950bdd7091d3bb3939c5c0","modified":1451395815000},{"_id":"themes/next/languages/zh-hk.yml","shasum":"3fc38103c9efa6f6c37149adbddb014ff85ec849","modified":1451395815000},{"_id":"themes/next/languages/zh-tw.yml","shasum":"8897a06e521b36c7a1226c72057c8357611eded8","modified":1451395815000},{"_id":"themes/next/layout/_layout.swig","shasum":"07fd733b050577e90fa69c50faa4f630c1cc0dba","modified":1451395815000},{"_id":"themes/next/layout/_macro/post-collapse.swig","shasum":"42927bdde998cefd3cf4f19b0476d69bd9e5116a","modified":1451395815000},{"_id":"themes/next/layout/_macro/post.swig","shasum":"598b3085b6b74f4664eb66e6ae8737920e07d7a9","modified":1451395815000},{"_id":"themes/next/layout/_macro/sidebar.swig","shasum":"b0c467b42073270db7db41907ce8881f64bf3793","modified":1451395815000},{"_id":"themes/next/layout/_partials/footer.swig","shasum":"44d513401032362655c40cae66e579dba8dd3d85","modified":1451395815000},{"_id":"themes/next/layout/_partials/head.swig","shasum":"fc9ab6752cbdd13f563b3969d039ef7cf05ab046","modified":1451395815000},{"_id":"themes/next/layout/_partials/header.swig","shasum":"eefb48589ed5b0894ac46883608618ac8a4dba3c","modified":1451395815000},{"_id":"themes/next/layout/_partials/pagination.swig","shasum":"d6c7f04eee4388d8f133eb5526b7c0875c321a30","modified":1451395815000},{"_id":"themes/next/layout/_partials/old-browsers.swig","shasum":"dbbfea810bf3a2ed9c83b9a6683037175aacfc67","modified":1451395815000},{"_id":"themes/next/layout/_partials/search/swiftype.swig","shasum":"00c2b49f6289198b0b2b4e157e4ee783277f32a7","modified":1451395815000},{"_id":"themes/next/layout/_partials/search/tinysou.swig","shasum":"2f92046e0b50ebd65abb7045b1cbbfc50abbb034","modified":1451395815000},{"_id":"themes/next/layout/_partials/search.swig","shasum":"64f14da26792a17bc27836c4e9d83190175f36e6","modified":1451395815000},{"_id":"themes/next/layout/_partials/share/duoshuo_share.swig","shasum":"89c5a5240ecb223acfe1d12377df5562a943fd5d","modified":1451395815000},{"_id":"themes/next/layout/_partials/share/jiathis.swig","shasum":"63315fcf210799f894208c9f512737096df84962","modified":1451395815000},{"_id":"themes/next/layout/_scripts/analytics/baidu-analytics.swig","shasum":"7c43d66da93cde65b473a7d6db2a86f9a42647d6","modified":1451395815000},{"_id":"themes/next/layout/_scripts/analytics/google-analytics.swig","shasum":"30a23fa7e816496fdec0e932aa42e2d13098a9c2","modified":1451395815000},{"_id":"themes/next/layout/_scripts/analytics.swig","shasum":"0ebbf76c2317faa8ba31365adba59331c2e0262c","modified":1451395815000},{"_id":"themes/next/layout/_scripts/baidushare.swig","shasum":"d726361945437cf6e48067b3dd041b7e36e98d85","modified":1451395815000},{"_id":"themes/next/layout/_scripts/bootstrap.scrollspy.swig","shasum":"85295f126836b95f0837d03e58228bb3cf8c4490","modified":1451395815000},{"_id":"themes/next/layout/_scripts/comments/disqus.swig","shasum":"3491d3cebabc8a28857200db28a1be65aad6adc2","modified":1451395815000},{"_id":"themes/next/layout/_scripts/comments/duoshuo.swig","shasum":"3351ea62225933f8045d036a79654e19e84d19a7","modified":1451395815000},{"_id":"themes/next/layout/_scripts/fancy-box.swig","shasum":"41b4ff1446060c88c33bf666a32277dcf12129f0","modified":1451395815000},{"_id":"themes/next/layout/_scripts/helpers.swig","shasum":"4d2cbfca0aaf546a2b5813288073e824c1498fdf","modified":1451395815000},{"_id":"themes/next/layout/_scripts/mathjax.swig","shasum":"abc52fefb276c52cbb19de5c214521dfcf2a10fd","modified":1451395815000},{"_id":"themes/next/layout/_scripts/motion.swig","shasum":"817705bfd1a1282cb6bf59094afe507e11455aa0","modified":1451395815000},{"_id":"themes/next/layout/_scripts/pages/post-details.swig","shasum":"b63ef233886538f30ced60344ac15d25e5f3e0af","modified":1451395815000},{"_id":"themes/next/layout/archive.swig","shasum":"0c3ce594759f347ea90a4ce592a7a18e2ae4cc5c","modified":1451395815000},{"_id":"themes/next/layout/category.swig","shasum":"d6b3e1dc5e0b8deade9a084c463126e70188ee9b","modified":1451395815000},{"_id":"themes/next/layout/index.swig","shasum":"fdc801f0da71a2eb205ce9c0b12f156b219fdc9c","modified":1451395815000},{"_id":"themes/next/layout/page.swig","shasum":"8019d02232a6dd1a665b6a4d2daef8e5dd2f0049","modified":1451395815000},{"_id":"themes/next/layout/post.swig","shasum":"a84457e8ced46e63bc7a8a9e0541a6ba53122a92","modified":1451395815000},{"_id":"themes/next/layout/tag.swig","shasum":"aab44af54fcbc66fea4ad12b2767ffca3eadd451","modified":1451395815000},{"_id":"themes/next/scripts/merge-configs.js","shasum":"dfd147d1317e56d283f5e779f00608e913603b51","modified":1451395815000},{"_id":"themes/next/scripts/tags/center-quote.js","shasum":"37274f743c2054244dcbbde56fba9ff353414281","modified":1451395815000},{"_id":"themes/next/scripts/tags/full-image.js","shasum":"0d69739d1bad5861a4a6ff2db511c3669783e438","modified":1451395815000},{"_id":"themes/next/source/css/_common/_component/back-to-top.styl","shasum":"88cd66910260006aa8e9e795df4948d4b67bfa11","modified":1451395815000},{"_id":"themes/next/source/css/_common/_component/buttons.styl","shasum":"81063e0979f04a0f9af37f321d7321dda9abf593","modified":1451395815000},{"_id":"themes/next/source/css/_common/_component/comments.styl","shasum":"54e73681ba6f57ef961138f94d2ee8ac845990c3","modified":1451395815000},{"_id":"themes/next/source/css/_common/_component/duoshuo.styl","shasum":"c307f1e4827d7cb82816a5f9de109ae14ed4199c","modified":1451395815000},{"_id":"themes/next/source/css/_common/_component/gallery.styl","shasum":"387ce23bba52b22a586b2dfb4ec618fe1ffd3926","modified":1451395815000},{"_id":"themes/next/source/css/_common/_component/jiathis.styl","shasum":"327b5f63d55ec26f7663185c1a778440588d9803","modified":1451395815000},{"_id":"themes/next/source/css/_common/_component/pagination.styl","shasum":"711c8830886619d4f4a0598b0cde5499dce50c62","modified":1451395815000},{"_id":"themes/next/source/css/_common/_component/posts-collapse.styl","shasum":"8f9e8f5f65956ccf1d52ff8526392803dff579d3","modified":1451395815000},{"_id":"themes/next/source/css/_common/_component/posts-expand.styl","shasum":"4b82dbbb6e536e6e8ee3cec6e62c2fd4bea60a09","modified":1451395815000},{"_id":"themes/next/source/css/_common/_component/posts-type.styl","shasum":"40b593134bf96d1d6095b3439d47820659d7f10b","modified":1451395815000},{"_id":"themes/next/source/css/_common/_component/tag-cloud.styl","shasum":"dd8a3b22fc2f222ac6e6c05bd8a773fb039169c0","modified":1451395815000},{"_id":"themes/next/source/css/_common/_core/base.styl","shasum":"e79a08484b191dca14ccfc005053eb95786dafae","modified":1451395815000},{"_id":"themes/next/source/css/_common/_core/helpers.styl","shasum":"41a31d651b60b4f458fc56a1d191dfbbdcb6d794","modified":1451395815000},{"_id":"themes/next/source/css/_common/_core/normalize.styl","shasum":"ece571f38180febaf02ace8187ead8318a300ea7","modified":1451395815000},{"_id":"themes/next/source/css/_common/_core/scaffolding.styl","shasum":"cbd7f1d5c72e3024b5d70dafb6ca93e2723652ab","modified":1451395815000},{"_id":"themes/next/source/css/_common/_core/tables.styl","shasum":"f142a185fda68bc579e89ead9a31bc8fa0f3ca8c","modified":1451395815000},{"_id":"themes/next/source/css/_common/_fonts/icon-default.styl","shasum":"8b809aef383bebaeb3f282b47675f3a364ce3569","modified":1451395815000},{"_id":"themes/next/source/css/_common/_fonts/icon-font.styl","shasum":"ec3f86739bede393cafcd3e31052c01115ae20d6","modified":1451395815000},{"_id":"themes/next/source/css/_common/_page/archive.styl","shasum":"dff879f55ca65fa79c07e9098719e53eeea7ac88","modified":1451395815000},{"_id":"themes/next/source/css/_common/_page/categories.styl","shasum":"4f696a2eaeee2f214adcf273eab25c62a398077a","modified":1451395815000},{"_id":"themes/next/source/css/_common/_page/post-detail.styl","shasum":"73796f6f13caa7151a2ee8e55755627e0d189f55","modified":1451395815000},{"_id":"themes/next/source/css/_common/_fonts/icon-feather.styl","shasum":"80413afacfa656322100ce1900fed1ebcd8f8f44","modified":1451395815000},{"_id":"themes/next/source/css/_common/_section/body.styl","shasum":"ca1a4766cbe25baac757c6b47a4858d221afdc40","modified":1451395815000},{"_id":"themes/next/source/css/_common/_fonts/icon-fifty-shades.styl","shasum":"249f75bafa26b99d272352c0646e7497ea680b39","modified":1451395815000},{"_id":"themes/next/source/css/_common/_section/footer.styl","shasum":"8994ffcce84deac0471532f270f97c44fea54dc0","modified":1451395815000},{"_id":"themes/next/source/css/_common/_section/header.styl","shasum":"ba501332fb111bd72dc0777f2e1c8a29ad538ff9","modified":1451395815000},{"_id":"themes/next/source/css/_common/_section/layout.styl","shasum":"4daaadd156ece64ae05908ad6bb0159c8a27c071","modified":1451395815000},{"_id":"themes/next/source/css/_common/_vendor/highlight/highlight.styl","shasum":"f3529b7da284c4b859429573c9b1004d32937e40","modified":1451395815000},{"_id":"themes/next/source/css/_common/_fonts/icon-linecons.styl","shasum":"9cdbedb3627ac941cfb063b152abe5a75c3c699a","modified":1451395815000},{"_id":"themes/next/source/css/_common/_section/media.styl","shasum":"fa9809d2ecc753cf32f70803c1d0821c405211f4","modified":1451395815000},{"_id":"themes/next/source/css/_common/_section/sidebar.styl","shasum":"d57e1769ebd2c472d2b27d17a706d3f564f94033","modified":1451395815000},{"_id":"themes/next/source/css/_common/_vendor/highlight/theme.styl","shasum":"ae19721ceee5ba460e131cb2427dae3c1ff39d6f","modified":1451395815000},{"_id":"themes/next/source/css/_custom/custom.styl","shasum":"68b6859fb48fe8358e567fc324f218cecfc3a533","modified":1451395815000},{"_id":"themes/next/source/css/_mixins/base.styl","shasum":"66985fe77bd323f7f8f634908e17166f51e96e95","modified":1451395815000},{"_id":"themes/next/source/css/_schemes/Mist/index.styl","shasum":"f3f4fac628d0b588cb40795d498110d33b11ce26","modified":1451395815000},{"_id":"themes/next/source/css/_variables/Mist.styl","shasum":"f5dda1ca48c1b73a0bd34e08413de57699f24083","modified":1451395815000},{"_id":"themes/next/source/css/_variables/base.styl","shasum":"9d5c6ffbef443ec0db66f418eefac17024ff6780","modified":1451395815000},{"_id":"themes/next/source/css/_schemes/default/_menu.styl","shasum":"4bba29cece65ffc5122f4e052063dea4439fe4ae","modified":1451395815000},{"_id":"themes/next/source/css/_schemes/default/_search.styl","shasum":"c524bccdc554349106d1c8be9c3f275d4c0d4281","modified":1451395815000},{"_id":"themes/next/source/css/main.styl","shasum":"b05c342e94ded24a5f2b203cedf77d3faa817fd5","modified":1451395815000},{"_id":"themes/next/source/css/_schemes/default/index.styl","shasum":"2588e55132e10d82c0608f03c2c72a2bace8fa4e","modified":1451395815000},{"_id":"themes/next/source/fonts/icon-default/icomoon.eot","shasum":"90763e97be18be78e65749075225cceeddc6fa8a","modified":1451395815000},{"_id":"themes/next/source/fonts/icon-default/icomoon.svg","shasum":"f92ad8cddc250f0bb5ca466fca95d321987e127e","modified":1451395815000},{"_id":"themes/next/source/fonts/icon-default/icomoon.ttf","shasum":"c093408e6030221cafc1f79d897f1fb5283c1178","modified":1451395815000},{"_id":"themes/next/source/fonts/icon-default/icomoon.woff","shasum":"dbe0368f2a65d87b13234cfea29d9783892fc7a8","modified":1451395815000},{"_id":"themes/next/source/fonts/icon-feather/icomoon.ttf","shasum":"b2bbae4b613403cf61ad25037913378da1c07b8f","modified":1451395815000},{"_id":"themes/next/source/fonts/icon-default/selection.json","shasum":"dc07c29f687315f9458f6b251c214768af865fb2","modified":1451395815000},{"_id":"themes/next/source/fonts/icon-feather/icomoon.eot","shasum":"11554b9e9d5b9f535ba96cbb27d45d8c8f1689fd","modified":1451395815000},{"_id":"themes/next/source/fonts/icon-feather/icomoon.svg","shasum":"d5eb756eefda9b454dcb23c2b1cefd4051d18d41","modified":1451395815000},{"_id":"themes/next/source/fonts/icon-feather/icomoon.woff","shasum":"2ea1c59c17422798e64ee6f4e9ce1f7aff1a06a5","modified":1451395815000},{"_id":"themes/next/source/fonts/icon-fifty-shades/icomoon.ttf","shasum":"72fe82e1f3db52414eed706952d385af241cb196","modified":1451395815000},{"_id":"themes/next/source/fonts/icon-feather/selection.json","shasum":"06ea91e3f98ebe1080087acad4356802bc5b6ebf","modified":1451395815000},{"_id":"themes/next/source/fonts/icon-fifty-shades/icomoon.eot","shasum":"da86ba5df72d1288de9e9633e5f528062dd427d5","modified":1451395815000},{"_id":"themes/next/source/fonts/icon-fifty-shades/icomoon.svg","shasum":"1a4afd739e1f8eb8d430dbdd29e36a9999802e8d","modified":1451395815000},{"_id":"themes/next/source/fonts/icon-fifty-shades/icomoon.woff","shasum":"4de6a74f523dee33d95dde61caae5809f9a5d448","modified":1451395815000},{"_id":"themes/next/source/fonts/icon-icomoon/icomoon.ttf","shasum":"f399713d1c9400d4d3373e38991a7e362a754a94","modified":1451395815000},{"_id":"themes/next/source/fonts/icon-fifty-shades/selection.json","shasum":"fdd09098d1c3688e2c88cf33fd51e76b383b6d7f","modified":1451395815000},{"_id":"themes/next/source/fonts/icon-icomoon/icomoon.eot","shasum":"301fcf00c24750dddf1c529f944ca62c7f1a217d","modified":1451395815000},{"_id":"themes/next/source/fonts/icon-icomoon/icomoon.svg","shasum":"e316347805eb93425faa678611c5e42a7152da8f","modified":1451395815000},{"_id":"themes/next/source/fonts/icon-icomoon/icomoon.woff","shasum":"05f1ec0bd307da5e731a86eb4961589a6042aebb","modified":1451395815000},{"_id":"themes/next/source/fonts/icon-linecons/icomoon.ttf","shasum":"078068206684e4f185b0187ad3cee16f54a287d7","modified":1451395815000},{"_id":"themes/next/source/fonts/icon-linecons/icomoon.eot","shasum":"e2d7f040428a632f3c50bfa94083b759936effc2","modified":1451395815000},{"_id":"themes/next/source/fonts/icon-linecons/icomoon.svg","shasum":"808eaf7d61f7e67c76976265c885e79c36920f0b","modified":1451395815000},{"_id":"themes/next/source/fonts/icon-linecons/icomoon.woff","shasum":"0b07ee6ceda3b1bceb40c1e7379b3aa48dcc15a8","modified":1451395815000},{"_id":"themes/next/source/fonts/icon-linecons/selection.json","shasum":"db4ce25d31449ecc6685b32e145252103967bb5c","modified":1451395815000},{"_id":"themes/next/source/images/bkdefault_avatar.jpg","shasum":"b687bb4bfbe35a32b592c24d652ba80cfdc770fc","modified":1451395815000},{"_id":"themes/next/source/images/cc-by-nc-nd.svg","shasum":"c6524ece3f8039a5f612feaf865d21ec8a794564","modified":1451395815000},{"_id":"themes/next/source/images/cc-by-nc-sa.svg","shasum":"3031be41e8753c70508aa88e84ed8f4f653f157e","modified":1451395815000},{"_id":"themes/next/source/images/cc-by-nc.svg","shasum":"8d39b39d88f8501c0d27f8df9aae47136ebc59b7","modified":1451395815000},{"_id":"themes/next/source/images/cc-by-nd.svg","shasum":"c563508ce9ced1e66948024ba1153400ac0e0621","modified":1451395815000},{"_id":"themes/next/source/images/cc-by.svg","shasum":"28a0a4fe355a974a5e42f68031652b76798d4f7e","modified":1451395815000},{"_id":"themes/next/source/images/hongweiyi.jpg","shasum":"032b54ac39b0ba0bcd4e2f7497b0599d3f931ca8","modified":1451395815000},{"_id":"themes/next/source/images/cc-by-sa.svg","shasum":"aa4742d733c8af8d38d4c183b8adbdcab045872e","modified":1451395815000},{"_id":"themes/next/source/images/cc-zero.svg","shasum":"87669bf8ac268a91d027a0a4802c92a1473e9030","modified":1451395815000},{"_id":"themes/next/source/images/loading.gif","shasum":"5fbd472222feb8a22cf5b8aa5dc5b8e13af88e2b","modified":1451395815000},{"_id":"themes/next/source/js/bootstrap.scrollspy.js","shasum":"ae7bdce88b515aade4eea8bf7407eec458bcd625","modified":1451395815000},{"_id":"themes/next/source/js/helpers.js","shasum":"c2117b0ec653df4c45dd9d9575b190cbe1035335","modified":1451395815000},{"_id":"themes/next/source/js/fancy-box.js","shasum":"116cafc741e048497287121a508d7a54c050c70c","modified":1451395815000},{"_id":"themes/next/source/js/hook-duoshuo.js","shasum":"a34b872747db57bf2577155c3169e552916090b5","modified":1451395815000},{"_id":"themes/next/source/images/placeholder.gif","shasum":"5fbd472222feb8a22cf5b8aa5dc5b8e13af88e2b","modified":1451395815000},{"_id":"themes/next/source/js/lazyload.js","shasum":"b92e9acdc7afc15468314c03f4a643b0c93944cf","modified":1451395815000},{"_id":"themes/next/source/js/motion_global.js","shasum":"367e329b2cc19c6b7634ea2917a218c84a22ec17","modified":1451395815000},{"_id":"themes/next/source/js/nav-toggle.js","shasum":"78b59f1beb12adea0d7f9bcf4377cb699963f220","modified":1451395815000},{"_id":"themes/next/source/vendors/fancybox/source/blank.gif","shasum":"2daeaa8b5f19f0bc209d976c02bd6acb51b00b0a","modified":1451395815000},{"_id":"themes/next/source/images/searchicon.png","shasum":"67727a6a969be0b2659b908518fa6706eed307b8","modified":1451395815000},{"_id":"themes/next/source/js/ua-parser.min.js","shasum":"acf0ee6a47ffb7231472b56e43996e3f947c258a","modified":1451395815000},{"_id":"themes/next/source/vendors/fancybox/source/fancybox_overlay.png","shasum":"b3a4ee645ba494f52840ef8412015ba0f465dbe0","modified":1451395815000},{"_id":"themes/next/source/vendors/fancybox/source/fancybox_loading@2x.gif","shasum":"273b123496a42ba45c3416adb027cd99745058b0","modified":1451395815000},{"_id":"themes/next/source/vendors/fancybox/source/fancybox_sprite@2x.png","shasum":"30c58913f327e28f466a00f4c1ac8001b560aed8","modified":1451395815000},{"_id":"themes/next/source/js/motion_fallback.js","shasum":"a767d522c65a8b2fbad49135c9332135c6785c3e","modified":1451395815000},{"_id":"themes/next/source/vendors/fancybox/source/fancybox_loading.gif","shasum":"1a755fb2599f3a313cc6cfdb14df043f8c14a99c","modified":1451395815000},{"_id":"themes/next/source/vendors/fancybox/source/fancybox_sprite.png","shasum":"17df19f97628e77be09c352bf27425faea248251","modified":1451395815000},{"_id":"themes/next/source/vendors/fancybox/source/helpers/fancybox_buttons.png","shasum":"e385b139516c6813dcd64b8fc431c364ceafe5f3","modified":1451395815000},{"_id":"themes/next/source/vendors/fancybox/source/helpers/jquery.fancybox-buttons.css","shasum":"1a9d8e5c22b371fcc69d4dbbb823d9c39f04c0c8","modified":1451395815000},{"_id":"themes/next/source/vendors/fancybox/source/helpers/jquery.fancybox-buttons.js","shasum":"91e41741c2e93f732c82aaacec4cfc6e3f3ec876","modified":1451395815000},{"_id":"themes/next/source/vendors/fancybox/source/jquery.fancybox.css","shasum":"5f163444617b6cf267342f06ac166a237bb62df9","modified":1451395815000},{"_id":"themes/next/source/vendors/fancybox/source/helpers/jquery.fancybox-media.js","shasum":"3bdf69ed2469e4fb57f5a95f17300eef891ff90d","modified":1451395815000},{"_id":"themes/next/source/vendors/fancybox/source/jquery.fancybox.pack.js","shasum":"53360764b429c212f424399384417ccc233bb3be","modified":1451395815000},{"_id":"themes/next/source/vendors/fancybox/source/helpers/jquery.fancybox-thumbs.css","shasum":"4ac329c16a5277592fc12a37cca3d72ca4ec292f","modified":1451395815000},{"_id":"themes/next/source/vendors/fancybox/source/helpers/jquery.fancybox-thumbs.js","shasum":"53e194f4a72e649c04fb586dd57762b8c022800b","modified":1451395815000},{"_id":"themes/next/source/vendors/fastclick/bower.json","shasum":"13379463c7463b4b96d13556b46faa4cc38d81e6","modified":1451395815000},{"_id":"themes/next/source/vendors/fastclick/LICENSE","shasum":"dcd5b6b43095d9e90353a28b09cb269de8d4838e","modified":1451395815000},{"_id":"themes/next/source/vendors/fastclick/README.md","shasum":"1decd8e1adad2cd6db0ab50cf56de6035156f4ea","modified":1451395815000},{"_id":"themes/next/source/vendors/fastclick/lib/fastclick.min.js","shasum":"2cae0f5a6c5d6f3cb993015e6863f9483fc4de18","modified":1451395815000},{"_id":"themes/next/source/vendors/fancybox/source/jquery.fancybox.js","shasum":"1cf3d47b5ccb7cb6e9019c64f2a88d03a64853e4","modified":1451395815000},{"_id":"themes/next/source/vendors/velocity/velocity.min.js","shasum":"2f1afadc12e4cf59ef3b405308d21baa97e739c6","modified":1451395815000},{"_id":"themes/next/source/vendors/velocity/bower.json","shasum":"2ec99573e84c7117368beccb9e94b6bf35d2db03","modified":1451395815000},{"_id":"themes/next/source/vendors/velocity/velocity.ui.min.js","shasum":"ed5e534cd680a25d8d14429af824f38a2c7d9908","modified":1451395815000},{"_id":"themes/next/source/vendors/fastclick/lib/fastclick.js","shasum":"06cef196733a710e77ad7e386ced6963f092dc55","modified":1451395815000},{"_id":"themes/next/test/helpers.js","shasum":"a1f5de25154c3724ffc24a91ddc576cdbd60864f","modified":1451395815000},{"_id":"themes/next/test/intern.js","shasum":"11fa8a4f5c3b4119a179ae0a2584c8187f907a73","modified":1451395815000},{"_id":"themes/next/source/vendors/velocity/velocity.ui.js","shasum":"6a1d101eab3de87527bb54fcc8c7b36b79d8f0df","modified":1451395815000},{"_id":"themes/next/source/vendors/jquery/index.js","shasum":"41b4bfbaa96be6d1440db6e78004ade1c134e276","modified":1451395815000},{"_id":"themes/next/source/vendors/velocity/velocity.js","shasum":"e63dc7cea055ca60a95d286f32349d88b10c5a4d","modified":1451395815000},{"_id":"public/CNAME","modified":1451396321467,"shasum":"0ac7ddcf1b989fbcc91f6ca144101324ffac8de4"},{"_id":"public/upload/java-at-alibaba.pptx","modified":1451396321471,"shasum":"bd213366da7aeac6bb98721ed84972ac62070298"},{"_id":"public/images/wpid-nio-oio.jpg","modified":1451396321475,"shasum":"ac7df496f41f1b549b41a4a4404a437ea18460c9"},{"_id":"public/images/wpid-Netty-thread-model3.png","modified":1451396321477,"shasum":"c55d7b5776528103b4e6e207d8d44aa09d7faf79"},{"_id":"public/images/wpid-Netty-ChannelPipeline-.png","modified":1451396321479,"shasum":"3b02ee73f26fcc6a782a8cb6b3af22b6e7d2be7d"},{"_id":"public/images/wpid-Multi-reactors3.png","modified":1451396321481,"shasum":"c18acca0c970ff38beb9605f03819eae331a0d1b"},{"_id":"public/images/wpid-EventLoopAndEventExecutor3.jpg","modified":1451396321483,"shasum":"2fa9ffd6acb767bf9c8f23da2271354dba8bee63"},{"_id":"public/images/wpid-Channel.png","modified":1451396321485,"shasum":"06acf8025d55d644ecb8d153a62c438ce6f07b8f"},{"_id":"public/images/solr-DocSet.png","modified":1451396321487,"shasum":"08891f7f7c7f3ee40161f9b8a01012249e5d9151"},{"_id":"public/images/reactors-in-threads.png","modified":1451396321489,"shasum":"31e20bc84b78d60af27998c0a154014babfb09dd"},{"_id":"public/images/reactors-in-threads-thread-pool.png","modified":1451396321492,"shasum":"cf1805741cd76ae36b85f51e3b5c455c418fa910"},{"_id":"public/images/reactor-thread-pool.png","modified":1451396321493,"shasum":"2698dc114f10fdddef468dd49f23338f743c319e"},{"_id":"public/images/reactor-single-thread.png","modified":1451396321495,"shasum":"799dbea22e802bf51877500c9d7a80621baadc44"},{"_id":"public/images/ranksystem-in-social-network.png","modified":1451396321497,"shasum":"6250cb26042719803f5c641cc14ef10401c8675e"},{"_id":"public/images/facet-1.png","modified":1451396321499,"shasum":"938bd19a87b24de5485960176c817bdac85b6093"},{"_id":"public/images/bytebuf-priciple.png","modified":1451396321500,"shasum":"f2abcaa081d341f8b6aaa1c7c19e7c562329475b"},{"_id":"public/images/bytebuf-diagram.jpg","modified":1451396321501,"shasum":"81f2c3c1b19f01d6af05b2de19124c93ea3cad23"},{"_id":"public/images/bytebuf-combine-slice-buffer.png","modified":1451396321503,"shasum":"a073deecce1516d12e2270f373ccfa8bc57b87fd"},{"_id":"public/favicon.png","modified":1451396321505,"shasum":"6cdd78df2d91e397f08a981df6e5bb58896f1f80"},{"_id":"public/vendors/velocity/velocity.ui.min.js","modified":1451396321506,"shasum":"ed5e534cd680a25d8d14429af824f38a2c7d9908"},{"_id":"public/vendors/velocity/velocity.ui.js","modified":1451396321507,"shasum":"6a1d101eab3de87527bb54fcc8c7b36b79d8f0df"},{"_id":"public/vendors/velocity/velocity.min.js","modified":1451396321508,"shasum":"2f1afadc12e4cf59ef3b405308d21baa97e739c6"},{"_id":"public/vendors/velocity/velocity.js","modified":1451396321512,"shasum":"9f08181baea0cc0e906703b7e5df9111b9ef3373"},{"_id":"public/vendors/velocity/bower.json","modified":1451396321513,"shasum":"0ef14e7ccdfba5db6eb3f8fc6aa3b47282c36409"},{"_id":"public/vendors/jquery/index.js","modified":1451396321515,"shasum":"41b4bfbaa96be6d1440db6e78004ade1c134e276"},{"_id":"public/vendors/fastclick/lib/fastclick.min.js","modified":1451396321516,"shasum":"2cae0f5a6c5d6f3cb993015e6863f9483fc4de18"},{"_id":"public/vendors/fastclick/lib/fastclick.js","modified":1451396321517,"shasum":"06cef196733a710e77ad7e386ced6963f092dc55"},{"_id":"public/vendors/fastclick/bower.json","modified":1451396321517,"shasum":"4dcecf83afddba148464d5339c93f6d0aa9f42e9"},{"_id":"public/vendors/fastclick/README.html","modified":1451396321527,"shasum":"4a6074903daa9004301ef30a6fb96556ba3eab60"},{"_id":"public/vendors/fastclick/LICENSE","modified":1451396321530,"shasum":"dcd5b6b43095d9e90353a28b09cb269de8d4838e"},{"_id":"public/vendors/fancybox/source/jquery.fancybox.pack.js","modified":1451396321532,"shasum":"53360764b429c212f424399384417ccc233bb3be"},{"_id":"public/vendors/fancybox/source/jquery.fancybox.js","modified":1451396321533,"shasum":"1cf3d47b5ccb7cb6e9019c64f2a88d03a64853e4"},{"_id":"public/vendors/fancybox/source/jquery.fancybox.css","modified":1451396321534,"shasum":"5f163444617b6cf267342f06ac166a237bb62df9"},{"_id":"public/vendors/fancybox/source/helpers/jquery.fancybox-thumbs.js","modified":1451396321535,"shasum":"53e194f4a72e649c04fb586dd57762b8c022800b"},{"_id":"public/vendors/fancybox/source/helpers/jquery.fancybox-thumbs.css","modified":1451396321536,"shasum":"4ac329c16a5277592fc12a37cca3d72ca4ec292f"},{"_id":"public/vendors/fancybox/source/helpers/jquery.fancybox-media.js","modified":1451396321537,"shasum":"3bdf69ed2469e4fb57f5a95f17300eef891ff90d"},{"_id":"public/vendors/fancybox/source/helpers/jquery.fancybox-buttons.js","modified":1451396321537,"shasum":"91e41741c2e93f732c82aaacec4cfc6e3f3ec876"},{"_id":"public/vendors/fancybox/source/helpers/jquery.fancybox-buttons.css","modified":1451396321538,"shasum":"1a9d8e5c22b371fcc69d4dbbb823d9c39f04c0c8"},{"_id":"public/vendors/fancybox/source/helpers/fancybox_buttons.png","modified":1451396321539,"shasum":"e385b139516c6813dcd64b8fc431c364ceafe5f3"},{"_id":"public/vendors/fancybox/source/fancybox_sprite@2x.png","modified":1451396321541,"shasum":"30c58913f327e28f466a00f4c1ac8001b560aed8"},{"_id":"public/vendors/fancybox/source/fancybox_sprite.png","modified":1451396321544,"shasum":"17df19f97628e77be09c352bf27425faea248251"},{"_id":"public/vendors/fancybox/source/fancybox_overlay.png","modified":1451396321545,"shasum":"b3a4ee645ba494f52840ef8412015ba0f465dbe0"},{"_id":"public/vendors/fancybox/source/fancybox_loading@2x.gif","modified":1451396321547,"shasum":"273b123496a42ba45c3416adb027cd99745058b0"},{"_id":"public/vendors/fancybox/source/fancybox_loading.gif","modified":1451396321549,"shasum":"1a755fb2599f3a313cc6cfdb14df043f8c14a99c"},{"_id":"public/vendors/fancybox/source/blank.gif","modified":1451396321550,"shasum":"2daeaa8b5f19f0bc209d976c02bd6acb51b00b0a"},{"_id":"public/js/ua-parser.min.js","modified":1451396321551,"shasum":"acf0ee6a47ffb7231472b56e43996e3f947c258a"},{"_id":"public/js/nav-toggle.js","modified":1451396321552,"shasum":"78b59f1beb12adea0d7f9bcf4377cb699963f220"},{"_id":"public/js/motion_global.js","modified":1451396321553,"shasum":"367e329b2cc19c6b7634ea2917a218c84a22ec17"},{"_id":"public/js/motion_fallback.js","modified":1451396321555,"shasum":"a767d522c65a8b2fbad49135c9332135c6785c3e"},{"_id":"public/js/lazyload.js","modified":1451396321556,"shasum":"b92e9acdc7afc15468314c03f4a643b0c93944cf"},{"_id":"public/js/hook-duoshuo.js","modified":1451396321556,"shasum":"9881b19132ad90dffd82c53947e4c356e30353e7"},{"_id":"public/js/helpers.js","modified":1451396321557,"shasum":"c2117b0ec653df4c45dd9d9575b190cbe1035335"},{"_id":"public/js/fancy-box.js","modified":1451396321558,"shasum":"116cafc741e048497287121a508d7a54c050c70c"},{"_id":"public/js/bootstrap.scrollspy.js","modified":1451396321559,"shasum":"ae7bdce88b515aade4eea8bf7407eec458bcd625"},{"_id":"public/images/searchicon.png","modified":1451396321560,"shasum":"67727a6a969be0b2659b908518fa6706eed307b8"},{"_id":"public/images/placeholder.gif","modified":1451396321561,"shasum":"5fbd472222feb8a22cf5b8aa5dc5b8e13af88e2b"},{"_id":"public/images/loading.gif","modified":1451396321563,"shasum":"5fbd472222feb8a22cf5b8aa5dc5b8e13af88e2b"},{"_id":"public/images/hongweiyi.jpg","modified":1451396321564,"shasum":"032b54ac39b0ba0bcd4e2f7497b0599d3f931ca8"},{"_id":"public/images/cc-zero.svg","modified":1451396321564,"shasum":"87669bf8ac268a91d027a0a4802c92a1473e9030"},{"_id":"public/images/cc-by.svg","modified":1451396321565,"shasum":"28a0a4fe355a974a5e42f68031652b76798d4f7e"},{"_id":"public/images/cc-by-sa.svg","modified":1451396321569,"shasum":"aa4742d733c8af8d38d4c183b8adbdcab045872e"},{"_id":"public/images/cc-by-nd.svg","modified":1451396321569,"shasum":"c563508ce9ced1e66948024ba1153400ac0e0621"},{"_id":"public/images/cc-by-nc.svg","modified":1451396321570,"shasum":"8d39b39d88f8501c0d27f8df9aae47136ebc59b7"},{"_id":"public/images/cc-by-nc-sa.svg","modified":1451396321572,"shasum":"3031be41e8753c70508aa88e84ed8f4f653f157e"},{"_id":"public/images/cc-by-nc-nd.svg","modified":1451396321573,"shasum":"c6524ece3f8039a5f612feaf865d21ec8a794564"},{"_id":"public/images/bkdefault_avatar.jpg","modified":1451396321574,"shasum":"b687bb4bfbe35a32b592c24d652ba80cfdc770fc"},{"_id":"public/fonts/icon-linecons/selection.json","modified":1451396321576,"shasum":"68da6ea1b3ab9355d42694bf5745071cdefa4a65"},{"_id":"public/fonts/icon-linecons/icomoon.woff","modified":1451396321577,"shasum":"0b07ee6ceda3b1bceb40c1e7379b3aa48dcc15a8"},{"_id":"public/fonts/icon-linecons/icomoon.ttf","modified":1451396321578,"shasum":"078068206684e4f185b0187ad3cee16f54a287d7"},{"_id":"public/fonts/icon-linecons/icomoon.svg","modified":1451396321579,"shasum":"808eaf7d61f7e67c76976265c885e79c36920f0b"},{"_id":"public/fonts/icon-linecons/icomoon.eot","modified":1451396321580,"shasum":"e2d7f040428a632f3c50bfa94083b759936effc2"},{"_id":"public/fonts/icon-icomoon/icomoon.woff","modified":1451396321581,"shasum":"05f1ec0bd307da5e731a86eb4961589a6042aebb"},{"_id":"public/fonts/icon-icomoon/icomoon.ttf","modified":1451396321583,"shasum":"f399713d1c9400d4d3373e38991a7e362a754a94"},{"_id":"public/fonts/icon-icomoon/icomoon.svg","modified":1451396321584,"shasum":"e316347805eb93425faa678611c5e42a7152da8f"},{"_id":"public/fonts/icon-icomoon/icomoon.eot","modified":1451396321585,"shasum":"301fcf00c24750dddf1c529f944ca62c7f1a217d"},{"_id":"public/fonts/icon-fifty-shades/selection.json","modified":1451396321587,"shasum":"e5a5042e8e516b1d30fa3b1206d2c74921cec72b"},{"_id":"public/fonts/icon-fifty-shades/icomoon.woff","modified":1451396321588,"shasum":"4de6a74f523dee33d95dde61caae5809f9a5d448"},{"_id":"public/fonts/icon-fifty-shades/icomoon.ttf","modified":1451396321589,"shasum":"72fe82e1f3db52414eed706952d385af241cb196"},{"_id":"public/fonts/icon-fifty-shades/icomoon.svg","modified":1451396321590,"shasum":"1a4afd739e1f8eb8d430dbdd29e36a9999802e8d"},{"_id":"public/fonts/icon-fifty-shades/icomoon.eot","modified":1451396321591,"shasum":"da86ba5df72d1288de9e9633e5f528062dd427d5"},{"_id":"public/fonts/icon-feather/selection.json","modified":1451396321594,"shasum":"d95a90b0d541e48b049902090c0d008ad92b4115"},{"_id":"public/fonts/icon-feather/icomoon.woff","modified":1451396321595,"shasum":"2ea1c59c17422798e64ee6f4e9ce1f7aff1a06a5"},{"_id":"public/fonts/icon-feather/icomoon.ttf","modified":1451396321596,"shasum":"b2bbae4b613403cf61ad25037913378da1c07b8f"},{"_id":"public/fonts/icon-feather/icomoon.svg","modified":1451396321600,"shasum":"d5eb756eefda9b454dcb23c2b1cefd4051d18d41"},{"_id":"public/fonts/icon-feather/icomoon.eot","modified":1451396321601,"shasum":"11554b9e9d5b9f535ba96cbb27d45d8c8f1689fd"},{"_id":"public/fonts/icon-default/selection.json","modified":1451396321603,"shasum":"ff1b9b78eced4d0368d14cc192ac67a0dd498593"},{"_id":"public/fonts/icon-default/icomoon.woff","modified":1451396321606,"shasum":"dbe0368f2a65d87b13234cfea29d9783892fc7a8"},{"_id":"public/fonts/icon-default/icomoon.ttf","modified":1451396321607,"shasum":"c093408e6030221cafc1f79d897f1fb5283c1178"},{"_id":"public/fonts/icon-default/icomoon.svg","modified":1451396321608,"shasum":"f92ad8cddc250f0bb5ca466fca95d321987e127e"},{"_id":"public/fonts/icon-default/icomoon.eot","modified":1451396321609,"shasum":"90763e97be18be78e65749075225cceeddc6fa8a"},{"_id":"public/css/main.css","modified":1451396321828,"shasum":"43de6288a4496c3c93d4a42549d6886dad871767"},{"_id":"public/tags/index.html","modified":1451396321973,"shasum":"8085d42b5c40cc6e5a97806f3c5a0049786e0b91"},{"_id":"public/2015/12/29/remoting-practice/index.html","modified":1451396322021,"shasum":"84b8151098a638971c27abd0bbae5390e2311665"},{"_id":"public/2015/10/24/oom-killer-1/index.html","modified":1451396322078,"shasum":"e4c19b7126b096c5a38704552d3cda7fade74f53"},{"_id":"public/2015/10/14/docker-volume-plugin/index.html","modified":1451396322123,"shasum":"4fd29487a36e02b8a761f9e481d279009248e868"},{"_id":"public/2015/10/08/docker-compose-pratice/index.html","modified":1451396322159,"shasum":"87eaf1e698e6736a81c38771ffe6219d1e5008df"},{"_id":"public/2015/09/01/java-source-code-practice/index.html","modified":1451396322211,"shasum":"fe08804dcca46a0befbdaaefd147777a7bacedf6"},{"_id":"public/2015/08/30/css-practice/index.html","modified":1451396322263,"shasum":"5c193cb8d7c8d9791f19ebdf4748f911eacd1d24"},{"_id":"public/2015/08/28/git-practice/index.html","modified":1451396322328,"shasum":"12f83aba3f0d35f39d071a2b1856c9f98ed4a6bb"},{"_id":"public/2015/08/28/java-practice/index.html","modified":1451396322368,"shasum":"07a56f0f2ca1bff6343b963f4b14bd66cdf2de48"},{"_id":"public/2015/08/28/README/index.html","modified":1451396322423,"shasum":"36bcbd223b98fa9aa09fa886212c3849ab71aedc"},{"_id":"public/2015/03/16/oom-killer-1-1/index.html","modified":1451396322470,"shasum":"fdd2b21ff55af6c2ffefdc72feb9dd0d29e54eb8"},{"_id":"public/2014/10/21/i-need-an-answer-now-from-remote/index.html","modified":1451396322523,"shasum":"058113026d52a8b61efe2b3458d6c4152d1bc061"},{"_id":"public/2014/05/17/netty-mina-in-depth-2/index.html","modified":1451396322574,"shasum":"f60a2db927f2637f3983b8218053cb234e3fcba5"},{"_id":"public/2014/05/17/netty-mina-in-depth-1/index.html","modified":1451396322633,"shasum":"aa97e7b55c3f6b66699a50f73c75de3c35fba481"},{"_id":"public/2014/04/14/rework-digest/index.html","modified":1451396322666,"shasum":"dc0797b4354fbe8a434c9e2909a8d1e787c0cd77"},{"_id":"public/2014/04/13/forget-your-lusts-1/index.html","modified":1451396322704,"shasum":"728ecc17050f87aee103b3be1f92f16002f45af4"},{"_id":"public/2014/04/13/forget-your-lusts/index.html","modified":1451396322738,"shasum":"b363b3468e0610187a08c1857eb02c3bbcfe0b7a"},{"_id":"public/2014/01/14/netty-4-x-thread-model/index.html","modified":1451396322791,"shasum":"b7b3e24f5f29585f6895b05f26c41b68a3e695be"},{"_id":"public/2014/01/07/netty-4-x-channel-pipeline/index.html","modified":1451396322832,"shasum":"f00d4be0f5dd2fcb875770fde16881a902c12076"},{"_id":"public/2014/01/05/netty-4-x-bytebuf/index.html","modified":1451396322876,"shasum":"fae070ca0acfeb63aa51b99ca241c890168baae5"},{"_id":"public/2013/11/17/what-i-think-about-1111/index.html","modified":1451396322916,"shasum":"f0409c49a289bdcc73efaca6cf5ef869675737fd"},{"_id":"public/2013/11/07/my-macbook/index.html","modified":1451396322952,"shasum":"affced9a6e5231f1bc85b8eb2c6371b1fd1a52d6"},{"_id":"public/2013/10/22/once-java-profiling/index.html","modified":1451396322994,"shasum":"16482cc4b2ecccabfb0d0d6f7be4b0b1796e8188"},{"_id":"public/2013/08/31/solr-switch-query-parser/index.html","modified":1451396323028,"shasum":"dc6fead97aa2ffd3d049e4d6d69ea49c7cb359f2"},{"_id":"public/2013/05/28/multi-columns-group-by/index.html","modified":1451396323075,"shasum":"964239f5ebeb6a87cbed8b932d865b20cf9380dd"},{"_id":"public/2013/04/08/apache-solr-data-structrue-part-1/index.html","modified":1451396323108,"shasum":"32d4de38ee71d37921e344836030b25ec4e52a4b"},{"_id":"public/2013/04/08/apache-solr-data-structrue-part-2/index.html","modified":1451396323151,"shasum":"916c213fb0153488309d4bba859e247ce3bfd204"},{"_id":"public/2013/04/08/apache-solr-distributed-search/index.html","modified":1451396323190,"shasum":"71948cca28e66157f285ba794b1a0cd1f4c7af0f"},{"_id":"public/2013/03/27/apache-solr-facet-pivot-implementation-tranplant/index.html","modified":1451396323240,"shasum":"73e892b3acab33f0f3fc682dcb562a464262ecdb"},{"_id":"public/2013/03/23/apache-solr-facet-introduction/index.html","modified":1451396323293,"shasum":"24965e1d163d109d9d1ff5a32cb6d294d457d43f"},{"_id":"public/2013/03/21/re-equip-my-little-black/index.html","modified":1451396323342,"shasum":"1e9317e8e49d93d123600e1b83ca6f76f933f117"},{"_id":"public/2013/03/20/configurate-solr-src-in-eclipse/index.html","modified":1451396323397,"shasum":"5a1906571a6d3db36007e410fac5ebaafd52767d"},{"_id":"public/2013/03/18/maven-repositories/index.html","modified":1451396323447,"shasum":"779d4ccb93c8aa3051f8142a190d37902c24367f"},{"_id":"public/2013/03/17/maven-coordinates-dependencies/index.html","modified":1451396323504,"shasum":"c4a48bbf51bc03aecba597b39944d136a0c71e68"},{"_id":"public/2013/03/16/system-architecture-stuffs/index.html","modified":1451396323551,"shasum":"0806f9dd95c77b7ee8102f322e286085a5be40d5"},{"_id":"public/2013/03/05/les-miserables-lrc/index.html","modified":1451396323604,"shasum":"7f42b37e09af233c44e30c708328d821dee98872"},{"_id":"public/2013/01/22/linux-process-shell/index.html","modified":1451396323657,"shasum":"b341fc6e13d431514f4e84ee678f29bdbf2b05df"},{"_id":"public/2013/01/19/linux-text-shell/index.html","modified":1451396323725,"shasum":"704906a668da32d379faaea8a8585b9a580f3a8a"},{"_id":"public/2013/01/18/linux-file-directory-shell/index.html","modified":1451396323758,"shasum":"69c4835661a88a962d0fcf88f90d46ee6484adef"},{"_id":"public/2013/01/17/linux-shell-term-tuning/index.html","modified":1451396323800,"shasum":"365847c1cb81442125f1ae69b6bdc71ff44e22a1"},{"_id":"public/2013/01/03/2013-learning-plan/index.html","modified":1451396323831,"shasum":"aad66f29a2994ab8953f0a4cfea6b5d66113a46f"},{"_id":"public/2012/11/05/zookeeper-ephemeral-nodes-experience/index.html","modified":1451396323871,"shasum":"14cfdb355ad85d8dbeee4b9d482ae8e08ddde0c8"},{"_id":"public/2012/10/18/mapreduce-task-src-analysis/index.html","modified":1451396323905,"shasum":"869a33a579723acf990aababa2d7f77493485baf"},{"_id":"public/2012/09/27/mapred-optimize-writable/index.html","modified":1451396323944,"shasum":"ba6aacd81e2f0e45fdd28a59cf5052e5f1c926ca"},{"_id":"public/2012/09/18/hadoop-bug-in-text/index.html","modified":1451396323976,"shasum":"607a025e93f997be4e955e872445e3de76239922"},{"_id":"public/2012/09/06/apache-hadoop-yarn-background-and-an-overview/index.html","modified":1451396324021,"shasum":"de6f34ff89a89e3a778f9290852491c015fccf2a"},{"_id":"public/2012/07/25/the-nosql-ecosystem/index.html","modified":1451396324065,"shasum":"38be69b91c20ec6cadc2f17cc36f05307496c01a"},{"_id":"public/2012/06/23/google-doodle-for-turing/index.html","modified":1451396324098,"shasum":"426185973e51ab36dda66d5d15813fe2c5901764"},{"_id":"public/2012/05/13/hadoop-pipes-src/index.html","modified":1451396324138,"shasum":"3275fc3d100b61e77fb1edf869e7c74b49527657"},{"_id":"public/2012/05/12/hadoop-pipes/index.html","modified":1451396324179,"shasum":"765cfdbe5ad5ae35769dabc51abe0575c31941cb"},{"_id":"public/2012/04/26/relax-schrodinger-cat/index.html","modified":1451396324219,"shasum":"411371f4d3fd5acc7b4c954d832433eb6f0b0360"},{"_id":"public/2012/04/20/hadoop-default-conf/index.html","modified":1451396324255,"shasum":"b447105957ec4a388dbb79e6472ab666eaaba1e2"},{"_id":"public/2012/04/09/nlp-say-hi/index.html","modified":1451396324297,"shasum":"2b87305f81e5ab65b5e4e1c8c8a1a85eb060eb28"},{"_id":"public/2012/04/01/nlp-repost-semantic/index.html","modified":1451396324330,"shasum":"0b4510b46e5e66f59b9bd4a4f285b87f878ed5b8"},{"_id":"public/2012/04/01/nlp-repost-segmentation/index.html","modified":1451396324370,"shasum":"8eb17ac442b707df348443fc584fe7b77916875c"},{"_id":"public/2012/03/26/weibo-analysis/index.html","modified":1451396324410,"shasum":"b513959fb9f151265f68b6b65a06fbda47ca7a15"},{"_id":"public/2012/03/16/data-structure-disjoint-set/index.html","modified":1451396324459,"shasum":"fdb6aa0fca3d40e7f219205efe06f914529abf84"},{"_id":"public/2012/03/09/data-structure-skiplists/index.html","modified":1451396324513,"shasum":"e809226ae210dd75c28fdbcba007948e6e02b2ab"},{"_id":"public/2012/03/07/redis-data-strutrue/index.html","modified":1451396324568,"shasum":"968a7cd06464933f3d0ab33f18a84878a1574078"},{"_id":"public/2012/03/05/data-structure-bitmap/index.html","modified":1451396324619,"shasum":"d406df035f0644a228d3a361d1a2865d788bb561"},{"_id":"public/2012/03/05/hadoop-related/index.html","modified":1451396324662,"shasum":"40fcdc98f30ec1b885905d4b23afd794a7b124b6"},{"_id":"public/2012/03/04/java-boxing/index.html","modified":1451396324712,"shasum":"6a1512f6ee1933264984687263d6c120c7dae8b8"},{"_id":"public/2012/02/29/iterative-mapred-summary-haloop/index.html","modified":1451396324759,"shasum":"9e75f87d3fdd5953e3fdc3fe79525108c0473ead"},{"_id":"public/2012/02/27/hadoop-ipc-server/index.html","modified":1451396324842,"shasum":"65d926693454a9c708fe3adc5588f70f96ef4a35"},{"_id":"public/2012/02/25/hadoop-ipc-client/index.html","modified":1451396324881,"shasum":"dcd677ed7a77a5476d9d432dec543638327ad310"},{"_id":"public/2012/02/25/hadoop-ipc-rpc/index.html","modified":1451396324922,"shasum":"3f705596a95e228bd88cf1b85c065c2592150bb0"},{"_id":"public/2012/02/23/iterative-mapred-distcache/index.html","modified":1451396324957,"shasum":"68a2222120c3f1c48c2ae92339bc559661ad30c9"},{"_id":"public/2012/02/22/algorithm-search/index.html","modified":1451396324997,"shasum":"8bd515a2adea95ab072684524f415c5be53266db"},{"_id":"public/2012/02/16/algorithm-probability/index.html","modified":1451396325030,"shasum":"e8a106072f7aa21fe742eb917e95d1cf2d2cc15e"},{"_id":"public/2012/02/14/algorithm-dynammic-programming/index.html","modified":1451396325070,"shasum":"1c8aad8960f63243b75b034456d78bd8e7ffa697"},{"_id":"public/2012/02/13/jvm-structure/index.html","modified":1451396325107,"shasum":"a66b03041f141d8e852519df891763f3d0f3ae57"},{"_id":"public/2012/02/11/mapred-optimize/index.html","modified":1451396325147,"shasum":"fa3fb782948fdbd55e243bef98c17cb911b0a781"},{"_id":"public/2012/02/08/iterative-mapred/index.html","modified":1451396325180,"shasum":"10ac91b7ca171884a1fa751d158754b31a27eefc"},{"_id":"public/2012/01/20/python-chat/index.html","modified":1451396325217,"shasum":"12e8e799f4be8efa469c5aa18e4f32e8f0a98573"},{"_id":"public/2011/12/26/design-pattern-adapter/index.html","modified":1451396325256,"shasum":"43c0bd47b3d415cc9ac48ed51ec4c787ac0fe54a"},{"_id":"public/2011/12/26/design-pattern-facade/index.html","modified":1451396325298,"shasum":"1e75ca3096c493cf6908a291c4f3435dfb59131c"},{"_id":"public/2011/12/25/design-pattern-decorate/index.html","modified":1451396325334,"shasum":"424e80c68cd8f261195bd0ad8be8d00407d0d0bd"},{"_id":"public/2011/12/25/design-pattern-proxy/index.html","modified":1451396325374,"shasum":"b5cc0a8d541c2d5149584c3c337c145b56f82b3d"},{"_id":"public/2011/12/25/design-pattern-additional/index.html","modified":1451396325413,"shasum":"b587ee1e4a711662d92c521bd1dff480f1706720"},{"_id":"public/2011/12/22/design-pattern-cor/index.html","modified":1451396325448,"shasum":"73cf18815761e06d493c8021ae7bc43178edc63e"},{"_id":"public/2011/12/21/python-traverse-dir/index.html","modified":1451396325488,"shasum":"af970da2d422e2ec611df51e155bfa5e0eb988b2"},{"_id":"public/2011/12/18/design-pattern-observer/index.html","modified":1451396325527,"shasum":"049b671a9be5dbe1d6698fb099a224e87dd2c99b"},{"_id":"public/2011/12/17/design-pattern-singleton/index.html","modified":1451396325576,"shasum":"eb6df58eb20bbbe2abf929a0cb839df1c01b2a9f"},{"_id":"public/2011/12/16/design-pattern-factory-abs/index.html","modified":1451396325636,"shasum":"1c5c65fc17f9500b99e1cb2ad7bef197022f440b"},{"_id":"public/2011/12/16/design-pattern-factory/index.html","modified":1451396325686,"shasum":"d91ea37de1cfa160504bf321b6d248915e63c33f"},{"_id":"public/2011/11/12/hello-sae/index.html","modified":1451396325738,"shasum":"5cf6872794af877c8fedeaec4838becb681731e0"},{"_id":"public/2011/10/01/dist-filesystem-metadata-server/index.html","modified":1451396325781,"shasum":"d971ea4ab951e795cdd4a190760d079d67eb6bf8"},{"_id":"public/2011/09/01/single-lens-paraxonic/index.html","modified":1451396325832,"shasum":"e251e598c0a951dfd4d6a44519794ab12e485d2a"},{"_id":"public/2011/09/01/photometry/index.html","modified":1451396325881,"shasum":"175f34d8a39c7856da15433bf7a8a6f07acfe230"},{"_id":"public/2011/07/21/android-ui/index.html","modified":1451396325946,"shasum":"6befea85585493cd835188167e4b75f051da8b9c"},{"_id":"public/2011/06/07/ditital-screen/index.html","modified":1451396325979,"shasum":"3a2b3a9e3294747a5d7dd32eeb4d9537cf6c4626"},{"_id":"public/2011/05/02/eclipse-plugin-unintall/index.html","modified":1451396326017,"shasum":"c4c715284db0613f3b8f2267ff33bc678bf500ce"},{"_id":"public/2011/04/05/wanting-qu/index.html","modified":1451396326050,"shasum":"92e2908c42c64cdd1c24b767d5cf26f7e7e1ef18"},{"_id":"public/2011/03/17/java-probability/index.html","modified":1451396326090,"shasum":"3bae0b5b03bf68e406cf0735aa29c7545696f0c4"},{"_id":"public/2011/03/09/study-school-sociey/index.html","modified":1451396326124,"shasum":"a3102c53a141286e8c586c4237328d63b37f271f"},{"_id":"public/2011/03/08/english-punctuate/index.html","modified":1451396326163,"shasum":"35d57a35f3cc66f7507b1dcbcea09d57314975aa"},{"_id":"public/2011/03/06/ranksystem-in-social-network/index.html","modified":1451396326196,"shasum":"e794adfc55806cc847d5c35d67bd938098e441c8"},{"_id":"public/2011/02/15/my-motive/index.html","modified":1451396326233,"shasum":"3d9cd9c106fb376d68c937158b1f92117edc3a29"},{"_id":"public/2011/02/12/buying-laptop/index.html","modified":1451396326264,"shasum":"200744c89848524d5e0f2e6450600660088be7dc"},{"_id":"public/2011/02/11/truth-in-rumor/index.html","modified":1451396326300,"shasum":"b89deb036040da305c3618dbd2aac31d924920fc"},{"_id":"public/archives/index.html","modified":1451396326329,"shasum":"c0f78866de2d12c08146dc97af19a0eaec4b62b7"},{"_id":"public/archives/page/2/index.html","modified":1451396326362,"shasum":"b1d104c8746c48c9125bbe0bd98e4f2e7c7830a9"},{"_id":"public/archives/page/3/index.html","modified":1451396326390,"shasum":"30f5ffd645b7edb6f4b4a1c2d3fddbba7d625d6a"},{"_id":"public/archives/page/4/index.html","modified":1451396326426,"shasum":"764a57db9f035a8ea6519e6e2efd3d72ee8241f6"},{"_id":"public/archives/page/5/index.html","modified":1451396326451,"shasum":"b52f3e8379c44e292a211ff1ea6edc38a8aa0a97"},{"_id":"public/archives/page/6/index.html","modified":1451396326484,"shasum":"ca869c63761b0dd22b7642bc67dbd74abe24af73"},{"_id":"public/archives/page/7/index.html","modified":1451396326511,"shasum":"db9f2f613405458fb0ea2b6c891eece64333a935"},{"_id":"public/archives/page/8/index.html","modified":1451396326546,"shasum":"676f23a58e4db0c112d15248926502a86eedee91"},{"_id":"public/archives/page/9/index.html","modified":1451396326575,"shasum":"b5dcff2aec1992c51ff07a85e70ba46c12d809a3"},{"_id":"public/archives/page/10/index.html","modified":1451396326620,"shasum":"fd3919f7727485c68e89140b444cd64ef6524560"},{"_id":"public/archives/page/11/index.html","modified":1451396326658,"shasum":"66916227c2369585fadc1dea026791795ee0c976"},{"_id":"public/archives/page/12/index.html","modified":1451396326702,"shasum":"d528323677f010d8b2d8c87b31b4152cd0e2e532"},{"_id":"public/archives/page/13/index.html","modified":1451396326739,"shasum":"d0652120cd9d3be90458a99f69839996252f7099"},{"_id":"public/archives/page/14/index.html","modified":1451396326786,"shasum":"6f4f9b4c0918b7621c677385c2194869276c7a93"},{"_id":"public/archives/page/15/index.html","modified":1451396326827,"shasum":"f5481542a3096da4f8c5bc035f66ea861142dc85"},{"_id":"public/archives/page/16/index.html","modified":1451396326871,"shasum":"83b47d1c2d4c8f56611217eec07798fa42302463"},{"_id":"public/archives/page/17/index.html","modified":1451396326915,"shasum":"62d09b8e20d87233d09e69c529420debf5c5e0a6"},{"_id":"public/archives/page/18/index.html","modified":1451396326967,"shasum":"24aa95b4f8935da22903171e9cdefab0bccecaaf"},{"_id":"public/archives/page/19/index.html","modified":1451396327016,"shasum":"fd7fe1279a53dc4ad1b01c697af340e0d848a26d"},{"_id":"public/archives/page/20/index.html","modified":1451396327044,"shasum":"61f89aca9f38b9fc9d75f39c0a65a96eb0ac68c6"},{"_id":"public/archives/page/21/index.html","modified":1451396327081,"shasum":"d7b3ff24f76d695d6caaebb5466d697bc14cdb58"},{"_id":"public/archives/page/22/index.html","modified":1451396327109,"shasum":"2c21a6c1e0a8fabae21b30d761ce352bd9b08251"},{"_id":"public/archives/page/23/index.html","modified":1451396327146,"shasum":"29fb9b87c037646f659f33dda51796df1a672756"},{"_id":"public/archives/page/24/index.html","modified":1451396327172,"shasum":"e6fdf33e491cbc923a575c8f344dd0bea34a6568"},{"_id":"public/archives/page/25/index.html","modified":1451396327208,"shasum":"d73153db3f3b7b81a70a501d0386933fa6f84a0c"},{"_id":"public/archives/page/26/index.html","modified":1451396327236,"shasum":"f45a7262a8c720a75379de43edbf86ed0d2590fe"},{"_id":"public/archives/page/27/index.html","modified":1451396327275,"shasum":"fc91bf193b9ae03c723bd30bde3826d7459c0eb3"},{"_id":"public/archives/page/28/index.html","modified":1451396327301,"shasum":"1692c4cbacfec1f507453aee78d73a608f668937"},{"_id":"public/archives/page/29/index.html","modified":1451396327334,"shasum":"a9498d6149c685442f2aeed8268e3f46a31fd104"},{"_id":"public/archives/page/30/index.html","modified":1451396327361,"shasum":"6aad02f8c5303a84a87e62650a05c3c554334eb6"},{"_id":"public/archives/page/31/index.html","modified":1451396327397,"shasum":"85469c7e980b13d31448d0eccbb1a5a47f6fa0bb"},{"_id":"public/archives/page/32/index.html","modified":1451396327423,"shasum":"4e5db31b5fe6d3b3ef976eb0e540c1c87ce2e617"},{"_id":"public/archives/page/33/index.html","modified":1451396327458,"shasum":"8e8650f5bca607ab4587797fb9e29bce1aef07e3"},{"_id":"public/archives/2011/index.html","modified":1451396327484,"shasum":"62b46bdd71f0dd9767949f0112e21dd55170afd3"},{"_id":"public/archives/2011/page/2/index.html","modified":1451396327518,"shasum":"60e9afeeefa8733941eba8a0a6bd469cbb6c41d1"},{"_id":"public/archives/2011/page/3/index.html","modified":1451396327549,"shasum":"d47f35696b244d012dcd0ee746b1365e3fd69275"},{"_id":"public/archives/2011/page/4/index.html","modified":1451396327590,"shasum":"7f05e6006145c19ca1caf2b7421743923a6ce258"},{"_id":"public/archives/2011/page/5/index.html","modified":1451396327629,"shasum":"a02cd527e3beaed915fd5af68e8ce97389e235f8"},{"_id":"public/archives/2011/page/6/index.html","modified":1451396327676,"shasum":"3dcfce43f283d216ea2ddebcdd0d0435e19c8ea8"},{"_id":"public/archives/2011/page/7/index.html","modified":1451396327713,"shasum":"b2bfde8b1f01d4a10d382ccbf0981d7f535479ad"},{"_id":"public/archives/2011/page/8/index.html","modified":1451396327762,"shasum":"c73f80425928a1a11c650ea353043336520b58e1"},{"_id":"public/archives/2011/page/9/index.html","modified":1451396327804,"shasum":"fe0e2e85612674e43267a72e630a7fc24e47d35a"},{"_id":"public/archives/2011/02/index.html","modified":1451396327842,"shasum":"32b3328933ffd77b482cb81ce8a7e6b42b06aa59"},{"_id":"public/archives/2011/03/index.html","modified":1451396327888,"shasum":"2d975284af9878f5022606aa044b456da3d067c0"},{"_id":"public/archives/2011/03/page/2/index.html","modified":1451396327924,"shasum":"d3fc444a90daad02c0addd3fe30f71ae639a2f19"},{"_id":"public/archives/2011/04/index.html","modified":1451396327983,"shasum":"648160b75df3b8bcea81a0b9f5e5c2c17fb77ef6"},{"_id":"public/archives/2011/05/index.html","modified":1451396328008,"shasum":"e698c60002687d854d2be0686b576e888cea7265"},{"_id":"public/archives/2011/06/index.html","modified":1451396328032,"shasum":"be3a14c2f3ebe36ff6e6abac6522b0fed5ddb7af"},{"_id":"public/archives/2011/07/index.html","modified":1451396328062,"shasum":"93991237f615a6e582e44efa10832facd6b80f36"},{"_id":"public/archives/2011/09/index.html","modified":1451396328088,"shasum":"320e5f5efcd8521b01abb5d12809342c2104634f"},{"_id":"public/archives/2011/10/index.html","modified":1451396328111,"shasum":"0a64cfa93436ab9ae898f18f335eee45635e848d"},{"_id":"public/archives/2011/11/index.html","modified":1451396328143,"shasum":"a9cdffd55bd2a6e30b6d052a28a0e837316a0004"},{"_id":"public/archives/2011/12/index.html","modified":1451396328169,"shasum":"b7ab4a667f796fa1dfdede75d41cb99416a96430"},{"_id":"public/archives/2011/12/page/2/index.html","modified":1451396328203,"shasum":"af21fce5e441b3727ecce9f080d32063b617fa10"},{"_id":"public/archives/2011/12/page/3/index.html","modified":1451396328234,"shasum":"ff99591f1f18c5db3336d1953324e567bf83f083"},{"_id":"public/archives/2011/12/page/4/index.html","modified":1451396328267,"shasum":"98a3fd8b94b3d98f346a48c95c13bd49e4bd2f38"},{"_id":"public/archives/2012/index.html","modified":1451396328293,"shasum":"358d4cb4a3fccafb9531336f81b8e6bbe3b1c8e3"},{"_id":"public/archives/2012/page/2/index.html","modified":1451396328329,"shasum":"930a0292410983bc4c3fe252b2274294aa9b4ffc"},{"_id":"public/archives/2012/page/3/index.html","modified":1451396328356,"shasum":"603714f0a5de29874fd8985abafe3d6b2402604c"},{"_id":"public/archives/2012/page/4/index.html","modified":1451396328392,"shasum":"fc10efeac8b4a83e8aa48b56b10e9e22af0f9fab"},{"_id":"public/archives/2012/page/5/index.html","modified":1451396328418,"shasum":"4a3195182033d9efa388d92885b5f52d53e23af5"},{"_id":"public/archives/2012/page/6/index.html","modified":1451396328451,"shasum":"2a8c6e74e8cf9ec1ef6ab0d9afc1bcee547ae6a1"},{"_id":"public/archives/2012/page/7/index.html","modified":1451396328478,"shasum":"cac4d17030bc4e3fe22b7b7387b7cd0135608e9c"},{"_id":"public/archives/2012/page/8/index.html","modified":1451396328512,"shasum":"262df90490d6903e81796d62511152172e061139"},{"_id":"public/archives/2012/page/9/index.html","modified":1451396328539,"shasum":"15c936873f4d45877de27459c53960997cfb4b0f"},{"_id":"public/archives/2012/page/10/index.html","modified":1451396328583,"shasum":"ff8119294689e5d38d7ad5fd8b42c774ff290f7a"},{"_id":"public/archives/2012/page/11/index.html","modified":1451396328623,"shasum":"98ad5fe4f48d80da87cbd3d0b2f113c840cd2974"},{"_id":"public/archives/2012/01/index.html","modified":1451396328668,"shasum":"cc2fc97847816e2f4432198908de3a8112f5b9e6"},{"_id":"public/archives/2012/02/index.html","modified":1451396328710,"shasum":"e76182d2c8e3a34618ca66041790edd290247de3"},{"_id":"public/archives/2012/02/page/2/index.html","modified":1451396328754,"shasum":"f88661fe85f493d2f94fa3723ea6bf0b79e372f8"},{"_id":"public/archives/2012/02/page/3/index.html","modified":1451396328793,"shasum":"4cd4c86f4a26a19eb9075b5943cb12a4799a004a"},{"_id":"public/archives/2012/02/page/4/index.html","modified":1451396328835,"shasum":"51bb8f28c52ad5e1eb336f27b4bbbf1779ee08db"},{"_id":"public/archives/2012/03/index.html","modified":1451396328881,"shasum":"6d9e6d8f2b4e5098cd88fcc2ecef039fed8d2aeb"},{"_id":"public/archives/2012/03/page/2/index.html","modified":1451396328929,"shasum":"fe888a4e3b16d9219a9f7472102c54d13c5e0e00"},{"_id":"public/archives/2012/03/page/3/index.html","modified":1451396328975,"shasum":"e4da1dd794012d107715c6f7fb7e3eefef0ed7d0"},{"_id":"public/archives/2012/04/index.html","modified":1451396329007,"shasum":"c421ca4b92924aaec60f342e508f4ba39f814e82"},{"_id":"public/archives/2012/04/page/2/index.html","modified":1451396329033,"shasum":"fc07607054532ab2c0e72905bc0d5d68cf7a2bde"},{"_id":"public/archives/2012/05/index.html","modified":1451396329064,"shasum":"f37ae8409f8d9eabad9bd4ba5f325a974d6f8b2c"},{"_id":"public/archives/2012/06/index.html","modified":1451396329089,"shasum":"c2e0b30668d4879bd9fbdb03100c106af47d6a7e"},{"_id":"public/archives/2012/07/index.html","modified":1451396329119,"shasum":"e50daadb73ba27d6542fdffc4b7674e79a8864ba"},{"_id":"public/archives/2012/09/index.html","modified":1451396329149,"shasum":"7776e995b3f714f8e7be09f5628c25ea1381f151"},{"_id":"public/archives/2012/10/index.html","modified":1451396329179,"shasum":"d0c103f2bf520940926d1cf9ea7f10c7c2412929"},{"_id":"public/archives/2012/11/index.html","modified":1451396329203,"shasum":"6b47d1aa0c24553dab5d27274f192ca2552b7fcb"},{"_id":"public/archives/2013/index.html","modified":1451396329235,"shasum":"b7daa6a99db01da26481f33e3711171066400d91"},{"_id":"public/archives/2013/page/2/index.html","modified":1451396329263,"shasum":"5aba14d47c0d290ba33bee134e1980b7161fe592"},{"_id":"public/archives/2013/page/3/index.html","modified":1451396329295,"shasum":"689cb3fdd222055f781ed9444e5e920f9e044dda"},{"_id":"public/archives/2013/page/4/index.html","modified":1451396329324,"shasum":"59188753fe422796d3ea3bfa0d312ac9669ca5b2"},{"_id":"public/archives/2013/page/5/index.html","modified":1451396329357,"shasum":"55a24923a5c11ea61df5c70e56244db6431eda1c"},{"_id":"public/archives/2013/page/6/index.html","modified":1451396329384,"shasum":"d8f79f96d299dfd1e2144b1f6497de769b3bf007"},{"_id":"public/archives/2013/page/7/index.html","modified":1451396329417,"shasum":"b9308fffd7ab0b29a37d153d20cb9e03bee42835"},{"_id":"public/archives/2013/01/index.html","modified":1451396329445,"shasum":"1a8f19ebb149e694a81f084b919e02f4e34b9e3d"},{"_id":"public/archives/2013/01/page/2/index.html","modified":1451396329471,"shasum":"7a313dee53d162141d19fa661dee26ffcd0dd726"},{"_id":"public/archives/2013/03/index.html","modified":1451396329506,"shasum":"d0209be7256e9b587a5009f0e635290c0d9c626e"},{"_id":"public/archives/2013/03/page/2/index.html","modified":1451396329532,"shasum":"06eee30ded122b00d88b4eb9580a787c919c47b6"},{"_id":"public/archives/2013/03/page/3/index.html","modified":1451396329578,"shasum":"722ff38393b5914bf097764c448a5506abf7b85c"},{"_id":"public/archives/2013/04/index.html","modified":1451396329618,"shasum":"da27680149dc43805347d1450049d526d005a974"},{"_id":"public/archives/2013/05/index.html","modified":1451396329658,"shasum":"20c540026c99ea7db8ed436fd0fe5f75416855a8"},{"_id":"public/archives/2013/08/index.html","modified":1451396329690,"shasum":"e493925c8ae35a1d45cc707fb93a175003d69564"},{"_id":"public/archives/2013/10/index.html","modified":1451396329730,"shasum":"e54d1b481619711c48a5d5a84c3a6ec28b571bc4"},{"_id":"public/archives/2013/11/index.html","modified":1451396329766,"shasum":"6a5a34a65dfff8c510f0bdfe4b3ec8b9bc18ca5f"},{"_id":"public/archives/2014/index.html","modified":1451396329815,"shasum":"0b2cc68927f5b784f83f17abab83737d1cf4f24c"},{"_id":"public/archives/2014/page/2/index.html","modified":1451396329857,"shasum":"abaa35e3cc92925e50b7226ec496ad9f2bf34696"},{"_id":"public/archives/2014/page/3/index.html","modified":1451396329908,"shasum":"b780e9e91500c536e55f11428568b56d060251bb"},{"_id":"public/archives/2014/01/index.html","modified":1451396329959,"shasum":"97a1a4387b1a72932f95797f1261275bde76caca"},{"_id":"public/archives/2014/04/index.html","modified":1451396329987,"shasum":"f1110f95a226fd829f12a4cd9123a36f3b7a76d5"},{"_id":"public/archives/2014/05/index.html","modified":1451396330021,"shasum":"ba347f141716ce1a7c61fdb1bc60288e0b7b3738"},{"_id":"public/archives/2014/10/index.html","modified":1451396330043,"shasum":"feb86a9a8d94045be5e9f0d92d27612c57a35d54"},{"_id":"public/archives/2015/index.html","modified":1451396330078,"shasum":"5333cfb389c904a53eea27e0a4197af7a965fbdc"},{"_id":"public/archives/2015/page/2/index.html","modified":1451396330104,"shasum":"a8f18f3f486b05653d8811ef659c293f91e1bb02"},{"_id":"public/archives/2015/page/3/index.html","modified":1451396330133,"shasum":"2b1d897712864bbed29fdf5d3003e33878ad1d02"},{"_id":"public/archives/2015/page/4/index.html","modified":1451396330166,"shasum":"28f44a2eece841705e7b93780fc3e9ca63c8b8cf"},{"_id":"public/archives/2015/03/index.html","modified":1451396330191,"shasum":"bc869ae11752975d792f42b102b2e0373536969b"},{"_id":"public/archives/2015/08/index.html","modified":1451396330222,"shasum":"afd19a28deafcf8462596bb59b91a0a080bc5bbf"},{"_id":"public/archives/2015/08/page/2/index.html","modified":1451396330246,"shasum":"cfb72b1427b1c36069aac52b0c9a2e6af1c22f26"},{"_id":"public/archives/2015/09/index.html","modified":1451396330276,"shasum":"18d5ccf48307369f0a6465411378480d917a962e"},{"_id":"public/archives/2015/10/index.html","modified":1451396330305,"shasum":"a697af16a7a2b6e01f5846fbffc5b49c7fd7effb"},{"_id":"public/archives/2015/12/index.html","modified":1451396330331,"shasum":"de810f741e3f39b64e31ef4c8b0d2d891bfbacf0"},{"_id":"public/categories//index.html","modified":1451396330360,"shasum":"6ee2ec7987c4d80ae740a15e79ac77491ee85052"},{"_id":"public/categories//page/2/index.html","modified":1451396330387,"shasum":"46ed997267159cc16b89785333be2be347a69263"},{"_id":"public/categories//page/3/index.html","modified":1451396330416,"shasum":"d86d427022030656cd1711244f9e832a754f82ea"},{"_id":"public/categories//page/4/index.html","modified":1451396330439,"shasum":"339bb6c6e45606c88f94261117fd601943047256"},{"_id":"public/categories//page/5/index.html","modified":1451396330469,"shasum":"d0c8ba94f275ba87faf7db64c19721044b72c54b"},{"_id":"public/categories//page/6/index.html","modified":1451396330492,"shasum":"295bf0a321a79d5c549f586c1ca9872c39495dff"},{"_id":"public/categories//page/7/index.html","modified":1451396330521,"shasum":"367fc362e9e284e18de0e79ad35ea4774bac5bab"},{"_id":"public/categories//page/8/index.html","modified":1451396330559,"shasum":"d4660532f3b640bf11c135324682bc9280e59219"},{"_id":"public/categories//page/9/index.html","modified":1451396330594,"shasum":"81f3568eda85726b48cbd9746cf6fd79fc7bcaae"},{"_id":"public/categories//page/10/index.html","modified":1451396330636,"shasum":"e7e7a42f030607ecae87d1773854dd3c75c68845"},{"_id":"public/categories//page/11/index.html","modified":1451396330668,"shasum":"df1021041dd033b6f3eb5409295bdaa667ce18de"},{"_id":"public/categories//page/12/index.html","modified":1451396330699,"shasum":"59526e4c734fefd383beb05f9881ebe215d15ac9"},{"_id":"public/categories//page/13/index.html","modified":1451396330739,"shasum":"8f2a2abb30f30be2d7e40d6414609f60406120e2"},{"_id":"public/categories//page/14/index.html","modified":1451396330771,"shasum":"5545ede13f79a8e12df90710c93e48bf602ec152"},{"_id":"public/categories//page/15/index.html","modified":1451396330813,"shasum":"e2ef5b91e45b2b999631372108f69df1f8dc88d0"},{"_id":"public/categories//page/16/index.html","modified":1451396330849,"shasum":"29c0870780e53473633f72f9dd2661c0ae544188"},{"_id":"public/categories//page/17/index.html","modified":1451396330888,"shasum":"e3d6e7d9093cf67a81ead9af2a0bf3f9110bc3bd"},{"_id":"public/categories//page/18/index.html","modified":1451396330939,"shasum":"cb9ee10985d7f3fdb66bff19326df68c9969e697"},{"_id":"public/categories//page/19/index.html","modified":1451396330963,"shasum":"7447cb0719f0b1d216cbf9e136c1db94f0b9f548"},{"_id":"public/categories//page/20/index.html","modified":1451396330985,"shasum":"b85f27e865d324293665cbc1c1879abf98d9eb52"},{"_id":"public/categories//page/21/index.html","modified":1451396331016,"shasum":"2a5e8b0790ec5c9482d9f25f81f8e4004454b733"},{"_id":"public/categories//page/22/index.html","modified":1451396331041,"shasum":"490af7e4aa3db172108ff7a48ec8971ae3e58900"},{"_id":"public/categories//page/23/index.html","modified":1451396331071,"shasum":"2a3902490997547f3822fb65adf3faf555f4312a"},{"_id":"public/categories//page/24/index.html","modified":1451396331095,"shasum":"75413c6a0b403afde249c00875dc5019de2df0cb"},{"_id":"public/categories//index.html","modified":1451396331118,"shasum":"b7791e3a22ce92305355d30ace4f78fe41a31f33"},{"_id":"public/categories//page/2/index.html","modified":1451396331148,"shasum":"e1ea7d0f60878d5791682f4df025f0914c659af3"},{"_id":"public/categories//page/3/index.html","modified":1451396331172,"shasum":"31c77cc2a7d8dab164a8048a2e7792d68bfcadaf"},{"_id":"public/categories//page/4/index.html","modified":1451396331200,"shasum":"3d508c8105c71f2d1c30a52d6e971ddcc256bad8"},{"_id":"public/categories//page/5/index.html","modified":1451396331225,"shasum":"3bca2bb0620079dc709f8fab505ae275c715da75"},{"_id":"public/categories//page/6/index.html","modified":1451396331246,"shasum":"2974c4cf941fbf8523a433a0a0cbe43f7de555af"},{"_id":"public/categories//index.html","modified":1451396331279,"shasum":"73c3ea189448692553dcd1cb5fc5c7e4afe8242f"},{"_id":"public/categories//index.html","modified":1451396331302,"shasum":"93bd1859088278a9fab7db0146002bc4d3333fdf"},{"_id":"public/categories//page/2/index.html","modified":1451396331336,"shasum":"561b9f487c05034cb03a4cdf2d29ce31a99cca73"},{"_id":"public/categories//page/3/index.html","modified":1451396331356,"shasum":"9b9d1db10b7f2f2f554fdb020e894a25698a0c01"},{"_id":"public/categories//index.html","modified":1451396331380,"shasum":"5c3dee75119646ee006f09fa62b3f893743f926a"},{"_id":"public/categories///index.html","modified":1451396331407,"shasum":"3987bb48479b5874a0f5b01ff5c93fb2e7ddd563"},{"_id":"public/index.html","modified":1451396331443,"shasum":"33bc77f52a1a6eaed0d97d4f1e2066e585e1076b"},{"_id":"public/page/2/index.html","modified":1451396331482,"shasum":"54190c61a0473597cff837a15680fc87ad5c40fc"},{"_id":"public/page/3/index.html","modified":1451396331516,"shasum":"1c96cb0b621eccf44a2907ecc8b8007ff3631b01"},{"_id":"public/page/4/index.html","modified":1451396331562,"shasum":"0d9930f4acb3a51b9a54f228990a099bf4ceb252"},{"_id":"public/page/5/index.html","modified":1451396331606,"shasum":"d0d8e60cd7f591f95054a848445ce2a31a7bd788"},{"_id":"public/page/6/index.html","modified":1451396331657,"shasum":"bfde4452d8054029f81a9c435c2b15534543358b"},{"_id":"public/page/7/index.html","modified":1451396331714,"shasum":"e6b163d22ff143fa203b5669fe1e191ddfbf7a34"},{"_id":"public/page/8/index.html","modified":1451396331759,"shasum":"531db051324d79d5c42a8a2b7b32b16dbd828d7e"},{"_id":"public/page/9/index.html","modified":1451396331810,"shasum":"24160cf024eaeb3fbeb360bb6bda25a6d2adc77d"},{"_id":"public/page/10/index.html","modified":1451396331865,"shasum":"eb8f9a9745fcaa519f34ca694b427bb3a96e1d43"},{"_id":"public/page/11/index.html","modified":1451396331917,"shasum":"58c8f32a1dd641291680506931db7e98cb76741c"},{"_id":"public/page/12/index.html","modified":1451396331990,"shasum":"2452a73287e253383a4f0858786c0737915624ad"},{"_id":"public/page/13/index.html","modified":1451396332024,"shasum":"0e0f8e5ba37e21975978cf0ae925ccf215b6c446"},{"_id":"public/page/14/index.html","modified":1451396332069,"shasum":"5e538e7e740a71a899af99f792ca8e7ce9100aff"},{"_id":"public/page/15/index.html","modified":1451396332102,"shasum":"a915f26f3ac5bdfd74fe130150406ebd075130e1"},{"_id":"public/page/16/index.html","modified":1451396332145,"shasum":"bce6efb5468221a9fcbd3cca3c4cf588b2fe814e"},{"_id":"public/page/17/index.html","modified":1451396332180,"shasum":"fac98a9828b36484f7f50136fc638dbd2e286ade"},{"_id":"public/page/18/index.html","modified":1451396332222,"shasum":"b15a78bd33c6553429f1c463c92768a764158edd"},{"_id":"public/page/19/index.html","modified":1451396332262,"shasum":"20f243be9905a8e3d4c67b480d1827f64c2d511a"},{"_id":"public/page/20/index.html","modified":1451396332297,"shasum":"15583849c6eb334c09f23f0c1db6400b8d9ee9a0"},{"_id":"public/page/21/index.html","modified":1451396332335,"shasum":"7d5b2d417c27e54c0aea697f3ebe145365123020"},{"_id":"public/page/22/index.html","modified":1451396332374,"shasum":"5f3cafb345f7bd2adfac7b6b3510743a8639b79e"},{"_id":"public/page/23/index.html","modified":1451396332415,"shasum":"8fd6dec0e9316d519885a6c9facc4186ff5b0c6a"},{"_id":"public/page/24/index.html","modified":1451396332458,"shasum":"4664cf37b6dc60e21e8735140bbbc363aa1a5b77"},{"_id":"public/page/25/index.html","modified":1451396332494,"shasum":"37a8ae12aa7e48c6b9d9cc21f245e524a58e3ed2"},{"_id":"public/page/26/index.html","modified":1451396332537,"shasum":"c2a0462bcbc9a159ef63cb8b527c2fbffae909be"},{"_id":"public/page/27/index.html","modified":1451396332583,"shasum":"d043e7faf982a299fad21e5cf651307755c4e3fb"},{"_id":"public/page/28/index.html","modified":1451396332618,"shasum":"32d92411853568b826e5486a084ccca0e777db59"},{"_id":"public/page/29/index.html","modified":1451396332672,"shasum":"20743d9411b0d47b2138bfa1945fb7173a5e4a47"},{"_id":"public/page/30/index.html","modified":1451396332724,"shasum":"7152e6fccaeada8a853d9a7760dc69a8181de849"},{"_id":"public/page/31/index.html","modified":1451396332793,"shasum":"b15ef3df9d070f979eed0ee63c182c72383b5259"},{"_id":"public/page/32/index.html","modified":1451396332844,"shasum":"34dca723f331761f1737e133665b4bc9a07c9505"},{"_id":"public/page/33/index.html","modified":1451396332898,"shasum":"27f0dbfdf9ba448f860a27655a43700356ca51c9"},{"_id":"public/tags/ZooKeeper/index.html","modified":1451396332932,"shasum":"48aa3b925faccbb73c165fe93d38e9f63b53564f"},{"_id":"public/tags/11/index.html","modified":1451396332966,"shasum":"ed499352b56fbb803f2660dca7d489e846ec5dd2"},{"_id":"public/tags//index.html","modified":1451396332999,"shasum":"1d0b7fa3b509ae612756aaedfbf5a77fd48d4f94"},{"_id":"public/tags//index.html","modified":1451396333061,"shasum":"84072ad8b2e0bc87c2b85def6dd2e75d30b205aa"},{"_id":"public/tags//index.html","modified":1451396333084,"shasum":"df7078fbc62ccf929e80989c63c56efeedac27d6"},{"_id":"public/tags//index.html","modified":1451396333109,"shasum":"2eaa47028b16d9d337f539fdb8857bd6cd223f0b"},{"_id":"public/tags//index.html","modified":1451396333132,"shasum":"caaded2c120051a00655a512118f8c864046c1aa"},{"_id":"public/tags//page/2/index.html","modified":1451396333161,"shasum":"504d65bb5aa0eba0e7152f1a12f0c0ea4938a68b"},{"_id":"public/tags/NoSQL/index.html","modified":1451396333184,"shasum":"efa2e02c47c4ea1aaa7f1bec649c1da6a8f5478b"},{"_id":"public/tags//index.html","modified":1451396333211,"shasum":"2e4cdb7a93a78d4f6d806df736af6ecc0092dead"},{"_id":"public/tags//index.html","modified":1451396333234,"shasum":"03bcd97b8dc27d561222d30bd9aacf09549e2b88"},{"_id":"public/tags/Solr/index.html","modified":1451396333258,"shasum":"705078f85b04f0a7b9b40de900574a5cea9ce07f"},{"_id":"public/tags/Solr/page/2/index.html","modified":1451396333285,"shasum":"43216f2a1a04bbdbb496542f625b7a832521bf8b"},{"_id":"public/tags//index.html","modified":1451396333308,"shasum":"c0c193f5601ae01859c2d71bdfcc38a69e94a766"},{"_id":"public/tags//index.html","modified":1451396333337,"shasum":"29801e36829997cc350046b87e79ff0c4842c256"},{"_id":"public/tags//page/2/index.html","modified":1451396333358,"shasum":"de04b611228b15c05cefdf919504c9d585b6eee3"},{"_id":"public/tags/REWORK-37signals--/index.html","modified":1451396333380,"shasum":"4e38e84068adead290554897d0cdd8953ec4fa95"},{"_id":"public/tags/Java/index.html","modified":1451396333410,"shasum":"bd3394c0c9cd363e38a768154a2a02f87ff36c35"},{"_id":"public/tags/Java/page/2/index.html","modified":1451396333434,"shasum":"2075a3aee3f44b7adf83a2c34ddaaf75752fa00b"},{"_id":"public/tags/Network/index.html","modified":1451396333462,"shasum":"028b6be6f344cd8cc8093860ab5c99053844ae4c"},{"_id":"public/tags//index.html","modified":1451396333486,"shasum":"a3006cae05350000d863ae46bed6544dad8064b6"},{"_id":"public/tags/Redis/index.html","modified":1451396333507,"shasum":"9a68f81da0eff5943b70becf35a5e30b55434555"},{"_id":"public/tags//index.html","modified":1451396333540,"shasum":"6d0e59b528ef906cb3828f339b431df4f0752978"},{"_id":"public/tags//page/2/index.html","modified":1451396333561,"shasum":"7b367a95640aa8bbfeca1ce6311a059d53ef4bc8"},{"_id":"public/tags/SSD/index.html","modified":1451396333583,"shasum":"4da4ebefd89ab7ee3370108a7a7cf3a24fb91038"},{"_id":"public/tags//index.html","modified":1451396333611,"shasum":"c824fce2a9ce51f9892e99c084146fa8daca4bdd"},{"_id":"public/tags//index.html","modified":1451396333634,"shasum":"133abd5826a76fae2fd9794a629404d5b325f786"},{"_id":"public/tags//page/2/index.html","modified":1451396333663,"shasum":"980805f11f59895ff6dec23dd9d5ba985a5ea556"},{"_id":"public/tags/Python/index.html","modified":1451396333687,"shasum":"07d4b9e7610347c7d47c1e6daa7bb35225a72830"},{"_id":"public/tags/JVM/index.html","modified":1451396333712,"shasum":"eb7b6b511e696b82222ac18a7f4da972b5431c5a"},{"_id":"public/tags/JVM/page/2/index.html","modified":1451396333750,"shasum":"5764527a365a905410fd82f73102b705b5aae6f1"},{"_id":"public/tags/OOM-Killer/index.html","modified":1451396333784,"shasum":"4ce7308bb6fda9660bb5c2ef47886bf1848eea4a"},{"_id":"public/tags/java/index.html","modified":1451396333816,"shasum":"324127969952a69fd2b6bad74f4f2e084a913bf0"},{"_id":"public/tags/java/page/2/index.html","modified":1451396333857,"shasum":"91e58e084aef827750c6b1c2fb53d14b32522e88"},{"_id":"public/tags/java/page/3/index.html","modified":1451396333888,"shasum":"b01f1325cf1ab4c0cab994caa227b1c6eca932d4"},{"_id":"public/tags//index.html","modified":1451396333925,"shasum":"31d7456f041f60380a6df2e84373b40e565719f6"},{"_id":"public/tags//index.html","modified":1451396333954,"shasum":"95eb4c32e4e287a3c2f942e4a9939adef7e0fb3b"},{"_id":"public/tags/Mina/index.html","modified":1451396333984,"shasum":"8b82b5684ab5b4e94a7c3a33a6d4f52a768f9ea4"},{"_id":"public/tags/Netty/index.html","modified":1451396334024,"shasum":"3f6ad3d575a5661cc0496ce71e47d3fb444faef3"},{"_id":"public/tags/Netty/page/2/index.html","modified":1451396334059,"shasum":"97af505345ef4c0e2aa4e6c390670f1e5684afe2"},{"_id":"public/tags//index.html","modified":1451396334101,"shasum":"6be6705c68b7c729a29d346c6bf683038dbd5cea"},{"_id":"public/tags/Apple/index.html","modified":1451396334144,"shasum":"8df87abc8a99ad37c38a31fa052d728c96625a6f"},{"_id":"public/tags/Macbook/index.html","modified":1451396334165,"shasum":"825d0ab7a6366f63631120fa8dc6580d443d8003"},{"_id":"public/tags/RBMP/index.html","modified":1451396334188,"shasum":"cd2f541182c0e7f058e35af84a2c41a6ec7bee6f"},{"_id":"public/tags/group-by/index.html","modified":1451396334218,"shasum":"f75acf744fe656a60eabafc8945f5a763105fcdb"},{"_id":"public/tags/SQL/index.html","modified":1451396334239,"shasum":"b352ed9ad25e0cabd39494da66d749dd4e24c3d0"},{"_id":"public/tags/Maven/index.html","modified":1451396334262,"shasum":"610abbf57a4fade57bfbeaf1d2e3e28812e2cf81"},{"_id":"public/tags/Hadoop/index.html","modified":1451396334291,"shasum":"675040ec3a98b788bc8187741ffbe2fdce3ba7bb"},{"_id":"public/tags/Hadoop/page/2/index.html","modified":1451396334317,"shasum":"4ce63345cf398321e863ec393126ae12d5d0c250"},{"_id":"public/tags/Hadoop/page/3/index.html","modified":1451396334348,"shasum":"79dd19bad6e9b199964e740cb104b9f024fb27af"},{"_id":"public/tags/Hadoop/page/4/index.html","modified":1451396334372,"shasum":"c48af599d557b34a3951ccafbd7bc7a479a0840c"},{"_id":"public/tags/Hadoop/page/5/index.html","modified":1451396334395,"shasum":"1704889624e79812edeee1bfb54233734b1d86c6"},{"_id":"public/tags/MapReduce/index.html","modified":1451396334424,"shasum":"5734fbfceca624666679e451fc94dcea232e4a0d"},{"_id":"public/tags/MapReduce/page/2/index.html","modified":1451396334451,"shasum":"1bec863cf2bdd42155f1d46f4ab55afe37f5246d"},{"_id":"public/tags/MapReduce/page/3/index.html","modified":1451396334482,"shasum":"02aa7b540ce50113bb49aac44458c2f3fbb1c997"},{"_id":"public/tags/Linux/index.html","modified":1451396334507,"shasum":"16b77893ad85b8df253d224f848e94078b2b64fe"},{"_id":"public/tags/Linux/page/2/index.html","modified":1451396334528,"shasum":"4d00b751661ad2d35ee7be1a937e43ebe386aaa5"},{"_id":"public/tags/Shell/index.html","modified":1451396334559,"shasum":"c4b706db3ec9c73c4fcf564509b809fedcc8829a"},{"_id":"public/tags/Shell/page/2/index.html","modified":1451396334581,"shasum":"59c487d7667536eba7953642eb2db0f7ba26ccb5"},{"_id":"public/tags/Java-/index.html","modified":1451396334609,"shasum":"31452a808d3ca5ae5c72c012035a628a1bca5c8c"},{"_id":"public/tags/Haloop/index.html","modified":1451396334631,"shasum":"578a7639f756788d667b24f69123aeaffeb0fa0e"},{"_id":"public/tags/Remote--/index.html","modified":1451396334651,"shasum":"313970517dc04a6ef06ddf15ffe809f3b4baf5e6"},{"_id":"public/tags/SAE/index.html","modified":1451396334682,"shasum":"1ef0fffdc56a71a655238f69752e3d066955b34d"},{"_id":"public/tags/Hadoop-Pipes/index.html","modified":1451396334706,"shasum":"94101e50a44aabb28ab826207b386e0fe88d1c93"},{"_id":"public/tags/RPC/index.html","modified":1451396334730,"shasum":"cdb28de4165a4c3ee75e39a5fb416aea81e9e1de"},{"_id":"public/tags/Google/index.html","modified":1451396334761,"shasum":"93f2e2f82a96f483c6eea63a0f88c9b47ab9c06e"},{"_id":"public/tags/GIT/index.html","modified":1451396334785,"shasum":"fd907f4885b7fa06628fc0d9e03b3e83e266e48c"},{"_id":"public/tags/-/index.html","modified":1451396334814,"shasum":"54f30f8ca05c667833b3e79d9ba6faff0f48ed9f"},{"_id":"public/tags//index.html","modified":1451396334845,"shasum":"7e5b80e751dbf781c8d4e7ae3fcfa27e6109de49"},{"_id":"public/tags/Eclipse/index.html","modified":1451396334882,"shasum":"3fe857b653ea7388543c536a0ff16720d60aec8b"},{"_id":"public/tags/Docker/index.html","modified":1451396334921,"shasum":"653ea64179089d17e372d76567363600a5af9029"},{"_id":"public/tags/Docker-plugins/index.html","modified":1451396334952,"shasum":"1586a3615bcf558ea2d61008258448648550f2c2"},{"_id":"public/tags/Docker-volume/index.html","modified":1451396334981,"shasum":"d0313405e3666e99448ae864e26e542eb9fd1ab3"},{"_id":"public/tags/Docker-Compose/index.html","modified":1451396335020,"shasum":"06628ef01cc63219d8f6755db0840ff97de19136"},{"_id":"public/tags//index.html","modified":1451396335052,"shasum":"3dac16686427d071cc06409245e8127a88cdc9d9"},{"_id":"public/tags//index.html","modified":1451396335085,"shasum":"464bd50667ecc54a7fa284b8b330b1cd09e8bea1"},{"_id":"public/tags//page/2/index.html","modified":1451396335129,"shasum":"15eb63ef6b2dfb78dd2c8e6a8fee1bc4e23ff7e5"},{"_id":"public/tags//page/3/index.html","modified":1451396335165,"shasum":"ce6f7ba3ef2f74510518efab34d190d29c7ee312"},{"_id":"public/tags//page/4/index.html","modified":1451396335222,"shasum":"57d58415acc80748e483f89ccd35622891acf2d7"},{"_id":"public/tags/CSS/index.html","modified":1451396335243,"shasum":"6c3c5dc997b9b59a0321533fa550307033f39af3"},{"_id":"public/tags/Frontend/index.html","modified":1451396335264,"shasum":"1d58558818d290e7ade74a288f2a2e9d6c2d1541"},{"_id":"public/tags/Solr-/index.html","modified":1451396335287,"shasum":"bbc3b85576cb55f173839a1d0e47248e127390ba"},{"_id":"public/tags/YARN/index.html","modified":1451396335314,"shasum":"8289425d2da120dc4e4654888079d28448b5dbd3"},{"_id":"public/tags/Android/index.html","modified":1451396335339,"shasum":"27076b0ecb0b3f2a417c74b656ce02c7c99b5e92"}],"Category":[{"name":"","_id":"ciirfw6yl0002sv8ffmhw74yf"},{"name":"","_id":"ciirfw6yq000bsv8f80q88x4a"},{"name":"","_id":"ciirfw6z6001esv8flksda37q"},{"name":"","_id":"ciirfw6z8001jsv8fdwjnpozk"},{"name":"","_id":"ciirfw728008nsv8fw52os3ad"},{"name":"","parent":"ciirfw6yl0002sv8ffmhw74yf","_id":"ciirfw72d0091sv8f6c16s9ez"}],"Data":[],"Page":[{"title":"All tags","date":"2015-08-28T14:35:52.000Z","type":"tags","comments":0,"_content":"","source":"tags/index.md","raw":"title: All tags \ndate: 2015-08-28 22:35:52\ntype: \"tags\"\ncomments: false\n---\n","updated":"2015-12-29T13:30:15.000Z","path":"tags/index.html","layout":"page","_id":"ciirfw6y40000sv8fhtei6kcj"}],"Post":[{"title":"Zookeeper Ephemeral","id":"619","date":"2012-11-05T12:33:28.000Z","_content":"\nZookeeperZKZKZKEphemeralZK\n<!--more-->  > **P.S.:**EphemeralApache Zookeepersessionsession  \n\n****\n\n\n\n****\n\nsessionephemeralsessionsessionexpireZKZK30s\n\n****\n\nApachepatchsession   <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\" width=\"637\"><tbody>       <tr>         <td valign=\"top\" width=\"635\">           <p> 1\\. try {\n\n 2.&#160;&#160; zk.delete(path)\n\n 3\\. } catch {\n\n 4.&#160;&#160; e: NoNodeException =&gt; // do nothing\n\n 5\\. }\n\n 6\\. zk.create(path, data, CreateMode.EPHEMERAL)\n         </td>       </tr>     </tbody></table> </p>  > ****\n> \n> [A Gotcha When Using ZooKeeper Ephemeral Nodes](http://developers.blog.box.com/2012/04/10/a-gotcha-when-using-zookeeper-ephemeral-nodes/)\n> \n> [ephemerals handling after restart](http://zookeeper-user.578899.n2.nabble.com/ephemerals-handling-after-restart-td1084715.html)","source":"_posts/zookeeper-ephemeral-nodes-experience.md","raw":"title: Zookeeper Ephemeral\ntags:\n  - ZooKeeper\nid: 619\ncategories:\n  - \ndate: 2012-11-05 20:33:28\n---\n\nZookeeperZKZKZKEphemeralZK\n<!--more-->  > **P.S.:**EphemeralApache Zookeepersessionsession  \n\n****\n\n\n\n****\n\nsessionephemeralsessionsessionexpireZKZK30s\n\n****\n\nApachepatchsession   <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\" width=\"637\"><tbody>       <tr>         <td valign=\"top\" width=\"635\">           <p> 1\\. try {\n\n 2.&#160;&#160; zk.delete(path)\n\n 3\\. } catch {\n\n 4.&#160;&#160; e: NoNodeException =&gt; // do nothing\n\n 5\\. }\n\n 6\\. zk.create(path, data, CreateMode.EPHEMERAL)\n         </td>       </tr>     </tbody></table> </p>  > ****\n> \n> [A Gotcha When Using ZooKeeper Ephemeral Nodes](http://developers.blog.box.com/2012/04/10/a-gotcha-when-using-zookeeper-ephemeral-nodes/)\n> \n> [ephemerals handling after restart](http://zookeeper-user.578899.n2.nabble.com/ephemerals-handling-after-restart-td1084715.html)","slug":"zookeeper-ephemeral-nodes-experience","published":1,"updated":"2015-12-29T13:31:03.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciirfw6yj0001sv8fsy8xi3s5"},{"title":"11","id":"875","date":"2013-11-17T15:49:49.000Z","_content":"\n**1**\n\n111111\n<!--more-->  \n\n11\n\n&#160;\n\n**2**\n\n2-31\n\n****ownerTPS/TPSTPSokay\n\n****TPSPPT[](http://club.alibabatech.org/resource_detail.htm?topicId=81)\n\n****[java](http://iamzhongyong.iteye.com/blog/1897694)\n\n0.9Random10%TMDSLATMDnginx500TPS50111\n\n&#160;\n\n**3**\n\n111111\n\n&#160;\n  > 1111","source":"_posts/what-i-think-about-1111.md","raw":"title: 11\ntags:\n  - 11\nid: 875\ncategories:\n  - \ndate: 2013-11-17 23:49:49\n---\n\n**1**\n\n111111\n<!--more-->  \n\n11\n\n&#160;\n\n**2**\n\n2-31\n\n****ownerTPS/TPSTPSokay\n\n****TPSPPT[](http://club.alibabatech.org/resource_detail.htm?topicId=81)\n\n****[java](http://iamzhongyong.iteye.com/blog/1897694)\n\n0.9Random10%TMDSLATMDnginx500TPS50111\n\n&#160;\n\n**3**\n\n111111\n\n&#160;\n  > 1111","slug":"what-i-think-about-1111","published":1,"updated":"2015-12-29T13:31:03.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciirfw6yo0006sv8ffygadnfd"},{"title":"@e_","id":"492","date":"2012-03-26T15:20:04.000Z","_content":"\n**1******\n\ncoding\n\n<!--more-->\n\n**2******\n\n[](http://open.weibo.com/)Java SDK\n\nsdkaccess_tokenWeibojson \n  <div class=\"dp-highlighter\">   <div class=\"bar\"></div>    \n\n1.  <span><span>User user = um.showUserById(uid);&#160;&#160; </span></span>2.  <span></span><span class=\"comment\">// get the count of your weibos </span><span>&#160; </span></span>3.  <span></span><span class=\"comment\">// prepared for iteration </span><span>&#160; </span></span>4.  <span></span><span class=\"keyword\">int</span><span> count = user.getStatusesCount();&#160;&#160; </span></span>5.  <span></span><span class=\"keyword\">int</span><span> page_count = </span><span class=\"number\">30</span><span>;&#160;&#160; </span></span>6.  <span>String json = </span><span class=\"string\">&quot;https://api.weibo.com/2/statuses/user_timeline.json?count=&quot;</span><span>&#160; </span></span>7.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; + page_count + </span><span class=\"string\">&quot;&amp;page=&quot;</span><span>;&#160;&#160; </span></span>8.  <span></span><span class=\"keyword\">int</span><span> page = </span><span class=\"number\">1</span><span>;&#160;&#160; </span></span>9.  <span>FileWriter writer;&#160;&#160; </span>10.  <span>Response response = </span><span class=\"keyword\">null</span><span>;&#160;&#160; </span></span>11.  <span></span><span class=\"keyword\">do</span><span> {&#160;&#160; </span></span>12.  <span>&#160;&#160;&#160; writer = </span><span class=\"keyword\">new</span><span> FileWriter(</span><span class=\"keyword\">new</span><span> File(</span><span class=\"string\">&quot;txt&quot;</span><span>+page+</span><span class=\"string\">&quot;.txt&quot;</span><span>), </span><span class=\"keyword\">true</span><span>);&#160;&#160; </span></span>13.  <span>&#160;&#160;&#160; response = weibo.client.get(json + page);&#160;&#160; </span>14.  <span>&#160;&#160;&#160; writer.write(response.getResponseAsString());&#160;&#160; </span>15.  <span>} </span><span class=\"keyword\">while</span><span> (page++ * page_count &lt; count);&#160;&#160; </span></span> </div>    \n\n\n\n**3******\n\njsonjsonorg.jsonGSON\n\ncreated_atsourcepythonreTue May 31 17:46:55 +0800 2011Java    <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>       <tr>         <td valign=\"top\" width=\"568\">           <p>SimpleDateFormat **formater** = **new** SimpleDateFormat(\n\n&quot;EEE MMM d HH:mm:ss Z yyyy&quot;, Locale._ENGLISH_);\n         </td>       </tr>     </tbody></table> </p>  \n\nDateCalenderDate\n\n**4******\n\nExcel\n\n[![image](http://www.hongweiyi.com/wp-content/uploads/2012/03/image_thumb6.png \"image\")](http://www.hongweiyi.com/wp-content/uploads/2012/03/image6.png) \n\n\n\n[![image](http://www.hongweiyi.com/wp-content/uploads/2012/03/image_thumb7.png \"image\")](http://www.hongweiyi.com/wp-content/uploads/2012/03/image7.png) \n\npcpadiPad\n\n[![image](http://www.hongweiyi.com/wp-content/uploads/2012/03/image_thumb8.png \"image\")](http://www.hongweiyi.com/wp-content/uploads/2012/03/image8.png) \n\n\n\n[![image](http://www.hongweiyi.com/wp-content/uploads/2012/03/image_thumb9.png \"image\")](http://www.hongweiyi.com/wp-content/uploads/2012/03/image9.png) \n\n\n\n[![image](http://www.hongweiyi.com/wp-content/uploads/2012/03/image_thumb10.png \"image\")](http://www.hongweiyi.com/wp-content/uploads/2012/03/image10.png) \n\n\n\n**5**\n\n","source":"_posts/weibo-analysis.md","raw":"title: '@e_'\ntags:\n  - \n  - \nid: 492\ncategories:\n  - \ndate: 2012-03-26 23:20:04\n---\n\n**1******\n\ncoding\n\n<!--more-->\n\n**2******\n\n[](http://open.weibo.com/)Java SDK\n\nsdkaccess_tokenWeibojson \n  <div class=\"dp-highlighter\">   <div class=\"bar\"></div>    \n\n1.  <span><span>User user = um.showUserById(uid);&#160;&#160; </span></span>2.  <span></span><span class=\"comment\">// get the count of your weibos </span><span>&#160; </span></span>3.  <span></span><span class=\"comment\">// prepared for iteration </span><span>&#160; </span></span>4.  <span></span><span class=\"keyword\">int</span><span> count = user.getStatusesCount();&#160;&#160; </span></span>5.  <span></span><span class=\"keyword\">int</span><span> page_count = </span><span class=\"number\">30</span><span>;&#160;&#160; </span></span>6.  <span>String json = </span><span class=\"string\">&quot;https://api.weibo.com/2/statuses/user_timeline.json?count=&quot;</span><span>&#160; </span></span>7.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; + page_count + </span><span class=\"string\">&quot;&amp;page=&quot;</span><span>;&#160;&#160; </span></span>8.  <span></span><span class=\"keyword\">int</span><span> page = </span><span class=\"number\">1</span><span>;&#160;&#160; </span></span>9.  <span>FileWriter writer;&#160;&#160; </span>10.  <span>Response response = </span><span class=\"keyword\">null</span><span>;&#160;&#160; </span></span>11.  <span></span><span class=\"keyword\">do</span><span> {&#160;&#160; </span></span>12.  <span>&#160;&#160;&#160; writer = </span><span class=\"keyword\">new</span><span> FileWriter(</span><span class=\"keyword\">new</span><span> File(</span><span class=\"string\">&quot;txt&quot;</span><span>+page+</span><span class=\"string\">&quot;.txt&quot;</span><span>), </span><span class=\"keyword\">true</span><span>);&#160;&#160; </span></span>13.  <span>&#160;&#160;&#160; response = weibo.client.get(json + page);&#160;&#160; </span>14.  <span>&#160;&#160;&#160; writer.write(response.getResponseAsString());&#160;&#160; </span>15.  <span>} </span><span class=\"keyword\">while</span><span> (page++ * page_count &lt; count);&#160;&#160; </span></span> </div>    \n\n\n\n**3******\n\njsonjsonorg.jsonGSON\n\ncreated_atsourcepythonreTue May 31 17:46:55 +0800 2011Java    <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>       <tr>         <td valign=\"top\" width=\"568\">           <p>SimpleDateFormat **formater** = **new** SimpleDateFormat(\n\n&quot;EEE MMM d HH:mm:ss Z yyyy&quot;, Locale._ENGLISH_);\n         </td>       </tr>     </tbody></table> </p>  \n\nDateCalenderDate\n\n**4******\n\nExcel\n\n[![image](http://www.hongweiyi.com/wp-content/uploads/2012/03/image_thumb6.png \"image\")](http://www.hongweiyi.com/wp-content/uploads/2012/03/image6.png) \n\n\n\n[![image](http://www.hongweiyi.com/wp-content/uploads/2012/03/image_thumb7.png \"image\")](http://www.hongweiyi.com/wp-content/uploads/2012/03/image7.png) \n\npcpadiPad\n\n[![image](http://www.hongweiyi.com/wp-content/uploads/2012/03/image_thumb8.png \"image\")](http://www.hongweiyi.com/wp-content/uploads/2012/03/image8.png) \n\n\n\n[![image](http://www.hongweiyi.com/wp-content/uploads/2012/03/image_thumb9.png \"image\")](http://www.hongweiyi.com/wp-content/uploads/2012/03/image9.png) \n\n\n\n[![image](http://www.hongweiyi.com/wp-content/uploads/2012/03/image_thumb10.png \"image\")](http://www.hongweiyi.com/wp-content/uploads/2012/03/image10.png) \n\n\n\n**5**\n\n","slug":"weibo-analysis","published":1,"updated":"2015-12-29T13:31:03.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciirfw6yp000asv8f8xnwf1qu"},{"title":"","id":"135","date":"2011-04-05T02:34:36.000Z","_content":"\n\n\n\n\n\n\n\n\n&nbsp;\n\n\n\n\n\n&nbsp;\n\n\n\n\n\n....\n\n\n\n\n\n&nbsp;\n\n\n\n\n\n&nbsp;\n\n\n\n\n\n...\n\n&nbsp;\n\n\n\n\n\n\n\n<object classid=\"clsid:d27cdb6e-ae6d-11cf-96b8-444553540000\" width=\"100\" height=\"50\" codebase=\"http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0\"><param name=\"src\" value=\"http://www.directcurrentmusic.com/storage/mp3s-12/Wanting%20-%20You%20Exist%20In%20My%20Song.mp3\" /><embed type=\"application/x-shockwave-flash\" width=\"100\" height=\"50\" src=\"http://www.directcurrentmusic.com/storage/mp3s-12/Wanting%20-%20You%20Exist%20In%20My%20Song.mp3\"></embed></object>","source":"_posts/wanting-qu.md","raw":"title: \ntags:\n  - \n  - \nid: 135\ncategories:\n  - \ndate: 2011-04-05 10:34:36\n---\n\n\n\n\n\n\n\n\n\n&nbsp;\n\n\n\n\n\n&nbsp;\n\n\n\n\n\n....\n\n\n\n\n\n&nbsp;\n\n\n\n\n\n&nbsp;\n\n\n\n\n\n...\n\n&nbsp;\n\n\n\n\n\n\n\n<object classid=\"clsid:d27cdb6e-ae6d-11cf-96b8-444553540000\" width=\"100\" height=\"50\" codebase=\"http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0\"><param name=\"src\" value=\"http://www.directcurrentmusic.com/storage/mp3s-12/Wanting%20-%20You%20Exist%20In%20My%20Song.mp3\" /><embed type=\"application/x-shockwave-flash\" width=\"100\" height=\"50\" src=\"http://www.directcurrentmusic.com/storage/mp3s-12/Wanting%20-%20You%20Exist%20In%20My%20Song.mp3\"></embed></object>","slug":"wanting-qu","published":1,"updated":"2015-12-29T13:31:03.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciirfw6yr000hsv8fdns7ehnx"},{"title":"","id":"61","date":"2011-02-11T05:14:39.000Z","_content":"\n\n\nLL\n\n230\n\n<!--more-->[**Guokr.com**](http://www.guokr.com)[****](http://www.guokr.com)[****](http://www.guokr.com/site/fact/)\n> [****](http://www.guokr.com/article/598/) \r> \n> \n> [**+**](http://www.guokr.com/article/598/) \r> \n> \n> **[](http://www.guokr.com/article/701/) **\r> \n> \n> [****](http://www.guokr.com/article/1079/) \n","source":"_posts/truth-in-rumor.md","raw":"title: \ntags:\n  - \nid: 61\ncategories:\n  - \ndate: 2011-02-11 13:14:39\n---\n\n\n\nLL\n\n230\n\n<!--more-->[**Guokr.com**](http://www.guokr.com)[****](http://www.guokr.com)[****](http://www.guokr.com/site/fact/)\n> [****](http://www.guokr.com/article/598/) \r> \n> \n> [**+**](http://www.guokr.com/article/598/) \r> \n> \n> **[](http://www.guokr.com/article/701/) **\r> \n> \n> [****](http://www.guokr.com/article/1079/) \n","slug":"truth-in-rumor","published":1,"updated":"2015-12-29T13:31:03.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciirfw6yu000nsv8fvw5ckjh2"},{"title":" - NoSQL","id":"571","date":"2012-07-25T14:33:49.000Z","_content":"\nHTMLPDF[**NoSQLFan**](http://blog.nosqlfan.com)****\n\n[**HTML******](https://docs.google.com/document/pub?id=1NO__9thOb8V1mM3iQID3IUmwGh9wtra7xkpmvCZIvoU)**[PDF](http://blog.nosqlfan.com/wp-content/uploads/2011/nosql_ecosystem.pdf)**[ [****](http://www.aosabook.org/en/nosql.html) ] [ [****](http://blog.nosqlfan.com/html/2171.html) ]\n\n<!--more-->\n\n**-----------------------------------******-------------------------------------\n\nNoSQLNoSQLSQLNoSQL\n\nNoSQLNoSQL \n\n**13.1 NoSQL******\n\nNoSQLNoSQLSQLNoSQLNoSQLNot Only SQLNoSQLNoSQL\n\nNoSQLNoSQL\n\n**13.1.1 SQL******\n\nSQL39\n\nSQL\n\n\n\nSQLemployeeid = 3,  salary &gt; $200003\n\n\n\n*   SQL*   *     \n\nSQLSQLNoSQL\n\n**13.1.2 NoSQL******\n\nNoSQL\n\nGoogleBigTable[[CDG+06](http://www.aosabook.org/en/bibliography.html#bib:bigtable)]\n\nAmazonDynamo[[DHJ+07](http://www.aosabook.org/en/bibliography.html#bib:amazon:dynamo)]Dynamokeyhash\n\nHBaseNoSQLBigTableVoldemort DynamoCassandraBigTableDynamo\n\n**13.1.3 ******\n\nNoSQLSQLNoSQL NoSQL\n\nNoSQLall-or-nothing\n\nNoSQLNoSQL\n\nNoSQLNoSQLNoSQLNoSQL\n\nNoSQL\n\n*   *   *   *   *   *   ACID*   *   web  \n\n\n\n**13.2 NoSQL******\n\nSQLMapReduceNoSQL\n\n**13.2.1 ****keyNoSQL**\n\n emplyee:30 30employee_departments:20 2020employee_departments:20 IDemployee:ID\n\n\n\nNoSQL\n\n**Key-Value ******\n\nKey-ValueNoSQLkeyNoSQL exployee:30 key[Protocol Buffer](http://code.google.com/p/protobuf/)[Thrift](http://thrift.apache.org/)[Avro](http://avro.apache.org/)\n\nKey-ValueKey-ValuesetgetdeleteDynamoVoldemortKey-ValueBDB Key-Value\n\n**Key ****  **\n\nKeyRedisRedisKey-ValueValueValueset/get/delete Redislist push/pop ValueRedis\n\n**Key ****  **\n\nKey  CouchDBMongoDBRiakKey-ValueValueJSONJSON\n\nMongoDB KeycollectioncollectionKeyCouchDBRiak\n\n**BigTable ******\n\nHBaseCassandraGoogle BigTable\n\nIDKeyValueKeyKeyNULL\n\nNoSQLBigTableCassandraCassandrasupercolumnlocality groups\n\n**13.2.2 ******\n\nNoSQLNeo4jHyperGraphDB\n\n**13.2.3 ******\n\nNoSQLMongoDBJavascriptBigTableCouchDBMapReduceNoSQLHadoopMapReduce\n\n**13.2.4 ******\n\nNoSQL\n\nSQLACIDA;C;I;D\n\nACID\n\nNoSQLACIDNoSQLKeyKey-Value\n\nNoSQLRedisMULTIWATCHtest-and-set\n\n**13.2.5 Schema-free******\n\nNoSQLlastname\n\n**13.3 ******\n\nNoSQL\n\nRAIDNoSQL\n\n**13.3.1 ******\n\nIObufferfsync\n\n100-20030-100MBfsync\n\n**fsync**\n\nMemcachedMemcached \n\nRedisfsyncRedisfsyncRedisNfsyncNRedisCachefsyncflush   \nRedis append only fileRedisaofRedis dumprdb\n\n****\n\nB+ NoSQLfsyncCassandraHBaseRedisRiakfsync\n\nNoSQLMongoDBNoSQLCassandraHBaseBigTableRiakhashRiak[BitCask](http://downloads.basho.com/papers/bitcask-intro.pdf)CouchDBB+B+[append-only B-Tree](http://jchrisa.net/drl/nosql-oakland/btree-nosql-oak.pdf)\n\n****\n\nCassandrafsyncgroup commitHBaseHadoop HDFSgroup commit\n\n**13.3.2 ******\n\nNoSQL\n\nRedismasterslavemasterslavemastermastermasterslavemasterslaveCouchDB \n\nMongoDBReplica SetsReplica SetsMongoDBNoSQLHBaseHDFSHDFSHDFS\n\nRiakCassandraVoldemortNWWN\n\nCassandraHBaseVoldemort\n\n**13.4 ******\n\n\n\nNoSQLCassandraHBaseVoldemortRiakMongoDBRedisCouchDB\n\n\n\nNoSQLhash\n\n**13.4.1 ******\n\n\n\n****\n\nmastermaster\n\nslavemasterslaveslave\n\n****\n\nMemcached Memcached  hash\n\nMemcachedFacebook TBMemcahced\n\nmaster\n\n**13.4.2 ******\n\nCouchDBLounge  BigCouchproxyCouchDBproxyCouchDBCouchDBCouchDB key\n\nTwitter GizzardGizzardSQLNoSQL Gizzard \n\n**13.4.3 ****hash**\n\nhashhashdistributed hash tables (DHTs)DynamoCassandraVoldemortRiakhash\n\n**Hash******\n\n[![A-Distributed-Hash-Table-Ring](http://www.hongweiyi.com/wp-content/uploads/2012/07/ADistributedHashTableRing_thumb.png \"A-Distributed-Hash-Table-Ring\")](http://www.hongweiyi.com/wp-content/uploads/2012/07/ADistributedHashTableRing.png) \n\nhashhashHkeyhashhash1LhashLkey1-Lhash\n\nhashL1000ABCDE 5hashH(A) mod L = 7, H(B) mod L = 234, H(C) mod L = 447, H(D) mod L = 660, and H(E) mod L = 875 hash7-233AhashH(employee30) mod L = 899 EH(employee31) mod L = 234 B\n\n****\n\nhash3hashA7233ABCABCEA233A\n\n****\n\nhashhashhashkey5Ahash227E132\n\nDHT4AA_1A_2A_3A_4hashAkeyVoldemort N\n\nCassandra Cassandra \n\n**13.4.4 ******\n\nkeyhashkeyhashkeystartend\n\n\n\n**BigTable******\n\nGoogle BigTable tablettabletTablet tabletTablettablet\n\ntablet100-200MBtablettablettablettablettablettabletmastertablettablet\n\n[![BigTable-based-Range-Partitioning](http://www.hongweiyi.com/wp-content/uploads/2012/07/BigTablebasedRangePartitioning_thumb.png \"BigTable-based-Range-Partitioning\")](http://www.hongweiyi.com/wp-content/uploads/2012/07/BigTablebasedRangePartitioning.png)     \nmaster tablet tablettablet\n\nBigTablekey900AMETADATA0500-1500BBBB850-950tabletCtabletCC900128MB234 tablet128MB261bytes\n\n****\n\nBigTablemastermastertablet mastertablet\n\nBigTableChubbyChubbyZooKeeperChubby Hadoop mastertablet\n\n**NoSQL**\n\nHBase BigTabletabletHDFSHDFS tablettablet\n\nMongoDBBigTable two-phase commit BigTablemasterChubby MongoDBReplica Sets\n\nCassandra Cassandrahashhashhash2021\n\nTwitterGizzardkeyGizzardGizzardNoSQLcache\n\n**13.4.5 ******\n\nHashkeyhash\n\nhashhashhashhashhash\n\nhash\n\n**13.5 ******\n\nNoSQL\n\n**13.5.1 ****CAP**\n\n Eric Brewer CAPGilbert  Lynch CAP\n\n*   C*   A*   P  \n\nCAPNoSQL\n\n724\n\n\n\nCAPYahoo! PNUTSNoSQL\n\n**13.5.2 ******\n\nkeyvaluekeykey\n\nNNWRNWRRW&gt;N\n\nN3ABC employee30:salary 2000030000W2ABCemployee30:salary, 30000ABC20000employee30:salaryABC\n\n*   R1C20000*   R220000300003000020000  \n\nR2W2\n\nWR\n\nRWWNRW = N+1WNR1\n\nHBaseHDFSHDFSNWNR1swap\n\n**13.5.3 ******\n\nVoldemortCassandraRiakDynamoNRWWR&lt;= NW&lt;N\n\nDynamo\n\n****\n\nDynamovector clockvector clockABCvector clockNANBNC000\n\nkeyvector clock1keyvector clock3915Bcector clock3925CBvector clockBvector clockvector clockBvector clockCvector clockBBB3925C3916BC\n\n****\n\nDynamoSVNVoldemort\n\nCassandraAPIRiakVoldemort Cassandra CouchDBkey\n\n****\n\nRNDynamoVoldemort  CassandraRiak\n\n**Hinted Handoff**\n\nCassandraRiakVoldemortHinted HandoffkeyDynamo sloppy quorum Hinted Handoff CassandraVoldemortWHinted Handoff \n\n**Anti-Entropy**\n\n Hinted Handoff CassandraRiakDynamoanti-entropyanti-entropyMerkle TreeMerkle Treehashkeyhashkeyhashkeyhash\n\n**Gossip**\n\nDynamo DynamoGossipGossipGossip\n\n**13.6 ******\n\nNoSQLNoSQLNoSQLNoSQLNoSQL\n\n**13.7 ******\n\nJackie Carter, Mihir KediaNoSQL\n  > ****\n> \n> : [http://www.aosabook.org/en/nosql.html](http://www.aosabook.org/en/nosql.html)\n> \n> [Adam Marcus](http://www.aosabook.org/en/intro.html#marcus-adam)\n> \n> [iammutex](http://lgone.com/)\n> \n> [NoSQLFan](http://nosqlfan.com/)\n> \n> 20116","source":"_posts/the-nosql-ecosystem.md","raw":"title:  - NoSQL\ntags:\n  - NoSQL\nid: 571\ncategories:\n  - \ndate: 2012-07-25 22:33:49\n---\n\nHTMLPDF[**NoSQLFan**](http://blog.nosqlfan.com)****\n\n[**HTML******](https://docs.google.com/document/pub?id=1NO__9thOb8V1mM3iQID3IUmwGh9wtra7xkpmvCZIvoU)**[PDF](http://blog.nosqlfan.com/wp-content/uploads/2011/nosql_ecosystem.pdf)**[ [****](http://www.aosabook.org/en/nosql.html) ] [ [****](http://blog.nosqlfan.com/html/2171.html) ]\n\n<!--more-->\n\n**-----------------------------------******-------------------------------------\n\nNoSQLNoSQLSQLNoSQL\n\nNoSQLNoSQL \n\n**13.1 NoSQL******\n\nNoSQLNoSQLSQLNoSQLNoSQLNot Only SQLNoSQLNoSQL\n\nNoSQLNoSQL\n\n**13.1.1 SQL******\n\nSQL39\n\nSQL\n\n\n\nSQLemployeeid = 3,  salary &gt; $200003\n\n\n\n*   SQL*   *     \n\nSQLSQLNoSQL\n\n**13.1.2 NoSQL******\n\nNoSQL\n\nGoogleBigTable[[CDG+06](http://www.aosabook.org/en/bibliography.html#bib:bigtable)]\n\nAmazonDynamo[[DHJ+07](http://www.aosabook.org/en/bibliography.html#bib:amazon:dynamo)]Dynamokeyhash\n\nHBaseNoSQLBigTableVoldemort DynamoCassandraBigTableDynamo\n\n**13.1.3 ******\n\nNoSQLSQLNoSQL NoSQL\n\nNoSQLall-or-nothing\n\nNoSQLNoSQL\n\nNoSQLNoSQLNoSQLNoSQL\n\nNoSQL\n\n*   *   *   *   *   *   ACID*   *   web  \n\n\n\n**13.2 NoSQL******\n\nSQLMapReduceNoSQL\n\n**13.2.1 ****keyNoSQL**\n\n emplyee:30 30employee_departments:20 2020employee_departments:20 IDemployee:ID\n\n\n\nNoSQL\n\n**Key-Value ******\n\nKey-ValueNoSQLkeyNoSQL exployee:30 key[Protocol Buffer](http://code.google.com/p/protobuf/)[Thrift](http://thrift.apache.org/)[Avro](http://avro.apache.org/)\n\nKey-ValueKey-ValuesetgetdeleteDynamoVoldemortKey-ValueBDB Key-Value\n\n**Key ****  **\n\nKeyRedisRedisKey-ValueValueValueset/get/delete Redislist push/pop ValueRedis\n\n**Key ****  **\n\nKey  CouchDBMongoDBRiakKey-ValueValueJSONJSON\n\nMongoDB KeycollectioncollectionKeyCouchDBRiak\n\n**BigTable ******\n\nHBaseCassandraGoogle BigTable\n\nIDKeyValueKeyKeyNULL\n\nNoSQLBigTableCassandraCassandrasupercolumnlocality groups\n\n**13.2.2 ******\n\nNoSQLNeo4jHyperGraphDB\n\n**13.2.3 ******\n\nNoSQLMongoDBJavascriptBigTableCouchDBMapReduceNoSQLHadoopMapReduce\n\n**13.2.4 ******\n\nNoSQL\n\nSQLACIDA;C;I;D\n\nACID\n\nNoSQLACIDNoSQLKeyKey-Value\n\nNoSQLRedisMULTIWATCHtest-and-set\n\n**13.2.5 Schema-free******\n\nNoSQLlastname\n\n**13.3 ******\n\nNoSQL\n\nRAIDNoSQL\n\n**13.3.1 ******\n\nIObufferfsync\n\n100-20030-100MBfsync\n\n**fsync**\n\nMemcachedMemcached \n\nRedisfsyncRedisfsyncRedisNfsyncNRedisCachefsyncflush   \nRedis append only fileRedisaofRedis dumprdb\n\n****\n\nB+ NoSQLfsyncCassandraHBaseRedisRiakfsync\n\nNoSQLMongoDBNoSQLCassandraHBaseBigTableRiakhashRiak[BitCask](http://downloads.basho.com/papers/bitcask-intro.pdf)CouchDBB+B+[append-only B-Tree](http://jchrisa.net/drl/nosql-oakland/btree-nosql-oak.pdf)\n\n****\n\nCassandrafsyncgroup commitHBaseHadoop HDFSgroup commit\n\n**13.3.2 ******\n\nNoSQL\n\nRedismasterslavemasterslavemastermastermasterslavemasterslaveCouchDB \n\nMongoDBReplica SetsReplica SetsMongoDBNoSQLHBaseHDFSHDFSHDFS\n\nRiakCassandraVoldemortNWWN\n\nCassandraHBaseVoldemort\n\n**13.4 ******\n\n\n\nNoSQLCassandraHBaseVoldemortRiakMongoDBRedisCouchDB\n\n\n\nNoSQLhash\n\n**13.4.1 ******\n\n\n\n****\n\nmastermaster\n\nslavemasterslaveslave\n\n****\n\nMemcached Memcached  hash\n\nMemcachedFacebook TBMemcahced\n\nmaster\n\n**13.4.2 ******\n\nCouchDBLounge  BigCouchproxyCouchDBproxyCouchDBCouchDBCouchDB key\n\nTwitter GizzardGizzardSQLNoSQL Gizzard \n\n**13.4.3 ****hash**\n\nhashhashdistributed hash tables (DHTs)DynamoCassandraVoldemortRiakhash\n\n**Hash******\n\n[![A-Distributed-Hash-Table-Ring](http://www.hongweiyi.com/wp-content/uploads/2012/07/ADistributedHashTableRing_thumb.png \"A-Distributed-Hash-Table-Ring\")](http://www.hongweiyi.com/wp-content/uploads/2012/07/ADistributedHashTableRing.png) \n\nhashhashHkeyhashhash1LhashLkey1-Lhash\n\nhashL1000ABCDE 5hashH(A) mod L = 7, H(B) mod L = 234, H(C) mod L = 447, H(D) mod L = 660, and H(E) mod L = 875 hash7-233AhashH(employee30) mod L = 899 EH(employee31) mod L = 234 B\n\n****\n\nhash3hashA7233ABCABCEA233A\n\n****\n\nhashhashhashkey5Ahash227E132\n\nDHT4AA_1A_2A_3A_4hashAkeyVoldemort N\n\nCassandra Cassandra \n\n**13.4.4 ******\n\nkeyhashkeyhashkeystartend\n\n\n\n**BigTable******\n\nGoogle BigTable tablettabletTablet tabletTablettablet\n\ntablet100-200MBtablettablettablettablettablettabletmastertablettablet\n\n[![BigTable-based-Range-Partitioning](http://www.hongweiyi.com/wp-content/uploads/2012/07/BigTablebasedRangePartitioning_thumb.png \"BigTable-based-Range-Partitioning\")](http://www.hongweiyi.com/wp-content/uploads/2012/07/BigTablebasedRangePartitioning.png)     \nmaster tablet tablettablet\n\nBigTablekey900AMETADATA0500-1500BBBB850-950tabletCtabletCC900128MB234 tablet128MB261bytes\n\n****\n\nBigTablemastermastertablet mastertablet\n\nBigTableChubbyChubbyZooKeeperChubby Hadoop mastertablet\n\n**NoSQL**\n\nHBase BigTabletabletHDFSHDFS tablettablet\n\nMongoDBBigTable two-phase commit BigTablemasterChubby MongoDBReplica Sets\n\nCassandra Cassandrahashhashhash2021\n\nTwitterGizzardkeyGizzardGizzardNoSQLcache\n\n**13.4.5 ******\n\nHashkeyhash\n\nhashhashhashhashhash\n\nhash\n\n**13.5 ******\n\nNoSQL\n\n**13.5.1 ****CAP**\n\n Eric Brewer CAPGilbert  Lynch CAP\n\n*   C*   A*   P  \n\nCAPNoSQL\n\n724\n\n\n\nCAPYahoo! PNUTSNoSQL\n\n**13.5.2 ******\n\nkeyvaluekeykey\n\nNNWRNWRRW&gt;N\n\nN3ABC employee30:salary 2000030000W2ABCemployee30:salary, 30000ABC20000employee30:salaryABC\n\n*   R1C20000*   R220000300003000020000  \n\nR2W2\n\nWR\n\nRWWNRW = N+1WNR1\n\nHBaseHDFSHDFSNWNR1swap\n\n**13.5.3 ******\n\nVoldemortCassandraRiakDynamoNRWWR&lt;= NW&lt;N\n\nDynamo\n\n****\n\nDynamovector clockvector clockABCvector clockNANBNC000\n\nkeyvector clock1keyvector clock3915Bcector clock3925CBvector clockBvector clockvector clockBvector clockCvector clockBBB3925C3916BC\n\n****\n\nDynamoSVNVoldemort\n\nCassandraAPIRiakVoldemort Cassandra CouchDBkey\n\n****\n\nRNDynamoVoldemort  CassandraRiak\n\n**Hinted Handoff**\n\nCassandraRiakVoldemortHinted HandoffkeyDynamo sloppy quorum Hinted Handoff CassandraVoldemortWHinted Handoff \n\n**Anti-Entropy**\n\n Hinted Handoff CassandraRiakDynamoanti-entropyanti-entropyMerkle TreeMerkle Treehashkeyhashkeyhashkeyhash\n\n**Gossip**\n\nDynamo DynamoGossipGossipGossip\n\n**13.6 ******\n\nNoSQLNoSQLNoSQLNoSQLNoSQL\n\n**13.7 ******\n\nJackie Carter, Mihir KediaNoSQL\n  > ****\n> \n> : [http://www.aosabook.org/en/nosql.html](http://www.aosabook.org/en/nosql.html)\n> \n> [Adam Marcus](http://www.aosabook.org/en/intro.html#marcus-adam)\n> \n> [iammutex](http://lgone.com/)\n> \n> [NoSQLFan](http://nosqlfan.com/)\n> \n> 20116","slug":"the-nosql-ecosystem","published":1,"updated":"2015-12-29T13:31:03.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciirfw6yw000rsv8fvvzmndqh"},{"title":" - ","id":"702","date":"2013-03-15T16:00:14.000Z","_content":"\n\n\nsystem design principles\n<!--more-->\n\n&#160;\n\n**1\\. Operating Systems**\n\n**Mach** [Intro: [http://www-2.cs.cmu.edu/afs/cs/project/mach/public/www/mach.html](http://www-2.cs.cmu.edu/afs/cs/project/mach/public/www/mach.html),Paper: [http://www-2.cs.cmu.edu/afs/cs/project/mach/public/www/doc/publications.html](http://www-2.cs.cmu.edu/afs/cs/project/mach/public/www/doc/publications.html)]\n\nkernelOSUNIXmonolithic kernel architecture\n\n1985Machmicrokernel70UNIXmonokernelmicrokernel\n\nMachRichard RashidCMUBillGatesJimGrayMSMicrosoft Research21Century Computingkeynotes\n\n**Exokernel** [Intro:[http://pdos.csail.mit.edu/exo/](http://pdos.csail.mit.edu/exo/)Paper:[http://pdos.csail.mit.edu/PDOS-papers.html#Exokernels](http://pdos.csail.mit.edu/PDOS-papers.html#Exokernels)]\n\nmicrokernelperformanceOSapplicationkernel extensionloadable module in LinuxOS kernel architecture\n\nExokernelOSabstractionprocess,virtual memoryresource isolation and multiplexingMITexokernellibOSOSinterfaceapplicationapplicationexokernelvirtual machine monitor\n\n**Singularity** [Intro:[http://research.microsoft.com/os/Singularity/](http://research.microsoft.com/os/Singularity/),Paper: [http://www.     \nresearch.microsoft.com/os/singularity/publications/HotOS2005_BroadNewResearch.pdf](http://www.research.microsoft.com/os/singularity/publications/HotOS2005_BroadNewResearch.pdf)]\n\nSingularityvirusspyware21Microsoft Researchtrust-worthy computingmanage-abilitySingularityhardisolationvirtual memory.NetJavaruntime\n\nSingularitymicrokernel.Nettype-safed assemblyABImessage passingapplication.NetCLRSingularity\n\nUNIX\n\n&#160;\n\n**2\\. Virtual Machines**\n\n**VMWare** [&quot;[MemoryResource Management in VMware ESX Server](http://www.usenix.org/events/osdi02/tech/waldspurger/waldspurger.pdf)&quot;OSDI02,Best paper award]\n\nvmware\n\n**XEN** [[Xen and the Art of Virtualization](http://www.cl.cam.ac.uk/research/srg/netos/papers/2003-xensosp.pdf), OSDI04]\n\nVMMCambridge\n\n**Denali** [[Scaleand Performance in the Denali Isolation Kernel](http://denali.cs.washington.edu/pubs/distpubs/papers/denali_osdi.pdf), OSDI02, UW]\n\ninternetservicesapplication level virtual machineVMsVMMisolation kernel\n\n**Entropia** [[The Entropia VirtualMachine for Desktop Grids](http://www-csag.ucsd.edu/papers/Entropia-VM.pdf), VEE05]\n\nEntropiawindowsapplication level virtual machinesyscallFVM[AFeather-weight Virtual Machine for Windows Applications](http://www.usenix.org/events/vee06/full_papers/p24-yu.pdf)\n\n&#160;\n\n**3\\. Design Revisited**\n\n [Are Virtual Machine Monitors Microkernels Done Right?](http://www.usenix.org/event/hotos05/final_papers/full_papers/hand/hand.pdf)HotOS05\n\nVMMsMicrokernelVMMMicrokernel\n\n[Thirty Years Is Long Enough: Getting Beyond C](http://www.usenix.org/events/hotos05/final_papers/full_papers/brewer/brewer.pdf), HotOS05\n\nCthreadfunctional programming languagepromising\n\n&#160;\n\n**4\\. Programming Model**\n\n[Why Threads Are a Bad Idea](http://www.stanford.edu/class/cs240/readings/threads-bad-usenix96.pdf)\n\nthreadserver\n\n[SEDA: An Architecture for Well-Conditioned, Scalable Internet Services](http://www.eecs.harvard.edu/~mdw/papers/seda-sosp01.pdf)OSDI01\n\nThreadeventSEDAstagestagequeuestagethreadqueueeventthread\n\n**Software Transactional Memory**\n\ntransactionlanguage, compiler, OS, runtimeintelhardware transactional memorybasenative assemblyC#,haskell[Wikipedia](http://en.wikipedia.org/wiki/Software_transactional_memory)\n\n&#160;\n\n**5\\. Distributed Algorithms**\n\n**Logical clock**, [[Time,clocks, and the ordering of events in a distributed system](http://portal.acm.org/ft_gateway.cfm?id=359563&amp;type=pdf&amp;coll=GUIDE&amp;dl=GUIDE&amp;CFID=12744388&amp;CFTOKEN=15273596), Leslie Lamport, 1978]\n\nLogic clock, time stamp, distributed synchronizationpaper\n\n**Byzantine** [[The ByzantineGenerals Problem](http://research.microsoft.com/users/lamport/pubs/byz.pdf), Leslie Lamport, 1982]\n\nmalicious behaviorLamportByzantine failure model3f+1replicastatemachinereplicafstate machine\n\n**Paxos** [[The part-time parliament](http://portal.acm.org/ft_gateway.cfm?id=279229&amp;type=pdf&amp;coll=GUIDE&amp;dl=GUIDE&amp;CFID=12744388&amp;CFTOKEN=15273596), Leslie Lamport, 1998]\n\nconsensusPaxospaper3.5Lamportpaper[Paxos Made Simple](http://research.microsoft.com/users/lamport/pubs/paxos-simple.pdf) Butler Lampson[The ABCDs of Paxos](http://portal.acm.org/citation.cfm?id=383962.383969&amp;coll=GUIDE&amp;dl=GUIDE&amp;CFID=12744978&amp;CFTOKEN=60475496)PODC01replicated state machine\n\n[Leslie Lamport](http://research.microsoft.com/users/lamport/)distributed computingMSRlogicalclockBillGates(in diaper)paper\n\nLamport60paper[Lamport on mutual exclusion: 27 years of planting seeds](http://portal.acm.org/ft_gateway.cfm?id=383967&amp;type=pdf&amp;coll=GUIDE&amp;dl=GUIDE&amp;CFID=12744388&amp;CFTOKEN=15273596), PODC01\n\n&#160;\n\n**6\\. Overlay Networking, and P2P DHT**\n\n**RON** [[Resilient Overlay Networks](http://nms.lcs.mit.edu/papers/ron-sosp2001.html), SOSP01]\n\nRONoverlayoverlay networking\n\n**Application Level Multicast**\n\n[End System Multicast](http://www.cs.cmu.edu/~hzhang/papers/sigmetrics-2000.ps.gz), SigMetrics00\n\n[Scalable Application Layer Multicast](http://pages.cs.wisc.edu/~suman/pubs/sigcomm02.pdf), SigComm02\n\nALMpapermesh networkmulticast treelayered deliverycoolstream, pplive\n\n**P2P**\n\nP2PP2P\n\n1.&#160;&#160;&#160; NapsterPeer to peer\n\n2.&#160;&#160;&#160; Gnutellagossipunstructured P2P\n\n3.&#160;&#160;&#160; DHTunstructured P2PDHThophoplogNN\n\nDHT[CAN](http://berkeley.intel-research.net/sylvia/cans.pdf), [Chord](http://pdos.csail.mit.edu/papers/chord:sigcomm01/chord_sigcomm.pdf),[Pastry](http://research.microsoft.com/~antr/PAST/pastry.pdf), [Tapestry](http://oceanstore.cs.berkeley.edu/publications/papers/pdf/tapestry_sigcomm_tr.pdf)\n\n&#160;\n\n**7\\. Distributed Systems**\n\n**GFS/MapReduce/BigTable/Chubby/Sawzall**\n\nGooglepaper[](http://research.google.com/pubs/papers.html)\n\n**Storage**\n\nDistributed storage systempaper\n\n[Chain Replication for Supporting High Throughput and Availability](http://www.cs.cornell.edu/fbs/publications/chainreplicosdi.pdf), OSDI04\n\n[Dynamo: Amazons Highly Available Key-value Store](http://s3.amazonaws.com/AllThingsDistributed/sosp/amazon-dynamo-sosp2007.pdf)SOSP07\n\n[BitVault: a Highly Reliable Distributed Data Retention Platform](http://research.microsoft.com/asia/dload_files/group/system/2007/BitVault-SigOpsOSR0704.pdf), SIGOPS OSR07\n\n<a>PacificA: Replication inLog-Based Distributed Storage Systems</a>, MSR-TR\n\n**Distributed Simulation**\n\n[Simulating Large-Scale P2P Systems with the WiDS Toolkit](http://research.microsoft.com/asia/dload_files/group/system/wids-mascots.pdf), MASCOTS05Distributed simulationsimulated protocoldistributedsimulation enginedistributedLogicalphysicaltimeevent\n\n&#160;\n\n**8\\. Controversial Computing Models**\n\n(deterministic)(non-deterministic)bugspatchbug fix\n\n31) 2)3)\n\n[Recovery Oriented Computing](http://roc.cs.berkeley.edu/)\n\n[Failure oblivious computing](http://www.cag.lcs.mit.edu/~rinard/paper/osdi04.pdf), OSDI04\n\n[Treating Bugs as Allergies](http://opera.cs.uiuc.edu/paper/Rx-SOSP05.pdf), SOSP05\n\n&#160;\n\n**9\\. Debugging**\n\ndata mining\n\nBlack box debugging[[Performance debugging for distributed systems of black boxes](http://pdos.csail.mit.edu/~athicha/papers/blackboxes:sosp03.pdf), SOSP03]\n\nperformance debugginglog/\n\nCP-miner [A Tool for Finding Copy-paste and Related Bugs in Operating System Code, OSDI04]\n\ncopy-pasteCPCP-minermine\n\n&#160;\n  > [http://qing.weibo.com/2244218960/85c41050330031zq.html](http://qing.weibo.com/2244218960/85c41050330031zq.html \"http://qing.weibo.com/2244218960/85c41050330031zq.html\")&#160;&#160; [@](http://weibo.com/linshiding)","source":"_posts/system-architecture-stuffs.md","raw":"title:  - \ntags:\n  - \nid: 702\ncategories:\n  - \ndate: 2013-03-16 00:00:14\n---\n\n\n\nsystem design principles\n<!--more-->\n\n&#160;\n\n**1\\. Operating Systems**\n\n**Mach** [Intro: [http://www-2.cs.cmu.edu/afs/cs/project/mach/public/www/mach.html](http://www-2.cs.cmu.edu/afs/cs/project/mach/public/www/mach.html),Paper: [http://www-2.cs.cmu.edu/afs/cs/project/mach/public/www/doc/publications.html](http://www-2.cs.cmu.edu/afs/cs/project/mach/public/www/doc/publications.html)]\n\nkernelOSUNIXmonolithic kernel architecture\n\n1985Machmicrokernel70UNIXmonokernelmicrokernel\n\nMachRichard RashidCMUBillGatesJimGrayMSMicrosoft Research21Century Computingkeynotes\n\n**Exokernel** [Intro:[http://pdos.csail.mit.edu/exo/](http://pdos.csail.mit.edu/exo/)Paper:[http://pdos.csail.mit.edu/PDOS-papers.html#Exokernels](http://pdos.csail.mit.edu/PDOS-papers.html#Exokernels)]\n\nmicrokernelperformanceOSapplicationkernel extensionloadable module in LinuxOS kernel architecture\n\nExokernelOSabstractionprocess,virtual memoryresource isolation and multiplexingMITexokernellibOSOSinterfaceapplicationapplicationexokernelvirtual machine monitor\n\n**Singularity** [Intro:[http://research.microsoft.com/os/Singularity/](http://research.microsoft.com/os/Singularity/),Paper: [http://www.     \nresearch.microsoft.com/os/singularity/publications/HotOS2005_BroadNewResearch.pdf](http://www.research.microsoft.com/os/singularity/publications/HotOS2005_BroadNewResearch.pdf)]\n\nSingularityvirusspyware21Microsoft Researchtrust-worthy computingmanage-abilitySingularityhardisolationvirtual memory.NetJavaruntime\n\nSingularitymicrokernel.Nettype-safed assemblyABImessage passingapplication.NetCLRSingularity\n\nUNIX\n\n&#160;\n\n**2\\. Virtual Machines**\n\n**VMWare** [&quot;[MemoryResource Management in VMware ESX Server](http://www.usenix.org/events/osdi02/tech/waldspurger/waldspurger.pdf)&quot;OSDI02,Best paper award]\n\nvmware\n\n**XEN** [[Xen and the Art of Virtualization](http://www.cl.cam.ac.uk/research/srg/netos/papers/2003-xensosp.pdf), OSDI04]\n\nVMMCambridge\n\n**Denali** [[Scaleand Performance in the Denali Isolation Kernel](http://denali.cs.washington.edu/pubs/distpubs/papers/denali_osdi.pdf), OSDI02, UW]\n\ninternetservicesapplication level virtual machineVMsVMMisolation kernel\n\n**Entropia** [[The Entropia VirtualMachine for Desktop Grids](http://www-csag.ucsd.edu/papers/Entropia-VM.pdf), VEE05]\n\nEntropiawindowsapplication level virtual machinesyscallFVM[AFeather-weight Virtual Machine for Windows Applications](http://www.usenix.org/events/vee06/full_papers/p24-yu.pdf)\n\n&#160;\n\n**3\\. Design Revisited**\n\n [Are Virtual Machine Monitors Microkernels Done Right?](http://www.usenix.org/event/hotos05/final_papers/full_papers/hand/hand.pdf)HotOS05\n\nVMMsMicrokernelVMMMicrokernel\n\n[Thirty Years Is Long Enough: Getting Beyond C](http://www.usenix.org/events/hotos05/final_papers/full_papers/brewer/brewer.pdf), HotOS05\n\nCthreadfunctional programming languagepromising\n\n&#160;\n\n**4\\. Programming Model**\n\n[Why Threads Are a Bad Idea](http://www.stanford.edu/class/cs240/readings/threads-bad-usenix96.pdf)\n\nthreadserver\n\n[SEDA: An Architecture for Well-Conditioned, Scalable Internet Services](http://www.eecs.harvard.edu/~mdw/papers/seda-sosp01.pdf)OSDI01\n\nThreadeventSEDAstagestagequeuestagethreadqueueeventthread\n\n**Software Transactional Memory**\n\ntransactionlanguage, compiler, OS, runtimeintelhardware transactional memorybasenative assemblyC#,haskell[Wikipedia](http://en.wikipedia.org/wiki/Software_transactional_memory)\n\n&#160;\n\n**5\\. Distributed Algorithms**\n\n**Logical clock**, [[Time,clocks, and the ordering of events in a distributed system](http://portal.acm.org/ft_gateway.cfm?id=359563&amp;type=pdf&amp;coll=GUIDE&amp;dl=GUIDE&amp;CFID=12744388&amp;CFTOKEN=15273596), Leslie Lamport, 1978]\n\nLogic clock, time stamp, distributed synchronizationpaper\n\n**Byzantine** [[The ByzantineGenerals Problem](http://research.microsoft.com/users/lamport/pubs/byz.pdf), Leslie Lamport, 1982]\n\nmalicious behaviorLamportByzantine failure model3f+1replicastatemachinereplicafstate machine\n\n**Paxos** [[The part-time parliament](http://portal.acm.org/ft_gateway.cfm?id=279229&amp;type=pdf&amp;coll=GUIDE&amp;dl=GUIDE&amp;CFID=12744388&amp;CFTOKEN=15273596), Leslie Lamport, 1998]\n\nconsensusPaxospaper3.5Lamportpaper[Paxos Made Simple](http://research.microsoft.com/users/lamport/pubs/paxos-simple.pdf) Butler Lampson[The ABCDs of Paxos](http://portal.acm.org/citation.cfm?id=383962.383969&amp;coll=GUIDE&amp;dl=GUIDE&amp;CFID=12744978&amp;CFTOKEN=60475496)PODC01replicated state machine\n\n[Leslie Lamport](http://research.microsoft.com/users/lamport/)distributed computingMSRlogicalclockBillGates(in diaper)paper\n\nLamport60paper[Lamport on mutual exclusion: 27 years of planting seeds](http://portal.acm.org/ft_gateway.cfm?id=383967&amp;type=pdf&amp;coll=GUIDE&amp;dl=GUIDE&amp;CFID=12744388&amp;CFTOKEN=15273596), PODC01\n\n&#160;\n\n**6\\. Overlay Networking, and P2P DHT**\n\n**RON** [[Resilient Overlay Networks](http://nms.lcs.mit.edu/papers/ron-sosp2001.html), SOSP01]\n\nRONoverlayoverlay networking\n\n**Application Level Multicast**\n\n[End System Multicast](http://www.cs.cmu.edu/~hzhang/papers/sigmetrics-2000.ps.gz), SigMetrics00\n\n[Scalable Application Layer Multicast](http://pages.cs.wisc.edu/~suman/pubs/sigcomm02.pdf), SigComm02\n\nALMpapermesh networkmulticast treelayered deliverycoolstream, pplive\n\n**P2P**\n\nP2PP2P\n\n1.&#160;&#160;&#160; NapsterPeer to peer\n\n2.&#160;&#160;&#160; Gnutellagossipunstructured P2P\n\n3.&#160;&#160;&#160; DHTunstructured P2PDHThophoplogNN\n\nDHT[CAN](http://berkeley.intel-research.net/sylvia/cans.pdf), [Chord](http://pdos.csail.mit.edu/papers/chord:sigcomm01/chord_sigcomm.pdf),[Pastry](http://research.microsoft.com/~antr/PAST/pastry.pdf), [Tapestry](http://oceanstore.cs.berkeley.edu/publications/papers/pdf/tapestry_sigcomm_tr.pdf)\n\n&#160;\n\n**7\\. Distributed Systems**\n\n**GFS/MapReduce/BigTable/Chubby/Sawzall**\n\nGooglepaper[](http://research.google.com/pubs/papers.html)\n\n**Storage**\n\nDistributed storage systempaper\n\n[Chain Replication for Supporting High Throughput and Availability](http://www.cs.cornell.edu/fbs/publications/chainreplicosdi.pdf), OSDI04\n\n[Dynamo: Amazons Highly Available Key-value Store](http://s3.amazonaws.com/AllThingsDistributed/sosp/amazon-dynamo-sosp2007.pdf)SOSP07\n\n[BitVault: a Highly Reliable Distributed Data Retention Platform](http://research.microsoft.com/asia/dload_files/group/system/2007/BitVault-SigOpsOSR0704.pdf), SIGOPS OSR07\n\n<a>PacificA: Replication inLog-Based Distributed Storage Systems</a>, MSR-TR\n\n**Distributed Simulation**\n\n[Simulating Large-Scale P2P Systems with the WiDS Toolkit](http://research.microsoft.com/asia/dload_files/group/system/wids-mascots.pdf), MASCOTS05Distributed simulationsimulated protocoldistributedsimulation enginedistributedLogicalphysicaltimeevent\n\n&#160;\n\n**8\\. Controversial Computing Models**\n\n(deterministic)(non-deterministic)bugspatchbug fix\n\n31) 2)3)\n\n[Recovery Oriented Computing](http://roc.cs.berkeley.edu/)\n\n[Failure oblivious computing](http://www.cag.lcs.mit.edu/~rinard/paper/osdi04.pdf), OSDI04\n\n[Treating Bugs as Allergies](http://opera.cs.uiuc.edu/paper/Rx-SOSP05.pdf), SOSP05\n\n&#160;\n\n**9\\. Debugging**\n\ndata mining\n\nBlack box debugging[[Performance debugging for distributed systems of black boxes](http://pdos.csail.mit.edu/~athicha/papers/blackboxes:sosp03.pdf), SOSP03]\n\nperformance debugginglog/\n\nCP-miner [A Tool for Finding Copy-paste and Related Bugs in Operating System Code, OSDI04]\n\ncopy-pasteCPCP-minermine\n\n&#160;\n  > [http://qing.weibo.com/2244218960/85c41050330031zq.html](http://qing.weibo.com/2244218960/85c41050330031zq.html \"http://qing.weibo.com/2244218960/85c41050330031zq.html\")&#160;&#160; [@](http://weibo.com/linshiding)","slug":"system-architecture-stuffs","published":1,"updated":"2015-12-29T13:31:03.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciirfw6yx000vsv8fyab9fh17"},{"title":"","id":"118","date":"2011-03-08T16:59:51.000Z","_content":"\n\n\n\n\n<!--more-->\n\nGZ\n\n\n\n\n\n\n\n\n\n","source":"_posts/study-school-sociey.md","raw":"title: \ntags:\n  - \nid: 118\ncategories:\n  - \ndate: 2011-03-09 00:59:51\n---\n\n\n\n\n\n<!--more-->\n\nGZ\n\n\n\n\n\n\n\n\n\n","slug":"study-school-sociey","published":1,"updated":"2015-12-29T13:31:03.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciirfw6yz000zsv8f0n2imb81"},{"title":"Solr Query Parser","id":"845","date":"2013-08-31T02:55:12.000Z","_content":"\n**1**\n\n\tQueryParser-SwitchQueryParser&ldquo;&rdquo;filter query\n\n<!--more-->\n\n\t&nbsp;\n\n\t**2**\n\n\t\n\n> fq={!switch case.foo=XXX case.bar=zzz case.yak=qqq}foo\n\n\t\n\n> fq={!switch case.cs=city:changsha case.bj=city:beijing}cs\n\n\t\n\n> fq=city:changsha\n\n\tSwitchQParserPluginparse()localParamsvcsSWITCH_CASESolr(M&eacute;i)(yu)(y&agrave;n)(zh&egrave;ng)()\n\n\t\n\n\t[![image](http://hongweiyi.com/wp-content/uploads/2013/08/image_thumb.png \"image\")](http://hongweiyi.com/wp-content/uploads/2013/08/image.png)&nbsp;\n\n\t\n\n[code lang=\"java\"]\n/** SwitchQParserPlugin */\n@Override\npublic Query parse() throws SyntaxError {\n  String val = localParams.get(QueryParsing.V);\n\n  // we don't want to wrapDefaults arround params, because then \n  // clients could add their own switch options \n  String subQ = localParams.get(SWITCH_DEFAULT);\n  subQ = StringUtils.isBlank(val)\n    ? localParams.get(SWITCH_CASE, subQ)\n    : localParams.get(SWITCH_CASE + &quot;.&quot; + val.trim(), subQ);\n\n  if (null == subQ) {\n    throw new SyntaxError(&quot;No &quot;+SWITCH_DEFAULT+&quot;, and no switch case matching specified query string: \\&quot;&quot; + val + &quot;\\&quot;&quot;);\n  }\n\n  subParser = subQuery(subQ, null);\n  return subParser.getQuery();\n}\n[/code]\n\n\t&nbsp;\n\n\t**3**\n\n\tcasecase\n\n\t[![QQ20130831103315](http://hongweiyi.com/wp-content/uploads/2013/08/QQ20130831103315_thumb.jpg \"QQ20130831103315\")](http://hongweiyi.com/wp-content/uploads/2013/08/QQ20130831103315.jpg)\n\n\tSolr","source":"_posts/solr-switch-query-parser.md","raw":"title: Solr Query Parser\ntags:\n  - Solr\nid: 845\ncategories:\n  - \ndate: 2013-08-31 10:55:12\n---\n\n**1**\n\n\tQueryParser-SwitchQueryParser&ldquo;&rdquo;filter query\n\n<!--more-->\n\n\t&nbsp;\n\n\t**2**\n\n\t\n\n> fq={!switch case.foo=XXX case.bar=zzz case.yak=qqq}foo\n\n\t\n\n> fq={!switch case.cs=city:changsha case.bj=city:beijing}cs\n\n\t\n\n> fq=city:changsha\n\n\tSwitchQParserPluginparse()localParamsvcsSWITCH_CASESolr(M&eacute;i)(yu)(y&agrave;n)(zh&egrave;ng)()\n\n\t\n\n\t[![image](http://hongweiyi.com/wp-content/uploads/2013/08/image_thumb.png \"image\")](http://hongweiyi.com/wp-content/uploads/2013/08/image.png)&nbsp;\n\n\t\n\n[code lang=\"java\"]\n/** SwitchQParserPlugin */\n@Override\npublic Query parse() throws SyntaxError {\n  String val = localParams.get(QueryParsing.V);\n\n  // we don't want to wrapDefaults arround params, because then \n  // clients could add their own switch options \n  String subQ = localParams.get(SWITCH_DEFAULT);\n  subQ = StringUtils.isBlank(val)\n    ? localParams.get(SWITCH_CASE, subQ)\n    : localParams.get(SWITCH_CASE + &quot;.&quot; + val.trim(), subQ);\n\n  if (null == subQ) {\n    throw new SyntaxError(&quot;No &quot;+SWITCH_DEFAULT+&quot;, and no switch case matching specified query string: \\&quot;&quot; + val + &quot;\\&quot;&quot;);\n  }\n\n  subParser = subQuery(subQ, null);\n  return subParser.getQuery();\n}\n[/code]\n\n\t&nbsp;\n\n\t**3**\n\n\tcasecase\n\n\t[![QQ20130831103315](http://hongweiyi.com/wp-content/uploads/2013/08/QQ20130831103315_thumb.jpg \"QQ20130831103315\")](http://hongweiyi.com/wp-content/uploads/2013/08/QQ20130831103315.jpg)\n\n\tSolr","slug":"solr-switch-query-parser","published":1,"updated":"2015-12-29T13:31:03.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciirfw6z10013sv8f421fen87"},{"title":"","id":"157","date":"2011-09-01T11:12:50.000Z","_content":"\n****\n\n(Single Lens ReflexSLR)()(Film SLR, FSLR)(Digital SLR, DSLR)\n\n(Rangefinder, RF)\n\n<!--more-->\n\n****\n\n\n\n\n\n****\n\n[![4d0ebb45de203b32cefca30d](http://www.hongweiyi.com/wp-content/uploads/2011/09/4d0ebb45de203b32cefca30d_thumb.jpg \"4d0ebb45de203b32cefca30d\")](http://www.hongweiyi.com/wp-content/uploads/2011/09/4d0ebb45de203b32cefca30d.jpg)\n\n1CCD/CMOS\n\n2\n\n2\n\n221CCD/CMOS\n\n122()CCD/CMOSCCD/CMOS\n\n\n\n/CCD/CMOS\n\n****\n\n/CCD/CMOS/CCD/CMOS105\n\n\n\n/CCD/CMOSLeica135mmCarl Zeiss90mmLeicaCarl Zeiss\n\nmm\n\n****\n\nCanonNikon85%\n\nLeicaMLeica35mmM1M7M8LeicaLVLeicaLVbrand imageLeica\n>  [](http://hi.baidu.com/lavituo/blog/item/c413fed38abfb3daa8ec9a00.html)\r> \n> \n> X100","source":"_posts/single-lens-paraxonic.md","raw":"title: \ntags:\n  - \n  - \nid: 157\ncategories:\n  - \ndate: 2011-09-01 19:12:50\n---\n\n****\n\n(Single Lens ReflexSLR)()(Film SLR, FSLR)(Digital SLR, DSLR)\n\n(Rangefinder, RF)\n\n<!--more-->\n\n****\n\n\n\n\n\n****\n\n[![4d0ebb45de203b32cefca30d](http://www.hongweiyi.com/wp-content/uploads/2011/09/4d0ebb45de203b32cefca30d_thumb.jpg \"4d0ebb45de203b32cefca30d\")](http://www.hongweiyi.com/wp-content/uploads/2011/09/4d0ebb45de203b32cefca30d.jpg)\n\n1CCD/CMOS\n\n2\n\n2\n\n221CCD/CMOS\n\n122()CCD/CMOSCCD/CMOS\n\n\n\n/CCD/CMOS\n\n****\n\n/CCD/CMOS/CCD/CMOS105\n\n\n\n/CCD/CMOSLeica135mmCarl Zeiss90mmLeicaCarl Zeiss\n\nmm\n\n****\n\nCanonNikon85%\n\nLeicaMLeica35mmM1M7M8LeicaLVLeicaLVbrand imageLeica\n>  [](http://hi.baidu.com/lavituo/blog/item/c413fed38abfb3daa8ec9a00.html)\r> \n> \n> X100","slug":"single-lens-paraxonic","published":1,"updated":"2015-12-29T13:31:03.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciirfw6z40017sv8f4qhjkt4m"},{"title":"REWORK - ","date":"2014-04-14T13:40:00.000Z","_content":"\nhn37signalsrework\n\n\n\n<!--more-->\n\n> \n\n> \n\n> \n\n> 24\n\n> \n","source":"_posts/rework-digest.md","raw":"title: REWORK - \ndate: 2014-04-14 21:40:00\ncategories: \ntags: REWORK, 37signals, , \n---\n\nhn37signalsrework\n\n\n\n<!--more-->\n\n> \n\n> \n\n> \n\n> 24\n\n> \n","slug":"rework-digest","published":1,"updated":"2015-12-29T13:30:15.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciirfw6z6001dsv8fnk5uzoi5"},{"title":"Java ","_content":"\n\n## \n\n*  Netty\n*  &  & \n  * \n  * \n  *  RST \n\n<!-- more -->\n\n## \n\n Netty  Netty  IO \n\n* \n* / IO \n* \n  *  RejectExcetpion\n  * \n* \n\n## \n\n*  Java \n\n\n\n* \n\n Protobuf  msgpack \n\n\n## \n\n* \n* \n  *  [Netflix  ribbon](https://github.com/Netflix/ribbon)\n\n\n## \n\n* \n  * \n  * ID  ID \n  * IP \n  * \n   * client:time,unique-id,server-ip\n   * server:time,unique-id,client-ip\n* \n  * \n  *  debug \n","source":"_posts/remoting-practice.md","raw":"title: Java \ncategories: \ntags: [Java, Network]\n---\n\n\n## \n\n*  Netty\n*  &  & \n  * \n  * \n  *  RST \n\n<!-- more -->\n\n## \n\n Netty  Netty  IO \n\n* \n* / IO \n* \n  *  RejectExcetpion\n  * \n* \n\n## \n\n*  Java \n\n\n\n* \n\n Protobuf  msgpack \n\n\n## \n\n* \n* \n  *  [Netflix  ribbon](https://github.com/Netflix/ribbon)\n\n\n## \n\n* \n  * \n  * ID  ID \n  * IP \n  * \n   * client:time,unique-id,server-ip\n   * server:time,unique-id,client-ip\n* \n  * \n  *  debug \n","slug":"remoting-practice","published":1,"date":"2015-12-29T13:30:15.000Z","updated":"2015-12-29T13:30:15.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciirfw6z7001isv8f2lv1r817"},{"title":" - ","id":"527","date":"2012-04-26T13:38:33.000Z","_content":"\n\n  >   \n\n\n<!--more-->> ****  \n\n\n  > [![clip_image002](http://www.hongweiyi.com/wp-content/uploads/2012/04/clip_image002.jpg \"clip_image002\")](http://www.guokr.com/i/0531918429/) [](http://www.guokr.com/i/0531918429/)\n> \n> +\n> \n>   > [![clip_image004](http://www.hongweiyi.com/wp-content/uploads/2012/04/clip_image004.jpg \"clip_image004\")](http://www.guokr.com/i/2059939599/) [knightdl](http://www.guokr.com/i/2059939599/)\n> \n> \n> \n> [![clip_image005](http://www.hongweiyi.com/wp-content/uploads/2012/04/clip_image005_thumb.jpg \"clip_image005\")](http://www.hongweiyi.com/wp-content/uploads/2012/04/clip_image005.jpg)\n> \n> alivedead\n> \n> \n> \n> &#160;&#160; 1\\. alive\n> \n> &#160;&#160; 2\\. dead  > [![clip_image007](http://www.hongweiyi.com/wp-content/uploads/2012/04/clip_image007.jpg \"clip_image007\")](http://www.guokr.com/i/0660893195/) [huahualipo](http://www.guokr.com/i/0660893195/)\n> \n>   > [![clip_image009](http://www.hongweiyi.com/wp-content/uploads/2012/04/clip_image009.jpg \"clip_image009\")](http://www.guokr.com/i/1792273330/) [](http://www.guokr.com/i/1792273330/)\n> \n>   \n\n\n  > [![clip_image011](http://www.hongweiyi.com/wp-content/uploads/2012/04/clip_image011.jpg \"clip_image011\")](http://www.guokr.com/i/0417575823/) [](http://www.guokr.com/i/0417575823/)\n> \n> 2011##  \n\n\n\n\n\nOver\n\n&#160;\n\n****[](http://www.guokr.com/question/122203/)","source":"_posts/relax-schrodinger-cat.md","raw":"title:  - \ntags:\n  - \n  - \nid: 527\ncategories:\n  - \ndate: 2012-04-26 21:38:33\n---\n\n\n  >   \n\n\n<!--more-->> ****  \n\n\n  > [![clip_image002](http://www.hongweiyi.com/wp-content/uploads/2012/04/clip_image002.jpg \"clip_image002\")](http://www.guokr.com/i/0531918429/) [](http://www.guokr.com/i/0531918429/)\n> \n> +\n> \n>   > [![clip_image004](http://www.hongweiyi.com/wp-content/uploads/2012/04/clip_image004.jpg \"clip_image004\")](http://www.guokr.com/i/2059939599/) [knightdl](http://www.guokr.com/i/2059939599/)\n> \n> \n> \n> [![clip_image005](http://www.hongweiyi.com/wp-content/uploads/2012/04/clip_image005_thumb.jpg \"clip_image005\")](http://www.hongweiyi.com/wp-content/uploads/2012/04/clip_image005.jpg)\n> \n> alivedead\n> \n> \n> \n> &#160;&#160; 1\\. alive\n> \n> &#160;&#160; 2\\. dead  > [![clip_image007](http://www.hongweiyi.com/wp-content/uploads/2012/04/clip_image007.jpg \"clip_image007\")](http://www.guokr.com/i/0660893195/) [huahualipo](http://www.guokr.com/i/0660893195/)\n> \n>   > [![clip_image009](http://www.hongweiyi.com/wp-content/uploads/2012/04/clip_image009.jpg \"clip_image009\")](http://www.guokr.com/i/1792273330/) [](http://www.guokr.com/i/1792273330/)\n> \n>   \n\n\n  > [![clip_image011](http://www.hongweiyi.com/wp-content/uploads/2012/04/clip_image011.jpg \"clip_image011\")](http://www.guokr.com/i/0417575823/) [](http://www.guokr.com/i/0417575823/)\n> \n> 2011##  \n\n\n\n\n\nOver\n\n&#160;\n\n****[](http://www.guokr.com/question/122203/)","slug":"relax-schrodinger-cat","published":1,"updated":"2015-12-29T13:31:03.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciirfw6za001psv8fshyu71lp"},{"title":"Redis","id":"451","date":"2012-03-07T09:30:26.000Z","_content":"\n**1Redis**\n\nRedisREmote DIctionary ServerKVIn-memory key-value StoreRedis10KAPI\n<!--more-->\n\n**2****Strings**\n\n**1******\n\nStringRedisStringStringJPGString512mb\n\n**2******\n  <div class=\"dp-highlighter\">   <div class=\"bar\"></div>    \n\n1.  <span><span class=\"keyword\">struct</span><span> sdshdr{&#160;&#160; </span></span>\n2.  <span>&#160;&#160;&#160; </span><span class=\"datatypes\">long</span><span> len;&#160;&#160; </span></span>\n3.  <span>&#160;&#160;&#160; </span><span class=\"datatypes\">long</span><span> free;&#160;&#160; </span></span>\n4.  <span>&#160;&#160;&#160; </span><span class=\"datatypes\">char</span><span> buf[];&#160;&#160; </span></span>\n5.  <span>}&#160;&#160; </span> </div>  \n\n**3**** **\n\n[APPEND](http://redis.io/commands/append)[GET](http://redis.io/commands/get)[GETBIT](http://redis.io/commands/getbit)[GETRANGE](http://redis.io/commands/getrange)[GETSET](http://redis.io/commands/getset)[STRLEN](http://redis.io/commands/strlen)\n\n[MGET](http://redis.io/commands/mget)[MSET](http://redis.io/commands/mset)[MSETNX](http://redis.io/commands/msetnx)[SET](http://redis.io/commands/set)[SETBIT](http://redis.io/commands/setbit)[SETEX](http://redis.io/commands/setex)[SETNX](http://redis.io/commands/setnx)[SETRANGE](http://redis.io/commands/setrange)\n\n[INCR](http://redis.io/commands/incr)[INCRBY](http://redis.io/commands/incrby)[DECR](http://redis.io/commands/decr)[DECRBY](http://redis.io/commands/decrby)\n\n**3****Hashes**\n\n**1******\n\nHashesfield/valueHash\n\nHMSET user:00001 username wikie password ***** gender male\n\nHash2^32  1HashzipmapO(n)fieldO(1)field/valueRediszipmapHash\n\nhash-max-zipmap-entries 64 # 64\n\nhash-max-zipmap-value 512 # value512\n\n**2******\n  <div class=\"dp-highlighter\">   <div class=\"bar\"></div>    \n\n1.  <span><span class=\"comment\">//Please check in dict.h </span><span>&#160; </span></span>\n2.  <span></span><span class=\"keyword\">typedef</span><span>&#160;</span><span class=\"keyword\">struct</span><span> dictht {&#160;&#160; </span></span>\n3.  <span>&#160;&#160;&#160; dictEntry **table;&#160;&#160; </span>\n4.  <span>&#160;&#160;&#160; unsigned </span><span class=\"datatypes\">long</span><span> size;&#160;&#160; </span></span>\n5.  <span>&#160;&#160;&#160; unsigned </span><span class=\"datatypes\">long</span><span> sizemask;&#160;&#160; </span></span>\n6.  <span>&#160;&#160;&#160; unsigned </span><span class=\"datatypes\">long</span><span> used;&#160;&#160; </span></span>\n7.  <span>} dictht;&#160; </span> </div>  \n\n**3 **\n\n[HDEL](http://redis.io/commands/hdel)[HEXISTS](http://redis.io/commands/hexists)[HGET](http://redis.io/commands/hget)[HGETALL](http://redis.io/commands/hgetall)[HINCRBY](http://redis.io/commands/hincrby)[HKEYS](http://redis.io/commands/hkeys)[HLEN](http://redis.io/commands/hlen)\n\n[HMGET](http://redis.io/commands/hmget)[HMSET](http://redis.io/commands/hmset)[HSET](http://redis.io/commands/hset)[HSETNX](http://redis.io/commands/hsetnx)[HVALS](http://redis.io/commands/hvals)\n\n**4****Lists**\n\n**1******\n\nListsstrings\n\n2^32-1List\n\n**2******\n  <div class=\"dp-highlighter\">   <div class=\"bar\"></div>    \n\n1.  <span><span class=\"comment\">// Check in adlist.h </span><span>&#160; </span></span>\n2.  <span></span><span class=\"keyword\">typedef</span><span>&#160;</span><span class=\"keyword\">struct</span><span> listNode {&#160;&#160; </span></span>\n3.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">struct</span><span> listNode *prev;&#160;&#160; </span></span>\n4.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">struct</span><span> listNode *next;&#160;&#160; </span></span>\n5.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">void</span><span> *value;&#160;&#160; </span></span>\n6.  <span>} listNode;&#160;&#160; </span>\n7.  <span>&#160; </span>\n8.  <span></span><span class=\"keyword\">typedef</span><span>&#160;</span><span class=\"keyword\">struct</span><span> listIter {&#160;&#160; </span></span>\n9.  <span>&#160;&#160;&#160; listNode *next;&#160;&#160; </span>\n10.  <span>&#160;&#160;&#160; </span><span class=\"datatypes\">int</span><span> direction;&#160;&#160; </span></span>\n11.  <span>} listIter;&#160;&#160; </span>\n12.  <span>&#160; </span>\n13.  <span></span><span class=\"keyword\">typedef</span><span>&#160;</span><span class=\"keyword\">struct</span><span> list {&#160;&#160; </span></span>\n14.  <span>&#160;&#160;&#160; listNode *head;&#160;&#160; </span>\n15.  <span>&#160;&#160;&#160; listNode *tail;&#160;&#160; </span>\n16.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">void</span><span> *(*dup)(</span><span class=\"keyword\">void</span><span> *ptr);&#160;&#160; </span></span>\n17.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">void</span><span> (*free)(</span><span class=\"keyword\">void</span><span> *ptr);&#160;&#160; </span></span>\n18.  <span>&#160;&#160;&#160; </span><span class=\"datatypes\">int</span><span> (*match)(</span><span class=\"keyword\">void</span><span> *ptr, </span><span class=\"keyword\">void</span><span> *key);&#160;&#160; </span></span>\n19.  <span>&#160;&#160;&#160; unsigned </span><span class=\"datatypes\">int</span><span> len;&#160;&#160; </span></span>\n20.  <span>} list;&#160; </span> </div>  \n\n**3**** **\n\n[BLPOP](http://redis.io/commands/blpop) [BRPOP](http://redis.io/commands/brpop) [BRPOPLPUSH](http://redis.io/commands/brpoplpush)[LINDEX](http://redis.io/commands/lindex)[LINSERT](http://redis.io/commands/linsert)[LLEN](http://redis.io/commands/llen)\n\n[LPOP](http://redis.io/commands/lpop)[LPUSH](http://redis.io/commands/lpush)[LPUSHX](http://redis.io/commands/lpushx)[LRANGE](http://redis.io/commands/lrange)[LREM](http://redis.io/commands/lrem)[LSET](http://redis.io/commands/lset)[LTRIM](http://redis.io/commands/ltrim)\n\n[RPOP](http://redis.io/commands/rpop)[RPOPLPUSH](http://redis.io/commands/rpoplpush)[RPUSH](http://redis.io/commands/rpush)[RPUSHX](http://redis.io/commands/rpushx)\n\n**5****Sets**\n\n**1******\n\nkeySINTER\n\nSetsHash TableO(n)HashTableHashTableSkipListSkipList\n\n2^32-1\n\n**2******\n\nHashesdict\n\n**3******\n\n[SADD](http://redis.io/commands/sadd)[SCAR](http://redis.io/commands/scard)[SDIFF](http://redis.io/commands/sdiff)[SDIFFSTORE](http://redis.io/commands/sdiffstore)[SINTER](http://redis.io/commands/sinter)[SISMEMBER](http://redis.io/commands/sismember)\n\n[SMEMBERS](http://redis.io/commands/smembers)[SMOVE](http://redis.io/commands/smove)[SPOP](http://redis.io/commands/spop)[SRANDMEMBER](http://redis.io/commands/srandmember)[SREM](http://redis.io/commands/srem)\n\n[SUNION](http://redis.io/commands/sunion)[SUNIONSTORE](http://redis.io/commands/sunionstore)\n\n**6****ZSets**\n\n**1******\n\nZSetsSetSetsSetScoreScoredoubleZSetsSkipListHashTable\n\nScoreHashTableScoreO(1)ScoreSkipList\n\n**2******\n  <div class=\"dp-highlighter\">   <div class=\"bar\"></div>    \n\n1.  <span><span class=\"comment\">/* ZSETs use a specialized version of Skiplists */</span><span>&#160; </span></span>2.  <span></span><span class=\"keyword\">typedef</span><span>&#160;</span><span class=\"keyword\">struct</span><span> zskiplistNode {&#160;&#160; </span></span>3.  <span>&#160;&#160;&#160; robj *obj;&#160;&#160; </span>4.  <span>&#160;&#160;&#160; </span><span class=\"datatypes\">double</span><span> score;&#160;&#160; </span></span>5.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">struct</span><span> zskiplistNode *backward;&#160;&#160; </span></span>6.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">struct</span><span> zskiplistLevel {&#160;&#160; </span></span>7.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">struct</span><span> zskiplistNode *forward;&#160;&#160; </span></span>8.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; unsigned </span><span class=\"datatypes\">int</span><span> span;&#160;&#160; </span></span>9.  <span>&#160;&#160;&#160; } level[];&#160;&#160; </span>10.  <span>} zskiplistNode;&#160;&#160; </span>11.  <span>&#160; </span>12.  <span></span><span class=\"keyword\">typedef</span><span>&#160;</span><span class=\"keyword\">struct</span><span> zskiplist {&#160;&#160; </span></span>13.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">struct</span><span> zskiplistNode *header, *tail;&#160;&#160; </span></span>14.  <span>&#160;&#160;&#160; unsigned </span><span class=\"datatypes\">long</span><span> length;&#160;&#160; </span></span>15.  <span>&#160;&#160;&#160; </span><span class=\"datatypes\">int</span><span> level;&#160;&#160; </span></span>16.  <span>} zskiplist;&#160;&#160; </span>17.  <span>&#160; </span>18.  <span></span><span class=\"keyword\">typedef</span><span>&#160;</span><span class=\"keyword\">struct</span><span> zset {&#160;&#160; </span></span>19.  <span>&#160;&#160;&#160; dict *dict;&#160;&#160;&#160; </span><span class=\"comment\">// Value to Score </span><span>&#160; </span></span>20.  <span>&#160;&#160;&#160; zskiplist *zsl;&#160; </span><span class=\"comment\">// Score to Value </span><span>&#160; </span></span>21.  <span>} zset;&#160; </span> </div>  \n\n**3 **\n\n[ZADD](http://redis.io/commands/zadd)[ZCARD](http://redis.io/commands/zcard)[ZCOUNT](http://redis.io/commands/zcount)[ZINCRBY](http://redis.io/commands/zincrby)[ZINTERSTORE](http://redis.io/commands/zinterstore)\n\n[ZRANGE](http://redis.io/commands/zrange)[ZRANGEBYSCORE](http://redis.io/commands/zrangebyscore)[ZRANK](http://redis.io/commands/zrank)[ZREM](http://redis.io/commands/zrem)\n\n[ZREMRANGEBYRANK](http://redis.io/commands/zremrangebyrank)[ZREMRANGEBYSCORE](http://redis.io/commands/zremrangebyscore)[ZREVRANGE](http://redis.io/commands/zrevrange)\n\n[ZREVRANGEBYSCORE](http://redis.io/commands/zrevrangebyscore)[ZREVRANK](http://redis.io/commands/zrevrank)[ZSCORE](http://redis.io/commands/zscore)[ZUNIONSTORE](http://redis.io/commands/zunionstore)\n  > \n> \n> [Redis.io](http://redis.io)\n> \n> [The Little Redis Book](http://openmymind.net/2012/1/23/The-Little-Redis-Book/)","source":"_posts/redis-data-strutrue.md","raw":"title: Redis\ntags:\n  - NoSQL\n  - Redis\n  - \nid: 451\ncategories:\n  - \ndate: 2012-03-07 17:30:26\n---\n\n**1Redis**\n\nRedisREmote DIctionary ServerKVIn-memory key-value StoreRedis10KAPI\n<!--more-->\n\n**2****Strings**\n\n**1******\n\nStringRedisStringStringJPGString512mb\n\n**2******\n  <div class=\"dp-highlighter\">   <div class=\"bar\"></div>    \n\n1.  <span><span class=\"keyword\">struct</span><span> sdshdr{&#160;&#160; </span></span>\n2.  <span>&#160;&#160;&#160; </span><span class=\"datatypes\">long</span><span> len;&#160;&#160; </span></span>\n3.  <span>&#160;&#160;&#160; </span><span class=\"datatypes\">long</span><span> free;&#160;&#160; </span></span>\n4.  <span>&#160;&#160;&#160; </span><span class=\"datatypes\">char</span><span> buf[];&#160;&#160; </span></span>\n5.  <span>}&#160;&#160; </span> </div>  \n\n**3**** **\n\n[APPEND](http://redis.io/commands/append)[GET](http://redis.io/commands/get)[GETBIT](http://redis.io/commands/getbit)[GETRANGE](http://redis.io/commands/getrange)[GETSET](http://redis.io/commands/getset)[STRLEN](http://redis.io/commands/strlen)\n\n[MGET](http://redis.io/commands/mget)[MSET](http://redis.io/commands/mset)[MSETNX](http://redis.io/commands/msetnx)[SET](http://redis.io/commands/set)[SETBIT](http://redis.io/commands/setbit)[SETEX](http://redis.io/commands/setex)[SETNX](http://redis.io/commands/setnx)[SETRANGE](http://redis.io/commands/setrange)\n\n[INCR](http://redis.io/commands/incr)[INCRBY](http://redis.io/commands/incrby)[DECR](http://redis.io/commands/decr)[DECRBY](http://redis.io/commands/decrby)\n\n**3****Hashes**\n\n**1******\n\nHashesfield/valueHash\n\nHMSET user:00001 username wikie password ***** gender male\n\nHash2^32  1HashzipmapO(n)fieldO(1)field/valueRediszipmapHash\n\nhash-max-zipmap-entries 64 # 64\n\nhash-max-zipmap-value 512 # value512\n\n**2******\n  <div class=\"dp-highlighter\">   <div class=\"bar\"></div>    \n\n1.  <span><span class=\"comment\">//Please check in dict.h </span><span>&#160; </span></span>\n2.  <span></span><span class=\"keyword\">typedef</span><span>&#160;</span><span class=\"keyword\">struct</span><span> dictht {&#160;&#160; </span></span>\n3.  <span>&#160;&#160;&#160; dictEntry **table;&#160;&#160; </span>\n4.  <span>&#160;&#160;&#160; unsigned </span><span class=\"datatypes\">long</span><span> size;&#160;&#160; </span></span>\n5.  <span>&#160;&#160;&#160; unsigned </span><span class=\"datatypes\">long</span><span> sizemask;&#160;&#160; </span></span>\n6.  <span>&#160;&#160;&#160; unsigned </span><span class=\"datatypes\">long</span><span> used;&#160;&#160; </span></span>\n7.  <span>} dictht;&#160; </span> </div>  \n\n**3 **\n\n[HDEL](http://redis.io/commands/hdel)[HEXISTS](http://redis.io/commands/hexists)[HGET](http://redis.io/commands/hget)[HGETALL](http://redis.io/commands/hgetall)[HINCRBY](http://redis.io/commands/hincrby)[HKEYS](http://redis.io/commands/hkeys)[HLEN](http://redis.io/commands/hlen)\n\n[HMGET](http://redis.io/commands/hmget)[HMSET](http://redis.io/commands/hmset)[HSET](http://redis.io/commands/hset)[HSETNX](http://redis.io/commands/hsetnx)[HVALS](http://redis.io/commands/hvals)\n\n**4****Lists**\n\n**1******\n\nListsstrings\n\n2^32-1List\n\n**2******\n  <div class=\"dp-highlighter\">   <div class=\"bar\"></div>    \n\n1.  <span><span class=\"comment\">// Check in adlist.h </span><span>&#160; </span></span>\n2.  <span></span><span class=\"keyword\">typedef</span><span>&#160;</span><span class=\"keyword\">struct</span><span> listNode {&#160;&#160; </span></span>\n3.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">struct</span><span> listNode *prev;&#160;&#160; </span></span>\n4.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">struct</span><span> listNode *next;&#160;&#160; </span></span>\n5.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">void</span><span> *value;&#160;&#160; </span></span>\n6.  <span>} listNode;&#160;&#160; </span>\n7.  <span>&#160; </span>\n8.  <span></span><span class=\"keyword\">typedef</span><span>&#160;</span><span class=\"keyword\">struct</span><span> listIter {&#160;&#160; </span></span>\n9.  <span>&#160;&#160;&#160; listNode *next;&#160;&#160; </span>\n10.  <span>&#160;&#160;&#160; </span><span class=\"datatypes\">int</span><span> direction;&#160;&#160; </span></span>\n11.  <span>} listIter;&#160;&#160; </span>\n12.  <span>&#160; </span>\n13.  <span></span><span class=\"keyword\">typedef</span><span>&#160;</span><span class=\"keyword\">struct</span><span> list {&#160;&#160; </span></span>\n14.  <span>&#160;&#160;&#160; listNode *head;&#160;&#160; </span>\n15.  <span>&#160;&#160;&#160; listNode *tail;&#160;&#160; </span>\n16.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">void</span><span> *(*dup)(</span><span class=\"keyword\">void</span><span> *ptr);&#160;&#160; </span></span>\n17.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">void</span><span> (*free)(</span><span class=\"keyword\">void</span><span> *ptr);&#160;&#160; </span></span>\n18.  <span>&#160;&#160;&#160; </span><span class=\"datatypes\">int</span><span> (*match)(</span><span class=\"keyword\">void</span><span> *ptr, </span><span class=\"keyword\">void</span><span> *key);&#160;&#160; </span></span>\n19.  <span>&#160;&#160;&#160; unsigned </span><span class=\"datatypes\">int</span><span> len;&#160;&#160; </span></span>\n20.  <span>} list;&#160; </span> </div>  \n\n**3**** **\n\n[BLPOP](http://redis.io/commands/blpop) [BRPOP](http://redis.io/commands/brpop) [BRPOPLPUSH](http://redis.io/commands/brpoplpush)[LINDEX](http://redis.io/commands/lindex)[LINSERT](http://redis.io/commands/linsert)[LLEN](http://redis.io/commands/llen)\n\n[LPOP](http://redis.io/commands/lpop)[LPUSH](http://redis.io/commands/lpush)[LPUSHX](http://redis.io/commands/lpushx)[LRANGE](http://redis.io/commands/lrange)[LREM](http://redis.io/commands/lrem)[LSET](http://redis.io/commands/lset)[LTRIM](http://redis.io/commands/ltrim)\n\n[RPOP](http://redis.io/commands/rpop)[RPOPLPUSH](http://redis.io/commands/rpoplpush)[RPUSH](http://redis.io/commands/rpush)[RPUSHX](http://redis.io/commands/rpushx)\n\n**5****Sets**\n\n**1******\n\nkeySINTER\n\nSetsHash TableO(n)HashTableHashTableSkipListSkipList\n\n2^32-1\n\n**2******\n\nHashesdict\n\n**3******\n\n[SADD](http://redis.io/commands/sadd)[SCAR](http://redis.io/commands/scard)[SDIFF](http://redis.io/commands/sdiff)[SDIFFSTORE](http://redis.io/commands/sdiffstore)[SINTER](http://redis.io/commands/sinter)[SISMEMBER](http://redis.io/commands/sismember)\n\n[SMEMBERS](http://redis.io/commands/smembers)[SMOVE](http://redis.io/commands/smove)[SPOP](http://redis.io/commands/spop)[SRANDMEMBER](http://redis.io/commands/srandmember)[SREM](http://redis.io/commands/srem)\n\n[SUNION](http://redis.io/commands/sunion)[SUNIONSTORE](http://redis.io/commands/sunionstore)\n\n**6****ZSets**\n\n**1******\n\nZSetsSetSetsSetScoreScoredoubleZSetsSkipListHashTable\n\nScoreHashTableScoreO(1)ScoreSkipList\n\n**2******\n  <div class=\"dp-highlighter\">   <div class=\"bar\"></div>    \n\n1.  <span><span class=\"comment\">/* ZSETs use a specialized version of Skiplists */</span><span>&#160; </span></span>2.  <span></span><span class=\"keyword\">typedef</span><span>&#160;</span><span class=\"keyword\">struct</span><span> zskiplistNode {&#160;&#160; </span></span>3.  <span>&#160;&#160;&#160; robj *obj;&#160;&#160; </span>4.  <span>&#160;&#160;&#160; </span><span class=\"datatypes\">double</span><span> score;&#160;&#160; </span></span>5.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">struct</span><span> zskiplistNode *backward;&#160;&#160; </span></span>6.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">struct</span><span> zskiplistLevel {&#160;&#160; </span></span>7.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">struct</span><span> zskiplistNode *forward;&#160;&#160; </span></span>8.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; unsigned </span><span class=\"datatypes\">int</span><span> span;&#160;&#160; </span></span>9.  <span>&#160;&#160;&#160; } level[];&#160;&#160; </span>10.  <span>} zskiplistNode;&#160;&#160; </span>11.  <span>&#160; </span>12.  <span></span><span class=\"keyword\">typedef</span><span>&#160;</span><span class=\"keyword\">struct</span><span> zskiplist {&#160;&#160; </span></span>13.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">struct</span><span> zskiplistNode *header, *tail;&#160;&#160; </span></span>14.  <span>&#160;&#160;&#160; unsigned </span><span class=\"datatypes\">long</span><span> length;&#160;&#160; </span></span>15.  <span>&#160;&#160;&#160; </span><span class=\"datatypes\">int</span><span> level;&#160;&#160; </span></span>16.  <span>} zskiplist;&#160;&#160; </span>17.  <span>&#160; </span>18.  <span></span><span class=\"keyword\">typedef</span><span>&#160;</span><span class=\"keyword\">struct</span><span> zset {&#160;&#160; </span></span>19.  <span>&#160;&#160;&#160; dict *dict;&#160;&#160;&#160; </span><span class=\"comment\">// Value to Score </span><span>&#160; </span></span>20.  <span>&#160;&#160;&#160; zskiplist *zsl;&#160; </span><span class=\"comment\">// Score to Value </span><span>&#160; </span></span>21.  <span>} zset;&#160; </span> </div>  \n\n**3 **\n\n[ZADD](http://redis.io/commands/zadd)[ZCARD](http://redis.io/commands/zcard)[ZCOUNT](http://redis.io/commands/zcount)[ZINCRBY](http://redis.io/commands/zincrby)[ZINTERSTORE](http://redis.io/commands/zinterstore)\n\n[ZRANGE](http://redis.io/commands/zrange)[ZRANGEBYSCORE](http://redis.io/commands/zrangebyscore)[ZRANK](http://redis.io/commands/zrank)[ZREM](http://redis.io/commands/zrem)\n\n[ZREMRANGEBYRANK](http://redis.io/commands/zremrangebyrank)[ZREMRANGEBYSCORE](http://redis.io/commands/zremrangebyscore)[ZREVRANGE](http://redis.io/commands/zrevrange)\n\n[ZREVRANGEBYSCORE](http://redis.io/commands/zrevrangebyscore)[ZREVRANK](http://redis.io/commands/zrevrank)[ZSCORE](http://redis.io/commands/zscore)[ZUNIONSTORE](http://redis.io/commands/zunionstore)\n  > \n> \n> [Redis.io](http://redis.io)\n> \n> [The Little Redis Book](http://openmymind.net/2012/1/23/The-Little-Redis-Book/)","slug":"redis-data-strutrue","published":1,"updated":"2015-12-29T13:31:03.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciirfw6zc001usv8flkap9d3y"},{"title":"","id":"746","date":"2013-03-21T09:18:48.000Z","_content":"\nMBA/RMBP\n\nSSD120g250g4TLC SSDP\n<!--more-->  \n\nSSD3264HDDSSD10SHDD4G*22G*260\n  > **:** shi  \n\n648G120GSSDSSD Benchmark\n\n[![11](http://hongweiyi.com/wp-content/uploads/2013/03/11.jpg \"11\") ](http://hongweiyi.com/wp-content/uploads/2013/03/1.jpg)\n  > 10s  \n\n[![1](http://hongweiyi.com/wp-content/uploads/2013/03/1_thumb.jpg \"1\")](http://hongweiyi.com/wp-content/uploads/2013/03/12.jpg)\n  > ****5.95.0  \n\n[![](http://hongweiyi.com/wp-content/uploads/2013/03/thumb.jpg \"\")](http://hongweiyi.com/wp-content/uploads/2013/03/163306e8e326.jpg) \n  > ****535MB/s480MB/s\n> \n> ****HDDBenchmark","source":"_posts/re-equip-my-little-black.md","raw":"title: \ntags:\n  - SSD\n  - \n  - \nid: 746\ncategories:\n  - \ndate: 2013-03-21 17:18:48\n---\n\nMBA/RMBP\n\nSSD120g250g4TLC SSDP\n<!--more-->  \n\nSSD3264HDDSSD10SHDD4G*22G*260\n  > **:** shi  \n\n648G120GSSDSSD Benchmark\n\n[![11](http://hongweiyi.com/wp-content/uploads/2013/03/11.jpg \"11\") ](http://hongweiyi.com/wp-content/uploads/2013/03/1.jpg)\n  > 10s  \n\n[![1](http://hongweiyi.com/wp-content/uploads/2013/03/1_thumb.jpg \"1\")](http://hongweiyi.com/wp-content/uploads/2013/03/12.jpg)\n  > ****5.95.0  \n\n[![](http://hongweiyi.com/wp-content/uploads/2013/03/thumb.jpg \"\")](http://hongweiyi.com/wp-content/uploads/2013/03/163306e8e326.jpg) \n  > ****535MB/s480MB/s\n> \n> ****HDDBenchmark","slug":"re-equip-my-little-black","published":1,"updated":"2015-12-29T13:31:03.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciirfw6ze0021sv8fwqs48w4s"},{"title":"","id":"112","date":"2011-03-06T15:33:20.000Z","_content":"\n![image](/images/ranksystem-in-social-network.png)\n\n****\n\n2**[Jesse Eisenberg](http://people.mtime.com/914798/)****Mark**Mark\n\n<!--more-->\n> 1Mark**Geek**Geek\r>\n>\n> 2Mark****\r>\n>\n> 3Mark****\nMarkMarkEsquire\n\nMarkFacemash\n\nElo Rating System\n\nThe **Elo rating system** is a method for calculating the _relative skill levels_ of players in two-player games such as [chess](http://en.wikipedia.org/wiki/Chess). It is named after its creator [Arpad Elo](http://en.wikipedia.org/wiki/Arpad_Elo), a [Hungarian](http://en.wikipedia.org/wiki/Hungary)-born [American](http://en.wikipedia.org/wiki/United_States) [physics](http://en.wikipedia.org/wiki/Physics) professor.\n\nElo rating systemArpad Elo\n\nThe Elo system was invented as an improved [chess rating system](http://en.wikipedia.org/wiki/Chess_rating_system), but today it is also used in many other games. It is also used as a rating system for multiplayer competition in a number of [computer games](http://en.wikipedia.org/wiki/Computer_game),[<sup>[1]</sup>](http://en.wikipedia.org/wiki/Elo_rating_system#cite_note-0) and has been adapted to team sports including [association football](http://en.wikipedia.org/wiki/Association_football), American college football and basketball, and [Major League Baseball](http://en.wikipedia.org/wiki/Major_League_Baseball).\n\n\n\n**Elo**\n\n1.LogisticLogistic\n\n2.\n\n****\n\n### [![clip_image003](http://www.hongweiyi.com/wp-content/uploads/2011/03/clip_image003_thumb.png \"clip_image003\")](http://www.hongweiyi.com/wp-content/uploads/2011/03/clip_image003.png)\n\nEaARaA\n\nAB\n\nEa + Eb=1\n\n10\n\n\n\n### [![clip_image004](http://www.hongweiyi.com/wp-content/uploads/2011/03/clip_image004_thumb.jpg \"clip_image004\")](http://www.hongweiyi.com/wp-content/uploads/2011/03/clip_image004.jpg)\n\nSaA10RaAK16Ra\n\n0\n\nABRa=Rb=0Ea=Eb=0.5\n\nABA1B0\n\nRa'=0+16*(1-0.5)=8\n\nRb'=0+16*(0-0.5)=-8\n\n********\n\nMarkFacemash********T_T\n> **:**\r>\n> <pre>[http://en.wikipedia.org/wiki/Elo_rating_system](http://en.wikipedia.org/wiki/Elo_rating_system)</pre>\r>\n> <pre> [http://www.douban.com/note/122191956/](http://www.douban.com/note/122191956/)</pre>\n","source":"_posts/ranksystem-in-social-network.md","raw":"title: \ntags:\n  - \n  - \nid: 112\ncategories:\n  - \ndate: 2011-03-06 23:33:20\n---\n\n![image](/images/ranksystem-in-social-network.png)\n\n****\n\n2**[Jesse Eisenberg](http://people.mtime.com/914798/)****Mark**Mark\n\n<!--more-->\n> 1Mark**Geek**Geek\r>\n>\n> 2Mark****\r>\n>\n> 3Mark****\nMarkMarkEsquire\n\nMarkFacemash\n\nElo Rating System\n\nThe **Elo rating system** is a method for calculating the _relative skill levels_ of players in two-player games such as [chess](http://en.wikipedia.org/wiki/Chess). It is named after its creator [Arpad Elo](http://en.wikipedia.org/wiki/Arpad_Elo), a [Hungarian](http://en.wikipedia.org/wiki/Hungary)-born [American](http://en.wikipedia.org/wiki/United_States) [physics](http://en.wikipedia.org/wiki/Physics) professor.\n\nElo rating systemArpad Elo\n\nThe Elo system was invented as an improved [chess rating system](http://en.wikipedia.org/wiki/Chess_rating_system), but today it is also used in many other games. It is also used as a rating system for multiplayer competition in a number of [computer games](http://en.wikipedia.org/wiki/Computer_game),[<sup>[1]</sup>](http://en.wikipedia.org/wiki/Elo_rating_system#cite_note-0) and has been adapted to team sports including [association football](http://en.wikipedia.org/wiki/Association_football), American college football and basketball, and [Major League Baseball](http://en.wikipedia.org/wiki/Major_League_Baseball).\n\n\n\n**Elo**\n\n1.LogisticLogistic\n\n2.\n\n****\n\n### [![clip_image003](http://www.hongweiyi.com/wp-content/uploads/2011/03/clip_image003_thumb.png \"clip_image003\")](http://www.hongweiyi.com/wp-content/uploads/2011/03/clip_image003.png)\n\nEaARaA\n\nAB\n\nEa + Eb=1\n\n10\n\n\n\n### [![clip_image004](http://www.hongweiyi.com/wp-content/uploads/2011/03/clip_image004_thumb.jpg \"clip_image004\")](http://www.hongweiyi.com/wp-content/uploads/2011/03/clip_image004.jpg)\n\nSaA10RaAK16Ra\n\n0\n\nABRa=Rb=0Ea=Eb=0.5\n\nABA1B0\n\nRa'=0+16*(1-0.5)=8\n\nRb'=0+16*(0-0.5)=-8\n\n********\n\nMarkFacemash********T_T\n> **:**\r>\n> <pre>[http://en.wikipedia.org/wiki/Elo_rating_system](http://en.wikipedia.org/wiki/Elo_rating_system)</pre>\r>\n> <pre> [http://www.douban.com/note/122191956/](http://www.douban.com/note/122191956/)</pre>\n","slug":"ranksystem-in-social-network","published":1,"updated":"2015-12-29T13:38:09.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciirfw6zg0027sv8fx4v5cfwl"},{"title":"Python - ","id":"228","date":"2011-12-21T04:21:13.000Z","_content":"\nPythonmark\n <!--more-->  \n\nlist\n  <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>     <tr>       <td valign=\"top\" width=\"568\">         <div class=\"dp-highlighter\">           <div class=\"bar\"></div>            \n\n1.  <span><span class=\"keyword\">import</span><span>&#160;</span><span class=\"commonlibs\">os</span><span>, </span><span class=\"commonlibs\">sys</span><span>&#160; </span></span>\n2.  <span>&#160; </span>\n3.  <span></span><span class=\"comment\"># list files in root by recursion </span><span>&#160; </span></span>\n4.  <span></span><span class=\"keyword\">def</span><span> listfile(root, callback = None):&#160;&#160; </span></span>\n5.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">for</span><span> path </span><span class=\"keyword\">in</span><span>&#160;</span><span class=\"commonlibs\">os</span><span>.listdir(root):&#160;&#160; </span></span>\n6.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; abs_path = </span><span class=\"commonlibs\">os</span><span>.path.join(root, path)&#160;&#160; </span></span>\n7.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">if</span><span>&#160;</span><span class=\"commonlibs\">os</span><span>.path.isdir(abs_path):&#160;&#160; </span></span>\n8.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; listfile(abs_path, callback)&#160;&#160; </span>\n9.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">else</span><span>:&#160;&#160; </span></span>\n10.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">if</span><span> callback: callback(abs_path)&#160;&#160; </span></span>\n11.  <span>&#160; </span>\n12.  <span></span><span class=\"comment\">#do something to the path </span><span>&#160; </span></span>\n13.  <span></span><span class=\"keyword\">def</span><span> dosth(path):&#160;&#160; </span></span>\n14.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">print</span><span> path&#160;&#160; </span></span>\n15.  <span>&#160; </span>\n16.  <span></span><span class=\"keyword\">if</span><span>&#160;</span><span class=\"builtins\">__name__</span><span> == &quot;</span><span class=\"builtins\">__main__</span><span>&quot;:&#160;&#160; </span></span>\n17.  <span>&#160;&#160;&#160; path = </span><span class=\"builtins\">raw_input</span><span>('enter your path: ')&#160;&#160; </span></span>\n18.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">try</span><span>:&#160;&#160; </span></span>\n19.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; listfile(path, dosth)&#160;&#160; </span>\n20.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">except</span><span>: </span><span class=\"comment\"># Exception in permissions, sytem file etc </span><span>&#160; </span></span>\n21.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">pass</span><span>&#160; </span></span>         </div>       </td>     </tr>   </tbody></table>  \n\npythonGoogleos.walk(path)\n\nos.walk()(dirpath, dirnames, filenames)dirpathdirnameslistdirpathfilenameslistdirpath\n\ndirnamesfilenamesos.path.join(path,name)\n  <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>     <tr>       <td valign=\"top\" width=\"568\">         <div class=\"dp-highlighter\">           <div class=\"bar\"></div>            \n\n1.  <span><span class=\"keyword\">import</span><span>&#160;</span><span class=\"commonlibs\">os</span><span>, </span><span class=\"commonlibs\">sys</span><span>&#160; </span></span>2.  <span>&#160; </span>3.  <span></span><span class=\"comment\"># list files in root by os.walk() </span><span>&#160; </span></span>4.  <span></span><span class=\"keyword\">def</span><span> walkfile(root, callback = None):&#160;&#160; </span></span>5.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">for</span><span> dirpath, dirnames, filenames </span><span class=\"keyword\">in</span><span>&#160;</span><span class=\"commonlibs\">os</span><span>.walk(root):&#160;&#160; </span></span>6.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">for</span><span> filename </span><span class=\"keyword\">in</span><span> filenames:&#160;&#160; </span></span>7.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; abs_path = </span><span class=\"commonlibs\">os</span><span>.path.join(dirpath, filename)&#160;&#160; </span></span>8.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">if</span><span> callback: callback(abs_path)&#160;&#160; </span></span>9.  <span>&#160; </span>10.  <span></span><span class=\"comment\">#do something to the path </span><span>&#160; </span></span>11.  <span></span><span class=\"keyword\">def</span><span> dosth(path):&#160;&#160; </span></span>12.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">print</span><span> path&#160;&#160; </span></span>13.  <span>&#160; </span>14.  <span></span><span class=\"keyword\">if</span><span>&#160;</span><span class=\"builtins\">__name__</span><span> == &quot;</span><span class=\"builtins\">__main__</span><span>&quot;:&#160;&#160; </span></span>15.  <span>&#160;&#160;&#160; path = </span><span class=\"builtins\">raw_input</span><span>('enter your path: ')&#160;&#160; </span></span>16.  <span>&#160;&#160;&#160; </span><span class=\"comment\">#In theory, there is no permissions/systemfile exception by os.walk </span><span>&#160; </span></span>17.  <span>&#160;&#160;&#160; walkfile(path, dosth)&#160;&#160; </span>         </div>       </td>     </tr>   </tbody></table>","source":"_posts/python-traverse-dir.md","raw":"title: Python - \ntags:\n  - Python\nid: 228\ncategories:\n  - \ndate: 2011-12-21 12:21:13\n---\n\nPythonmark\n <!--more-->  \n\nlist\n  <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>     <tr>       <td valign=\"top\" width=\"568\">         <div class=\"dp-highlighter\">           <div class=\"bar\"></div>            \n\n1.  <span><span class=\"keyword\">import</span><span>&#160;</span><span class=\"commonlibs\">os</span><span>, </span><span class=\"commonlibs\">sys</span><span>&#160; </span></span>\n2.  <span>&#160; </span>\n3.  <span></span><span class=\"comment\"># list files in root by recursion </span><span>&#160; </span></span>\n4.  <span></span><span class=\"keyword\">def</span><span> listfile(root, callback = None):&#160;&#160; </span></span>\n5.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">for</span><span> path </span><span class=\"keyword\">in</span><span>&#160;</span><span class=\"commonlibs\">os</span><span>.listdir(root):&#160;&#160; </span></span>\n6.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; abs_path = </span><span class=\"commonlibs\">os</span><span>.path.join(root, path)&#160;&#160; </span></span>\n7.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">if</span><span>&#160;</span><span class=\"commonlibs\">os</span><span>.path.isdir(abs_path):&#160;&#160; </span></span>\n8.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; listfile(abs_path, callback)&#160;&#160; </span>\n9.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">else</span><span>:&#160;&#160; </span></span>\n10.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">if</span><span> callback: callback(abs_path)&#160;&#160; </span></span>\n11.  <span>&#160; </span>\n12.  <span></span><span class=\"comment\">#do something to the path </span><span>&#160; </span></span>\n13.  <span></span><span class=\"keyword\">def</span><span> dosth(path):&#160;&#160; </span></span>\n14.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">print</span><span> path&#160;&#160; </span></span>\n15.  <span>&#160; </span>\n16.  <span></span><span class=\"keyword\">if</span><span>&#160;</span><span class=\"builtins\">__name__</span><span> == &quot;</span><span class=\"builtins\">__main__</span><span>&quot;:&#160;&#160; </span></span>\n17.  <span>&#160;&#160;&#160; path = </span><span class=\"builtins\">raw_input</span><span>('enter your path: ')&#160;&#160; </span></span>\n18.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">try</span><span>:&#160;&#160; </span></span>\n19.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; listfile(path, dosth)&#160;&#160; </span>\n20.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">except</span><span>: </span><span class=\"comment\"># Exception in permissions, sytem file etc </span><span>&#160; </span></span>\n21.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">pass</span><span>&#160; </span></span>         </div>       </td>     </tr>   </tbody></table>  \n\npythonGoogleos.walk(path)\n\nos.walk()(dirpath, dirnames, filenames)dirpathdirnameslistdirpathfilenameslistdirpath\n\ndirnamesfilenamesos.path.join(path,name)\n  <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>     <tr>       <td valign=\"top\" width=\"568\">         <div class=\"dp-highlighter\">           <div class=\"bar\"></div>            \n\n1.  <span><span class=\"keyword\">import</span><span>&#160;</span><span class=\"commonlibs\">os</span><span>, </span><span class=\"commonlibs\">sys</span><span>&#160; </span></span>2.  <span>&#160; </span>3.  <span></span><span class=\"comment\"># list files in root by os.walk() </span><span>&#160; </span></span>4.  <span></span><span class=\"keyword\">def</span><span> walkfile(root, callback = None):&#160;&#160; </span></span>5.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">for</span><span> dirpath, dirnames, filenames </span><span class=\"keyword\">in</span><span>&#160;</span><span class=\"commonlibs\">os</span><span>.walk(root):&#160;&#160; </span></span>6.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">for</span><span> filename </span><span class=\"keyword\">in</span><span> filenames:&#160;&#160; </span></span>7.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; abs_path = </span><span class=\"commonlibs\">os</span><span>.path.join(dirpath, filename)&#160;&#160; </span></span>8.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">if</span><span> callback: callback(abs_path)&#160;&#160; </span></span>9.  <span>&#160; </span>10.  <span></span><span class=\"comment\">#do something to the path </span><span>&#160; </span></span>11.  <span></span><span class=\"keyword\">def</span><span> dosth(path):&#160;&#160; </span></span>12.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">print</span><span> path&#160;&#160; </span></span>13.  <span>&#160; </span>14.  <span></span><span class=\"keyword\">if</span><span>&#160;</span><span class=\"builtins\">__name__</span><span> == &quot;</span><span class=\"builtins\">__main__</span><span>&quot;:&#160;&#160; </span></span>15.  <span>&#160;&#160;&#160; path = </span><span class=\"builtins\">raw_input</span><span>('enter your path: ')&#160;&#160; </span></span>16.  <span>&#160;&#160;&#160; </span><span class=\"comment\">#In theory, there is no permissions/systemfile exception by os.walk </span><span>&#160; </span></span>17.  <span>&#160;&#160;&#160; walkfile(path, dosth)&#160;&#160; </span>         </div>       </td>     </tr>   </tbody></table>","slug":"python-traverse-dir","published":1,"updated":"2015-12-29T13:31:03.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciirfw6zi002dsv8f5ucdpqll"},{"title":"Python","id":"243","date":"2012-01-20T08:40:51.000Z","_content":"\nN&lt;[Python](http://www.joynb.net/blog/archives/120)&gt;\n <!--more-->  \n\n[ip](http://bbs.chinaunix.net/thread-823862-1-1.html)603064\n  <div class=\"dp-highlighter\">   <div class=\"bar\"></div>    \n\n1.  <span><span>iplist=['192.168.1.33','10.5.1.3','10.5.2.4','202.98.96.68','13.12.1.1']&#160;&#160; </span></span>\n2.  <span></span><span class=\"keyword\">def</span><span> ip2int(s):&#160;&#160; </span></span>\n3.  <span>&#160;&#160;&#160; l = [</span><span class=\"builtins\">int</span><span>(i) </span><span class=\"keyword\">for</span><span> i </span><span class=\"keyword\">in</span><span> s.split('.')]&#160;&#160; </span></span>\n4.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">return</span><span> (l[0] &lt;&lt; 24) | (l[1] &lt;&lt; 16) | (l[2] &lt;&lt; 8 ) | l[3]&#160;&#160; </span></span>\n5.  <span>&#160;&#160;&#160;&#160;&#160;&#160; </span>\n6.  <span>iplist.sort(</span><span class=\"keyword\">lambda</span><span> x, y: </span><span class=\"builtins\">cmp</span><span>(ip2int(x), ip2int(y)))&#160;&#160; </span></span>\n7.  <span></span><span class=\"keyword\">print</span><span> iplist&#160; </span></span> </div>  \n\n&lt;[Python](http://www.joynb.net/blog/archives/120)&gt;21\n  <div class=\"dp-highlighter\">   <div class=\"bar\"></div>    \n\n1.  <span><span>iplist=['192.168.1.33','10.5.1.3','10.5.2.4','202.98.96.68','13.12.1.1']&#160;&#160; </span></span>\n2.  <span>p = </span><span class=\"keyword\">lambda</span><span> ip: </span><span class=\"builtins\">sum</span><span>( [ </span><span class=\"builtins\">int</span><span>(k)*v </span><span class=\"keyword\">for</span><span> k, v </span><span class=\"keyword\">in</span><span>&#160;</span><span class=\"builtins\">zip</span><span>(ip.split('.'), [1&lt;&lt;24, 65536, 256, 1])]);&#160;&#160; </span></span>\n3.  <span>iplist.sort(</span><span class=\"keyword\">lambda</span><span> x, y: </span><span class=\"builtins\">cmp</span><span>(p(x), p(y)))&#160;&#160; </span></span>\n4.  <span></span><span class=\"keyword\">print</span><span> iplist&#160; </span></span> </div>  \n\nPythonlambdamapreducefilter\n\n**lambda**\n\nc/c++lambda [] : []lambda x : x+2\n  <div class=\"dp-highlighter\">   <div class=\"bar\"></div>    \n\n1.  <span><span>lam = </span><span class=\"keyword\">lambda</span><span> x : x+2&#160;&#160; </span></span>\n2.  <span></span><span class=\"keyword\">print</span><span> lam(2)&#160;&#160; </span></span>\n3.  <span></span><span class=\"keyword\">print</span><span> (</span><span class=\"keyword\">lambda</span><span> x : x+2)(2)&#160; </span></span> </div>  \n\nlambdaPython[****](http://www.cnblogs.com/coderzh/archive/2010/04/30/python-cookbook-lambda.html)\n\n**mapreducefilter**\n\nlambdamap(func,seq)reduce(func,seq,initial=None)filter(bool_func,seq)\n\nmapseqfunc\n\nreduceseqfunc1+2+3+4\n\nfilterseqbool_func\n\nfuncdeflambda\n  <div class=\"dp-highlighter\">   <div class=\"bar\"></div>    \n\n1.  <span><span>ls = [1,2,3,4,5]&#160;&#160; </span></span>\n2.  <span></span><span class=\"comment\"># every item in ls plus 2 </span><span>&#160; </span></span>\n3.  <span></span><span class=\"keyword\">print</span><span>&#160;</span><span class=\"builtins\">map</span><span>(</span><span class=\"keyword\">lambda</span><span> x : x+2, ls)&#160;&#160; </span></span>\n4.  <span></span><span class=\"comment\"># sum(ls) </span><span>&#160; </span></span>\n5.  <span></span><span class=\"keyword\">print</span><span>&#160;</span><span class=\"builtins\">reduce</span><span>(</span><span class=\"keyword\">lambda</span><span> x, y : x+y, ls)&#160;&#160; </span></span>\n6.  <span></span><span class=\"comment\"># filter the item which less than 2 </span><span>&#160; </span></span>\n7.  <span></span><span class=\"keyword\">print</span><span>&#160;</span><span class=\"builtins\">filter</span><span>(</span><span class=\"keyword\">lambda</span><span> x : x &gt; 2 </span><span class=\"keyword\">and</span><span>&#160;</span><span class=\"builtins\">True</span><span>&#160;</span><span class=\"keyword\">or</span><span>&#160;</span><span class=\"builtins\">False</span><span>, ls)&#160;&#160; </span></span> </div>","source":"_posts/python-chat.md","raw":"title: Python\ntags:\n  - Python\nid: 243\ncategories:\n  - \ndate: 2012-01-20 16:40:51\n---\n\nN&lt;[Python](http://www.joynb.net/blog/archives/120)&gt;\n <!--more-->  \n\n[ip](http://bbs.chinaunix.net/thread-823862-1-1.html)603064\n  <div class=\"dp-highlighter\">   <div class=\"bar\"></div>    \n\n1.  <span><span>iplist=['192.168.1.33','10.5.1.3','10.5.2.4','202.98.96.68','13.12.1.1']&#160;&#160; </span></span>\n2.  <span></span><span class=\"keyword\">def</span><span> ip2int(s):&#160;&#160; </span></span>\n3.  <span>&#160;&#160;&#160; l = [</span><span class=\"builtins\">int</span><span>(i) </span><span class=\"keyword\">for</span><span> i </span><span class=\"keyword\">in</span><span> s.split('.')]&#160;&#160; </span></span>\n4.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">return</span><span> (l[0] &lt;&lt; 24) | (l[1] &lt;&lt; 16) | (l[2] &lt;&lt; 8 ) | l[3]&#160;&#160; </span></span>\n5.  <span>&#160;&#160;&#160;&#160;&#160;&#160; </span>\n6.  <span>iplist.sort(</span><span class=\"keyword\">lambda</span><span> x, y: </span><span class=\"builtins\">cmp</span><span>(ip2int(x), ip2int(y)))&#160;&#160; </span></span>\n7.  <span></span><span class=\"keyword\">print</span><span> iplist&#160; </span></span> </div>  \n\n&lt;[Python](http://www.joynb.net/blog/archives/120)&gt;21\n  <div class=\"dp-highlighter\">   <div class=\"bar\"></div>    \n\n1.  <span><span>iplist=['192.168.1.33','10.5.1.3','10.5.2.4','202.98.96.68','13.12.1.1']&#160;&#160; </span></span>\n2.  <span>p = </span><span class=\"keyword\">lambda</span><span> ip: </span><span class=\"builtins\">sum</span><span>( [ </span><span class=\"builtins\">int</span><span>(k)*v </span><span class=\"keyword\">for</span><span> k, v </span><span class=\"keyword\">in</span><span>&#160;</span><span class=\"builtins\">zip</span><span>(ip.split('.'), [1&lt;&lt;24, 65536, 256, 1])]);&#160;&#160; </span></span>\n3.  <span>iplist.sort(</span><span class=\"keyword\">lambda</span><span> x, y: </span><span class=\"builtins\">cmp</span><span>(p(x), p(y)))&#160;&#160; </span></span>\n4.  <span></span><span class=\"keyword\">print</span><span> iplist&#160; </span></span> </div>  \n\nPythonlambdamapreducefilter\n\n**lambda**\n\nc/c++lambda [] : []lambda x : x+2\n  <div class=\"dp-highlighter\">   <div class=\"bar\"></div>    \n\n1.  <span><span>lam = </span><span class=\"keyword\">lambda</span><span> x : x+2&#160;&#160; </span></span>\n2.  <span></span><span class=\"keyword\">print</span><span> lam(2)&#160;&#160; </span></span>\n3.  <span></span><span class=\"keyword\">print</span><span> (</span><span class=\"keyword\">lambda</span><span> x : x+2)(2)&#160; </span></span> </div>  \n\nlambdaPython[****](http://www.cnblogs.com/coderzh/archive/2010/04/30/python-cookbook-lambda.html)\n\n**mapreducefilter**\n\nlambdamap(func,seq)reduce(func,seq,initial=None)filter(bool_func,seq)\n\nmapseqfunc\n\nreduceseqfunc1+2+3+4\n\nfilterseqbool_func\n\nfuncdeflambda\n  <div class=\"dp-highlighter\">   <div class=\"bar\"></div>    \n\n1.  <span><span>ls = [1,2,3,4,5]&#160;&#160; </span></span>\n2.  <span></span><span class=\"comment\"># every item in ls plus 2 </span><span>&#160; </span></span>\n3.  <span></span><span class=\"keyword\">print</span><span>&#160;</span><span class=\"builtins\">map</span><span>(</span><span class=\"keyword\">lambda</span><span> x : x+2, ls)&#160;&#160; </span></span>\n4.  <span></span><span class=\"comment\"># sum(ls) </span><span>&#160; </span></span>\n5.  <span></span><span class=\"keyword\">print</span><span>&#160;</span><span class=\"builtins\">reduce</span><span>(</span><span class=\"keyword\">lambda</span><span> x, y : x+y, ls)&#160;&#160; </span></span>\n6.  <span></span><span class=\"comment\"># filter the item which less than 2 </span><span>&#160; </span></span>\n7.  <span></span><span class=\"keyword\">print</span><span>&#160;</span><span class=\"builtins\">filter</span><span>(</span><span class=\"keyword\">lambda</span><span> x : x &gt; 2 </span><span class=\"keyword\">and</span><span>&#160;</span><span class=\"builtins\">True</span><span>&#160;</span><span class=\"keyword\">or</span><span>&#160;</span><span class=\"builtins\">False</span><span>, ls)&#160;&#160; </span></span> </div>","slug":"python-chat","published":1,"updated":"2015-12-29T13:31:03.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciirfw6zj002hsv8fxqt7py66"},{"title":"","id":"156","date":"2011-08-31T19:33:22.000Z","_content":"\n18%18%D3100\n\n![  ](http://2a.zol-img.com.cn/product/69_500x2000/678/cem3Ejwh9cAac.gif)\n\n<!--more-->__\n\n****\n\n\n\n\n\n[ ](http://detail.zol.com.cn/picture_index_697/index6963692.shtml)\n\n[![MUX~][FR}HT_O3V]~BF]]79](http://www.hongweiyi.com/wp-content/uploads/2011/09/MUXFRHT_O3VBF79.jpg \"MUX~][FR}HT_O3V]~BF]]79\")](http://detail.zol.com.cn/picture_index_697/index6963692.shtml)\n\n[ ](http://detail.zol.com.cn/picture_index_697/index6963692.shtml)\n\n[ ](http://detail.zol.com.cn/picture_index_697/index6963692.shtml)\n\n__\n\n****\n\n10%\n\n\n\n_![  ](http://2e.zol-img.com.cn/product/69_500x2000/694/cetwEFJGmxx8Y.jpg)\n_\n\n****\n\n\n\n\n\n![  ](http://2d.zol-img.com.cn/product/69_500x2000/693/ceK2DvqCYZ7g.jpg)\n\n__\n> [http://dcdv.zol.com.cn/244/2445668.html](http://dcdv.zol.com.cn/244/2445668.html)","source":"_posts/photometry.md","raw":"title: \ntags:\n  - \n  - \nid: 156\ncategories:\n  - \ndate: 2011-09-01 03:33:22\n---\n\n18%18%D3100\n\n![  ](http://2a.zol-img.com.cn/product/69_500x2000/678/cem3Ejwh9cAac.gif)\n\n<!--more-->__\n\n****\n\n\n\n\n\n[ ](http://detail.zol.com.cn/picture_index_697/index6963692.shtml)\n\n[![MUX~][FR}HT_O3V]~BF]]79](http://www.hongweiyi.com/wp-content/uploads/2011/09/MUXFRHT_O3VBF79.jpg \"MUX~][FR}HT_O3V]~BF]]79\")](http://detail.zol.com.cn/picture_index_697/index6963692.shtml)\n\n[ ](http://detail.zol.com.cn/picture_index_697/index6963692.shtml)\n\n[ ](http://detail.zol.com.cn/picture_index_697/index6963692.shtml)\n\n__\n\n****\n\n10%\n\n\n\n_![  ](http://2e.zol-img.com.cn/product/69_500x2000/694/cetwEFJGmxx8Y.jpg)\n_\n\n****\n\n\n\n\n\n![  ](http://2d.zol-img.com.cn/product/69_500x2000/693/ceK2DvqCYZ7g.jpg)\n\n__\n> [http://dcdv.zol.com.cn/244/2445668.html](http://dcdv.zol.com.cn/244/2445668.html)","slug":"photometry","published":1,"updated":"2015-12-29T13:31:03.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciirfw6zl002ksv8fo2duuzrw"},{"title":"OOM Killer ","date":"2015-10-23T16:00:00.000Z","_content":"\n JVM  VM  VM  JVM  Bug  JVM \n<!--more-->\n\n### 1. JVM \n\nJVM  dump  core \n\n```\nstrace -e trace=signal -o /home/admin/strace.log -p [PID];\n```\n\n JVM \n\n```\n+++ killed by SIGKILL +++\n```\n\n[signal - overview of signals](http://man7.org/linux/man-pages/man7/signal.7.html) SIGKILL  kill -9 OS  kill \n\n JVM \n\n```\ndmesg | egrep -i -B100 'killed process'\n[5673702.665338] [20189]   522 20189     1017       22   2       0             0 sleep\n[5673702.665338] [20308]     0 20308    47967    20414   3       0             0 puppet\n[5673702.665338] [20536]     0 20536    47969    20419   1       0             0 puppet\n[5673702.665338] Out of memory: Kill process 29953 (java) score 431 or sacrifice child\n[5673702.665338] Killed process 29953, UID 500, (java) total-vm:9805316kB, anon-rss:2344496kB, file-rss:128kB\n```\n\n Out of memory  JVM  kill  OOM Killer  OOM Killer \n\n>  OOM  dump \n  pmap -x [PID]: ;\n  jmap -heap [PID]:  JVM </blockquote>\n\n### 2.  Linux  OOM Killer\n\n VPS  MySQL  VPS  Out of memory  Linux  Out of Memory (OOM) killerOOM killer `/var/log/messages` `Out of memory: Kill process` \n\n```\n...\nOut of memory: Kill process 9682 (mysqld) score 9 or sacrifice child\nKilled process 9682, UID 27, (mysqld) total-vm:47388kB, anon-rss:3744kB, file-rss:80kB\nhttpd invoked oom-killer: gfp_mask=0x201da, order=0, oom_adj=0, oom_score_adj=0\nhttpd cpuset=/ mems_allowed=0\nPid: 8911, comm: httpd Not tainted 2.6.32-279.1.1.el6.i686 #1\n...\n21556 total pagecache pages\n21049 pages in swap cache\nSwap cache stats: add 12819103, delete 12798054, find 3188096/4634617\nFree swap  = 0kB\nTotal swap = 524280kB\n131071 pages RAM\n0 pages HighMem\n3673 pages reserved\n67960 pages shared\n124940 pages non-shared\n```\n\nLinux over-commit memory   swapOOM killer\n\n [linux/mm/oom_kill.c] (https://github.com/torvalds/linux/blob/master/mm/oom_kill.c)`out_of_memory()`  `select_bad_process()`  bad  bad  `oom_badness()`  bad \n\n``` c\n/**\n * oom_badness - heuristic function to determine which candidate task to kill\n * @p: task struct of which task we should calculate\n * @totalpages: total present RAM allowed for page allocation\n *\n * The heuristic for determining which task to kill is made to be as simple and\n * predictable as possible.  The goal is to return the highest value for the\n * task consuming the most memory to avoid subsequent oom failures.\n */\nunsigned long oom_badness(struct task_struct *p, struct mem_cgroup *memcg,\n\t\t\t  const nodemask_t *nodemask, unsigned long totalpages)\n{\n\tlong points;\n\tlong adj;\n\n\tif (oom_unkillable_task(p, memcg, nodemask))\n\t\treturn 0;\n\n\tp = find_lock_task_mm(p);\n\tif (!p)\n\t\treturn 0;\n\n\tadj = (long)p-&gt;signal-&gt;oom_score_adj;\n\tif (adj == OOM_SCORE_ADJ_MIN) {\n\t\ttask_unlock(p);\n\t\treturn 0;\n\t}\n\n\t/*\n\t * The baseline for the badness score is the proportion of RAM that each\n\t * task's rss, pagetable and swap space use.\n\t */\n\tpoints = get_mm_rss(p-&gt;mm) + p-&gt;mm-&gt;nr_ptes +\n\t\t get_mm_counter(p-&gt;mm, MM_SWAPENTS);\n\ttask_unlock(p);\n\n\t/*\n\t * Root processes get 3% bonus, just like the __vm_enough_memory()\n\t * implementation used by LSMs.\n\t */\n\tif (has_capability_noaudit(p, CAP_SYS_ADMIN))\n\t\tadj -= 30;\n\n\t/* Normalize to oom_score_adj units */\n\tadj *= totalpages / 1000;\n\tpoints += adj;\n\n\t/*\n\t * Never return 0 for an eligible task regardless of the root bonus and\n\t * oom_score_adj (oom_score_adj can't be OOM_SCORE_ADJ_MIN here).\n\t */\n\treturn points &gt; 0 ? points : 1;\n}\n```\n\n MySQL  Out of Memeory (OOM)  kill [ MySQL ](http://www.vpsee.com/2009/06/64mb-vps-optimize-mysql/) MySQL [ Debian 5](http://www.vpsee.com/2009/06/64mb-vps-optimize-debian5/)[ CentOS 5.x](http://www.vpsee.com/2009/06/128mb-vps-optimize-centos5/) MySQL)  MySQL  OOM killer \n\n#### 2.1  OOM killer\n\n OOM killer  OOM  kernel panickernel panic 10\n\n```\n# sysctl -w vm.panic_on_oom=1\nvm.panic_on_oom = 1\n\n# sysctl -w kernel.panic=10\nkernel.panic = 10\n\n# echo \"vm.panic_on_oom=1\" &gt;&gt; /etc/sysctl.conf\n# echo \"kernel.panic=10\" &gt;&gt; /etc/sysctl.conf\n```\n\n oom_kill.c  `oom_badness()`  points  points  adj root  3% adj -= 30;  oom_adj  OOM killer  MySQL  MySQL  oom_score_adj  -15 points \n\n```\n# ps aux | grep mysqld\nmysql    2196  1.6  2.1 623800 44876 ?        Ssl  09:42   0:00 /usr/sbin/mysqld\n\n# cat /proc/2196/oom_score_adj\n0\n# echo -15 &gt; /proc/2196/oom_score_adj\n```\n\n OOM killer\n\n```\n# sysctl -w vm.overcommit_memory=2\n\n# echo \"vm.overcommit_memory=2\" &gt;&gt; /etc/sysctl.conf\n```\n\n#### 2.2  OOM Killer \n\n oom_adj  oom_score 981 omm_score omm_score_adj 153\n\n```\n# cat /proc/981/oom_score\n18\n\n# echo -15 &gt; /proc/981/oom_score_adj\n# cat /proc/981/oom_score\n3\n```\n\n bash  oom_score  OOM Killer \n\n```\n# vi oomscore.sh\n#!/bin/bash\nfor proc in $(find /proc -maxdepth 1 -regex '/proc/[0-9]+'); do\n    printf \"%2d %5d %s\\n\" \\\n        \"$(cat $proc/oom_score)\" \\\n        \"$(basename $proc)\" \\\n        \"$(cat $proc/cmdline | tr '\\0' ' ' | head -c 50)\"\ndone 2&gt;/dev/null | sort -nr | head -n 10\n\n# chmod +x oomscore.sh\n# ./oomscore.sh\n18   981 /usr/sbin/mysqld\n 4 31359 -bash\n 4 31056 -bash\n 1 31358 sshd: root@pts/6\n 1 31244 sshd: vpsee [priv]\n 1 31159 -bash\n 1 31158 sudo -i\n 1 31055 sshd: root@pts/3\n 1 30912 sshd: vpsee [priv]\n 1 29547 /usr/sbin/sshd -D\n```\n\n> http://www.vpsee.com/2013/10/how-to-configure-the-linux-oom-killer/\n","source":"_posts/oom-killer-1.md","raw":"title: OOM Killer \ndate: 2015-10-24 00:00:00\ncategories: \ntags: [Java, JVM, OOM Killer]\n---\n\n JVM  VM  VM  JVM  Bug  JVM \n<!--more-->\n\n### 1. JVM \n\nJVM  dump  core \n\n```\nstrace -e trace=signal -o /home/admin/strace.log -p [PID];\n```\n\n JVM \n\n```\n+++ killed by SIGKILL +++\n```\n\n[signal - overview of signals](http://man7.org/linux/man-pages/man7/signal.7.html) SIGKILL  kill -9 OS  kill \n\n JVM \n\n```\ndmesg | egrep -i -B100 'killed process'\n[5673702.665338] [20189]   522 20189     1017       22   2       0             0 sleep\n[5673702.665338] [20308]     0 20308    47967    20414   3       0             0 puppet\n[5673702.665338] [20536]     0 20536    47969    20419   1       0             0 puppet\n[5673702.665338] Out of memory: Kill process 29953 (java) score 431 or sacrifice child\n[5673702.665338] Killed process 29953, UID 500, (java) total-vm:9805316kB, anon-rss:2344496kB, file-rss:128kB\n```\n\n Out of memory  JVM  kill  OOM Killer  OOM Killer \n\n>  OOM  dump \n  pmap -x [PID]: ;\n  jmap -heap [PID]:  JVM </blockquote>\n\n### 2.  Linux  OOM Killer\n\n VPS  MySQL  VPS  Out of memory  Linux  Out of Memory (OOM) killerOOM killer `/var/log/messages` `Out of memory: Kill process` \n\n```\n...\nOut of memory: Kill process 9682 (mysqld) score 9 or sacrifice child\nKilled process 9682, UID 27, (mysqld) total-vm:47388kB, anon-rss:3744kB, file-rss:80kB\nhttpd invoked oom-killer: gfp_mask=0x201da, order=0, oom_adj=0, oom_score_adj=0\nhttpd cpuset=/ mems_allowed=0\nPid: 8911, comm: httpd Not tainted 2.6.32-279.1.1.el6.i686 #1\n...\n21556 total pagecache pages\n21049 pages in swap cache\nSwap cache stats: add 12819103, delete 12798054, find 3188096/4634617\nFree swap  = 0kB\nTotal swap = 524280kB\n131071 pages RAM\n0 pages HighMem\n3673 pages reserved\n67960 pages shared\n124940 pages non-shared\n```\n\nLinux over-commit memory   swapOOM killer\n\n [linux/mm/oom_kill.c] (https://github.com/torvalds/linux/blob/master/mm/oom_kill.c)`out_of_memory()`  `select_bad_process()`  bad  bad  `oom_badness()`  bad \n\n``` c\n/**\n * oom_badness - heuristic function to determine which candidate task to kill\n * @p: task struct of which task we should calculate\n * @totalpages: total present RAM allowed for page allocation\n *\n * The heuristic for determining which task to kill is made to be as simple and\n * predictable as possible.  The goal is to return the highest value for the\n * task consuming the most memory to avoid subsequent oom failures.\n */\nunsigned long oom_badness(struct task_struct *p, struct mem_cgroup *memcg,\n\t\t\t  const nodemask_t *nodemask, unsigned long totalpages)\n{\n\tlong points;\n\tlong adj;\n\n\tif (oom_unkillable_task(p, memcg, nodemask))\n\t\treturn 0;\n\n\tp = find_lock_task_mm(p);\n\tif (!p)\n\t\treturn 0;\n\n\tadj = (long)p-&gt;signal-&gt;oom_score_adj;\n\tif (adj == OOM_SCORE_ADJ_MIN) {\n\t\ttask_unlock(p);\n\t\treturn 0;\n\t}\n\n\t/*\n\t * The baseline for the badness score is the proportion of RAM that each\n\t * task's rss, pagetable and swap space use.\n\t */\n\tpoints = get_mm_rss(p-&gt;mm) + p-&gt;mm-&gt;nr_ptes +\n\t\t get_mm_counter(p-&gt;mm, MM_SWAPENTS);\n\ttask_unlock(p);\n\n\t/*\n\t * Root processes get 3% bonus, just like the __vm_enough_memory()\n\t * implementation used by LSMs.\n\t */\n\tif (has_capability_noaudit(p, CAP_SYS_ADMIN))\n\t\tadj -= 30;\n\n\t/* Normalize to oom_score_adj units */\n\tadj *= totalpages / 1000;\n\tpoints += adj;\n\n\t/*\n\t * Never return 0 for an eligible task regardless of the root bonus and\n\t * oom_score_adj (oom_score_adj can't be OOM_SCORE_ADJ_MIN here).\n\t */\n\treturn points &gt; 0 ? points : 1;\n}\n```\n\n MySQL  Out of Memeory (OOM)  kill [ MySQL ](http://www.vpsee.com/2009/06/64mb-vps-optimize-mysql/) MySQL [ Debian 5](http://www.vpsee.com/2009/06/64mb-vps-optimize-debian5/)[ CentOS 5.x](http://www.vpsee.com/2009/06/128mb-vps-optimize-centos5/) MySQL)  MySQL  OOM killer \n\n#### 2.1  OOM killer\n\n OOM killer  OOM  kernel panickernel panic 10\n\n```\n# sysctl -w vm.panic_on_oom=1\nvm.panic_on_oom = 1\n\n# sysctl -w kernel.panic=10\nkernel.panic = 10\n\n# echo \"vm.panic_on_oom=1\" &gt;&gt; /etc/sysctl.conf\n# echo \"kernel.panic=10\" &gt;&gt; /etc/sysctl.conf\n```\n\n oom_kill.c  `oom_badness()`  points  points  adj root  3% adj -= 30;  oom_adj  OOM killer  MySQL  MySQL  oom_score_adj  -15 points \n\n```\n# ps aux | grep mysqld\nmysql    2196  1.6  2.1 623800 44876 ?        Ssl  09:42   0:00 /usr/sbin/mysqld\n\n# cat /proc/2196/oom_score_adj\n0\n# echo -15 &gt; /proc/2196/oom_score_adj\n```\n\n OOM killer\n\n```\n# sysctl -w vm.overcommit_memory=2\n\n# echo \"vm.overcommit_memory=2\" &gt;&gt; /etc/sysctl.conf\n```\n\n#### 2.2  OOM Killer \n\n oom_adj  oom_score 981 omm_score omm_score_adj 153\n\n```\n# cat /proc/981/oom_score\n18\n\n# echo -15 &gt; /proc/981/oom_score_adj\n# cat /proc/981/oom_score\n3\n```\n\n bash  oom_score  OOM Killer \n\n```\n# vi oomscore.sh\n#!/bin/bash\nfor proc in $(find /proc -maxdepth 1 -regex '/proc/[0-9]+'); do\n    printf \"%2d %5d %s\\n\" \\\n        \"$(cat $proc/oom_score)\" \\\n        \"$(basename $proc)\" \\\n        \"$(cat $proc/cmdline | tr '\\0' ' ' | head -c 50)\"\ndone 2&gt;/dev/null | sort -nr | head -n 10\n\n# chmod +x oomscore.sh\n# ./oomscore.sh\n18   981 /usr/sbin/mysqld\n 4 31359 -bash\n 4 31056 -bash\n 1 31358 sshd: root@pts/6\n 1 31244 sshd: vpsee [priv]\n 1 31159 -bash\n 1 31158 sudo -i\n 1 31055 sshd: root@pts/3\n 1 30912 sshd: vpsee [priv]\n 1 29547 /usr/sbin/sshd -D\n```\n\n> http://www.vpsee.com/2013/10/how-to-configure-the-linux-oom-killer/\n","slug":"oom-killer-1","published":1,"updated":"2015-12-29T13:30:15.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciirfw6zn002osv8fein236fs"},{"title":"OOM Killer ","id":"1125","date":"2015-03-16T14:01:01.000Z","_content":"\n JVM  VM  VM  JVM  Bug  JVM <!--more-->\n\n## JVM \n\nJVM  dump  core \n\n[code lang=\"shell\"]\nstrace -e trace=signal -o /home/admin/strace.log -p [PID];\n[/code]\n\n JVM \n\n[code lang=\"shell\"]+++ killed by SIGKILL +++[/code]\n\n[signal - overview of signals](http://man7.org/linux/man-pages/man7/signal.7.html) SIGKILL  kill -9 OS  kill \n\n JVM \n\n[code lang=\"shell\"]\ndmesg | egrep -i -B100 'killed process'\n[5673702.665338] [20189]   522 20189     1017       22   2       0             0 sleep\n[5673702.665338] [20308]     0 20308    47967    20414   3       0             0 puppet\n[5673702.665338] [20536]     0 20536    47969    20419   1       0             0 puppet\n[5673702.665338] Out of memory: Kill process 29953 (java) score 431 or sacrifice child\n[5673702.665338] Killed process 29953, UID 500, (java) total-vm:9805316kB, anon-rss:2344496kB, file-rss:128kB\n[/code]\n\n Out of memory  JVM  kill  OOM Killer  OOM Killer \n\n>  OOM  dump \n> \n> pmap -x [PID]: ;\n> \n> jmap -heap [PID]:  JVM \n\n##  Linux  OOM Killer\n\n VPS  MySQL  VPS  Out of memory  Linux  Out of Memory (OOM) killerOOM killer /var/log/messages Out of memory: Kill process \n\n[code lang=\"shell\"]\n...\nOut of memory: Kill process 9682 (mysqld) score 9 or sacrifice child\nKilled process 9682, UID 27, (mysqld) total-vm:47388kB, anon-rss:3744kB, file-rss:80kB\nhttpd invoked oom-killer: gfp_mask=0x201da, order=0, oom_adj=0, oom_score_adj=0\nhttpd cpuset=/ mems_allowed=0\nPid: 8911, comm: httpd Not tainted 2.6.32-279.1.1.el6.i686 #1\n...\n21556 total pagecache pages\n21049 pages in swap cache\nSwap cache stats: add 12819103, delete 12798054, find 3188096/4634617\nFree swap  = 0kB\nTotal swap = 524280kB\n131071 pages RAM\n0 pages HighMem\n3673 pages reserved\n67960 pages shared\n124940 pages non-shared\n[/code]\n\nLinux over-commit memory   swapOOM killer\n\n [linux/mm/oom_kill.c](https://github.com/torvalds/linux/blob/master/mm/oom_kill.c)out_of_memory()  select_bad_process()  bad  bad  oom_badness()  bad \n\n[code lang=\"c\"]\n/**\n * oom_badness - heuristic function to determine which candidate task to kill\n * @p: task struct of which task we should calculate\n * @totalpages: total present RAM allowed for page allocation\n *\n * The heuristic for determining which task to kill is made to be as simple and\n * predictable as possible.  The goal is to return the highest value for the\n * task consuming the most memory to avoid subsequent oom failures.\n */\nunsigned long oom_badness(struct task_struct *p, struct mem_cgroup *memcg,\n\t\t\t  const nodemask_t *nodemask, unsigned long totalpages)\n{\n\tlong points;\n\tlong adj;\n\n\tif (oom_unkillable_task(p, memcg, nodemask))\n\t\treturn 0;\n\n\tp = find_lock_task_mm(p);\n\tif (!p)\n\t\treturn 0;\n\n\tadj = (long)p-&amp;gt;signal-&amp;gt;oom_score_adj;\n\tif (adj == OOM_SCORE_ADJ_MIN) {\n\t\ttask_unlock(p);\n\t\treturn 0;\n\t}\n\n\t/*\n\t * The baseline for the badness score is the proportion of RAM that each\n\t * task's rss, pagetable and swap space use.\n\t */\n\tpoints = get_mm_rss(p-&amp;gt;mm) + p-&amp;gt;mm-&amp;gt;nr_ptes +\n\t\t get_mm_counter(p-&amp;gt;mm, MM_SWAPENTS);\n\ttask_unlock(p);\n\n\t/*\n\t * Root processes get 3% bonus, just like the __vm_enough_memory()\n\t * implementation used by LSMs.\n\t */\n\tif (has_capability_noaudit(p, CAP_SYS_ADMIN))\n\t\tadj -= 30;\n\n\t/* Normalize to oom_score_adj units */\n\tadj *= totalpages / 1000;\n\tpoints += adj;\n\n\t/*\n\t * Never return 0 for an eligible task regardless of the root bonus and\n\t * oom_score_adj (oom_score_adj can't be OOM_SCORE_ADJ_MIN here).\n\t */\n\treturn points &amp;gt; 0 ? points : 1;\n}\n[/code]\n\n MySQL  Out of Memeory (OOM)  kill [ MySQL ](http://www.vpsee.com/2009/06/64mb-vps-optimize-mysql/) MySQL [ Debian 5](http://www.vpsee.com/2009/06/64mb-vps-optimize-debian5/)[ CentOS 5.x](http://www.vpsee.com/2009/06/128mb-vps-optimize-centos5/) MySQL)  MySQL  OOM killer \n\n###  OOM killer\n\n OOM killer  OOM  kernel panickernel panic 10\n\n[code lang=\"shell\"]\n# sysctl -w vm.panic_on_oom=1\nvm.panic_on_oom = 1\n\n# sysctl -w kernel.panic=10\nkernel.panic = 10\n\n# echo &quot;vm.panic_on_oom=1&quot; &amp;gt;&amp;gt; /etc/sysctl.conf\n# echo &quot;kernel.panic=10&quot; &amp;gt;&amp;gt; /etc/sysctl.conf\n[/code]\n\n oom_kill.c  oom_badness()  points  points  adj root  3% adj -= 30;  oom_adj  OOM killer  MySQL  MySQL  oom_score_adj  -15 points \n\n[code lang=\"shell\"]\n# ps aux | grep mysqld\nmysql    2196  1.6  2.1 623800 44876 ?        Ssl  09:42   0:00 /usr/sbin/mysqld\n\n# cat /proc/2196/oom_score_adj\n0\n# echo -15 &amp;gt; /proc/2196/oom_score_adj\n[/code]\n\n OOM killer\n\n[code lang=\"shell\"]\n# sysctl -w vm.overcommit_memory=2\n\n# echo &quot;vm.overcommit_memory=2&quot; &amp;gt;&amp;gt; /etc/sysctl.conf\n[/code]\n\n###  OOM Killer \n\n oom_adj  oom_score 981 omm_score omm_score_adj 153\n\n[code lang=\"shell\"]\n# cat /proc/981/oom_score\n18\n\n# echo -15 &amp;gt; /proc/981/oom_score_adj\n# cat /proc/981/oom_score\n3\n[/code]\n\n bash  oom_score  OOM Killer \n\n[code lang=\"shell\"]\n# vi oomscore.sh\n#!/bin/bash\nfor proc in $(find /proc -maxdepth 1 -regex '/proc/[0-9]+'); do\n    printf &quot;%2d %5d %s\\n&quot; \\\n        &quot;$(cat $proc/oom_score)&quot; \\\n        &quot;$(basename $proc)&quot; \\\n        &quot;$(cat $proc/cmdline | tr '&#92;&#48;' ' ' | head -c 50)&quot;\ndone 2&amp;gt;/dev/null | sort -nr | head -n 10\n\n# chmod +x oomscore.sh\n# ./oomscore.sh\n18   981 /usr/sbin/mysqld\n 4 31359 -bash\n 4 31056 -bash\n 1 31358 sshd: root@pts/6\n 1 31244 sshd: vpsee [priv]\n 1 31159 -bash\n 1 31158 sudo -i\n 1 31055 sshd: root@pts/3\n 1 30912 sshd: vpsee [priv]\n 1 29547 /usr/sbin/sshd -D\n[/code]\n\n> http://www.vpsee.com/2013/10/how-to-configure-the-linux-oom-killer/","source":"_posts/oom-killer-1-1.md","raw":"title: OOM Killer \ntags:\n  - java\n  - JVM\n  - OOM Killer\nid: 1125\ncategories:\n  - \ndate: 2015-03-16 22:01:01\n---\n\n JVM  VM  VM  JVM  Bug  JVM <!--more-->\n\n## JVM \n\nJVM  dump  core \n\n[code lang=\"shell\"]\nstrace -e trace=signal -o /home/admin/strace.log -p [PID];\n[/code]\n\n JVM \n\n[code lang=\"shell\"]+++ killed by SIGKILL +++[/code]\n\n[signal - overview of signals](http://man7.org/linux/man-pages/man7/signal.7.html) SIGKILL  kill -9 OS  kill \n\n JVM \n\n[code lang=\"shell\"]\ndmesg | egrep -i -B100 'killed process'\n[5673702.665338] [20189]   522 20189     1017       22   2       0             0 sleep\n[5673702.665338] [20308]     0 20308    47967    20414   3       0             0 puppet\n[5673702.665338] [20536]     0 20536    47969    20419   1       0             0 puppet\n[5673702.665338] Out of memory: Kill process 29953 (java) score 431 or sacrifice child\n[5673702.665338] Killed process 29953, UID 500, (java) total-vm:9805316kB, anon-rss:2344496kB, file-rss:128kB\n[/code]\n\n Out of memory  JVM  kill  OOM Killer  OOM Killer \n\n>  OOM  dump \n> \n> pmap -x [PID]: ;\n> \n> jmap -heap [PID]:  JVM \n\n##  Linux  OOM Killer\n\n VPS  MySQL  VPS  Out of memory  Linux  Out of Memory (OOM) killerOOM killer /var/log/messages Out of memory: Kill process \n\n[code lang=\"shell\"]\n...\nOut of memory: Kill process 9682 (mysqld) score 9 or sacrifice child\nKilled process 9682, UID 27, (mysqld) total-vm:47388kB, anon-rss:3744kB, file-rss:80kB\nhttpd invoked oom-killer: gfp_mask=0x201da, order=0, oom_adj=0, oom_score_adj=0\nhttpd cpuset=/ mems_allowed=0\nPid: 8911, comm: httpd Not tainted 2.6.32-279.1.1.el6.i686 #1\n...\n21556 total pagecache pages\n21049 pages in swap cache\nSwap cache stats: add 12819103, delete 12798054, find 3188096/4634617\nFree swap  = 0kB\nTotal swap = 524280kB\n131071 pages RAM\n0 pages HighMem\n3673 pages reserved\n67960 pages shared\n124940 pages non-shared\n[/code]\n\nLinux over-commit memory   swapOOM killer\n\n [linux/mm/oom_kill.c](https://github.com/torvalds/linux/blob/master/mm/oom_kill.c)out_of_memory()  select_bad_process()  bad  bad  oom_badness()  bad \n\n[code lang=\"c\"]\n/**\n * oom_badness - heuristic function to determine which candidate task to kill\n * @p: task struct of which task we should calculate\n * @totalpages: total present RAM allowed for page allocation\n *\n * The heuristic for determining which task to kill is made to be as simple and\n * predictable as possible.  The goal is to return the highest value for the\n * task consuming the most memory to avoid subsequent oom failures.\n */\nunsigned long oom_badness(struct task_struct *p, struct mem_cgroup *memcg,\n\t\t\t  const nodemask_t *nodemask, unsigned long totalpages)\n{\n\tlong points;\n\tlong adj;\n\n\tif (oom_unkillable_task(p, memcg, nodemask))\n\t\treturn 0;\n\n\tp = find_lock_task_mm(p);\n\tif (!p)\n\t\treturn 0;\n\n\tadj = (long)p-&amp;gt;signal-&amp;gt;oom_score_adj;\n\tif (adj == OOM_SCORE_ADJ_MIN) {\n\t\ttask_unlock(p);\n\t\treturn 0;\n\t}\n\n\t/*\n\t * The baseline for the badness score is the proportion of RAM that each\n\t * task's rss, pagetable and swap space use.\n\t */\n\tpoints = get_mm_rss(p-&amp;gt;mm) + p-&amp;gt;mm-&amp;gt;nr_ptes +\n\t\t get_mm_counter(p-&amp;gt;mm, MM_SWAPENTS);\n\ttask_unlock(p);\n\n\t/*\n\t * Root processes get 3% bonus, just like the __vm_enough_memory()\n\t * implementation used by LSMs.\n\t */\n\tif (has_capability_noaudit(p, CAP_SYS_ADMIN))\n\t\tadj -= 30;\n\n\t/* Normalize to oom_score_adj units */\n\tadj *= totalpages / 1000;\n\tpoints += adj;\n\n\t/*\n\t * Never return 0 for an eligible task regardless of the root bonus and\n\t * oom_score_adj (oom_score_adj can't be OOM_SCORE_ADJ_MIN here).\n\t */\n\treturn points &amp;gt; 0 ? points : 1;\n}\n[/code]\n\n MySQL  Out of Memeory (OOM)  kill [ MySQL ](http://www.vpsee.com/2009/06/64mb-vps-optimize-mysql/) MySQL [ Debian 5](http://www.vpsee.com/2009/06/64mb-vps-optimize-debian5/)[ CentOS 5.x](http://www.vpsee.com/2009/06/128mb-vps-optimize-centos5/) MySQL)  MySQL  OOM killer \n\n###  OOM killer\n\n OOM killer  OOM  kernel panickernel panic 10\n\n[code lang=\"shell\"]\n# sysctl -w vm.panic_on_oom=1\nvm.panic_on_oom = 1\n\n# sysctl -w kernel.panic=10\nkernel.panic = 10\n\n# echo &quot;vm.panic_on_oom=1&quot; &amp;gt;&amp;gt; /etc/sysctl.conf\n# echo &quot;kernel.panic=10&quot; &amp;gt;&amp;gt; /etc/sysctl.conf\n[/code]\n\n oom_kill.c  oom_badness()  points  points  adj root  3% adj -= 30;  oom_adj  OOM killer  MySQL  MySQL  oom_score_adj  -15 points \n\n[code lang=\"shell\"]\n# ps aux | grep mysqld\nmysql    2196  1.6  2.1 623800 44876 ?        Ssl  09:42   0:00 /usr/sbin/mysqld\n\n# cat /proc/2196/oom_score_adj\n0\n# echo -15 &amp;gt; /proc/2196/oom_score_adj\n[/code]\n\n OOM killer\n\n[code lang=\"shell\"]\n# sysctl -w vm.overcommit_memory=2\n\n# echo &quot;vm.overcommit_memory=2&quot; &amp;gt;&amp;gt; /etc/sysctl.conf\n[/code]\n\n###  OOM Killer \n\n oom_adj  oom_score 981 omm_score omm_score_adj 153\n\n[code lang=\"shell\"]\n# cat /proc/981/oom_score\n18\n\n# echo -15 &amp;gt; /proc/981/oom_score_adj\n# cat /proc/981/oom_score\n3\n[/code]\n\n bash  oom_score  OOM Killer \n\n[code lang=\"shell\"]\n# vi oomscore.sh\n#!/bin/bash\nfor proc in $(find /proc -maxdepth 1 -regex '/proc/[0-9]+'); do\n    printf &quot;%2d %5d %s\\n&quot; \\\n        &quot;$(cat $proc/oom_score)&quot; \\\n        &quot;$(basename $proc)&quot; \\\n        &quot;$(cat $proc/cmdline | tr '&#92;&#48;' ' ' | head -c 50)&quot;\ndone 2&amp;gt;/dev/null | sort -nr | head -n 10\n\n# chmod +x oomscore.sh\n# ./oomscore.sh\n18   981 /usr/sbin/mysqld\n 4 31359 -bash\n 4 31056 -bash\n 1 31358 sshd: root@pts/6\n 1 31244 sshd: vpsee [priv]\n 1 31159 -bash\n 1 31158 sudo -i\n 1 31055 sshd: root@pts/3\n 1 30912 sshd: vpsee [priv]\n 1 29547 /usr/sbin/sshd -D\n[/code]\n\n> http://www.vpsee.com/2013/10/how-to-configure-the-linux-oom-killer/","slug":"oom-killer-1-1","published":1,"updated":"2015-12-29T13:31:03.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciirfw6zp002vsv8frd716snb"},{"title":"java","id":"861","date":"2013-10-22T15:21:52.000Z","_content":"\n**1**\n\n\tloadjavacpu1000%cpu\n\n\t<!--more-->\n\n\t**2**\n\n\t**2.1 **\n\n\ttoppid\n\n\t[![Image](http://hongweiyi.com/wp-content/uploads/2013/10/Image_thumb.png \"Image\")](http://hongweiyi.com/wp-content/uploads/2013/10/Image.png)\n\n\tjps -vm | grep 15195 javacd/proc/15195/cwd\n\n\t**2.2 **\n\n\t\n\n\t**2.3 **\n\n\tman toptop-Htop\n\n\t[![Image(1)](http://hongweiyi.com/wp-content/uploads/2013/10/Image1_thumb.png \"Image(1)\")](http://hongweiyi.com/wp-content/uploads/2013/10/Image1.png)\n\n\tcpuid\n\n\t**2.4 Thread dump**\n\n\tidjstack\n\n\tjstack 15195 &gt; jstack.15195.dump\n\n\t[![Image(2)](http://hongweiyi.com/wp-content/uploads/2013/10/Image2_thumb.png \"Image(2)\")](http://hongweiyi.com/wp-content/uploads/2013/10/Image2.png)\n\n\tpid16RUNNABLE\n\n\tpidParallel GC Threads\n\n\t**2.5 gc**\n\n\tjstat -gc 15195 gcFullGC\n\n\t[![Image(3)](http://hongweiyi.com/wp-content/uploads/2013/10/Image3_thumb.png \"Image(3)\")](http://hongweiyi.com/wp-content/uploads/2013/10/Image3.png)\n\n\t[![Image(4)](http://hongweiyi.com/wp-content/uploads/2013/10/Image4_thumb.png \"Image(4)\")](http://hongweiyi.com/wp-content/uploads/2013/10/Image4.png)\n\n\tFGC28FGC\n\n> jstat -gcutil $PID $INTERVAL $TIMES\n\n\t**3**\n\n\tfull gcPU(PermGen Usage)95.7%PermCMS GCPermGC\n\n\tCMS GCSTW Full GCCPU\n\n\t1Perm-XX:PermSize -XX:MaxPermSize2Perm-XX:+CMSClassUnloadingEnabled\n\n\tPermGC[http://rednaxelafx.iteye.com/blog/1108439](http://rednaxelafx.iteye.com/blog/1108439)\n\n> CMS(jiu)(shi)(keng)\r> \n> \n> \t\t","source":"_posts/once-java-profiling.md","raw":"title: java\ntags:\n  - java\n  - JVM\nid: 861\ncategories:\n  - \ndate: 2013-10-22 23:21:52\n---\n\n**1**\n\n\tloadjavacpu1000%cpu\n\n\t<!--more-->\n\n\t**2**\n\n\t**2.1 **\n\n\ttoppid\n\n\t[![Image](http://hongweiyi.com/wp-content/uploads/2013/10/Image_thumb.png \"Image\")](http://hongweiyi.com/wp-content/uploads/2013/10/Image.png)\n\n\tjps -vm | grep 15195 javacd/proc/15195/cwd\n\n\t**2.2 **\n\n\t\n\n\t**2.3 **\n\n\tman toptop-Htop\n\n\t[![Image(1)](http://hongweiyi.com/wp-content/uploads/2013/10/Image1_thumb.png \"Image(1)\")](http://hongweiyi.com/wp-content/uploads/2013/10/Image1.png)\n\n\tcpuid\n\n\t**2.4 Thread dump**\n\n\tidjstack\n\n\tjstack 15195 &gt; jstack.15195.dump\n\n\t[![Image(2)](http://hongweiyi.com/wp-content/uploads/2013/10/Image2_thumb.png \"Image(2)\")](http://hongweiyi.com/wp-content/uploads/2013/10/Image2.png)\n\n\tpid16RUNNABLE\n\n\tpidParallel GC Threads\n\n\t**2.5 gc**\n\n\tjstat -gc 15195 gcFullGC\n\n\t[![Image(3)](http://hongweiyi.com/wp-content/uploads/2013/10/Image3_thumb.png \"Image(3)\")](http://hongweiyi.com/wp-content/uploads/2013/10/Image3.png)\n\n\t[![Image(4)](http://hongweiyi.com/wp-content/uploads/2013/10/Image4_thumb.png \"Image(4)\")](http://hongweiyi.com/wp-content/uploads/2013/10/Image4.png)\n\n\tFGC28FGC\n\n> jstat -gcutil $PID $INTERVAL $TIMES\n\n\t**3**\n\n\tfull gcPU(PermGen Usage)95.7%PermCMS GCPermGC\n\n\tCMS GCSTW Full GCCPU\n\n\t1Perm-XX:PermSize -XX:MaxPermSize2Perm-XX:+CMSClassUnloadingEnabled\n\n\tPermGC[http://rednaxelafx.iteye.com/blog/1108439](http://rednaxelafx.iteye.com/blog/1108439)\n\n> CMS(jiu)(shi)(keng)\r> \n> \n> \t\t","slug":"once-java-profiling","published":1,"updated":"2015-12-29T13:31:03.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciirfw6zr0031sv8f6fcb8att"},{"title":"","id":"504","date":"2012-04-09T07:41:27.000Z","_content":"\n**1****Natural Language Processing**\n\n\n  <!--more-->\n\n[Turing Test](http://en.wikipedia.org/wiki/Turing_test)Matrix67 \n\nNLPNLP\n  >   \n\n\n\n**2******\n\n\n\n**2.1 NLP******\n\nNLP\n\n****\n\nNoam ChomskyNLP\n\nG=NPSNnon-terminal symbolterminal-symbolNNPP = {a -&gt; b}abaSN\n\n\n  > G=NPS N={SBNA }\n> \n>  ={wikieisahandsomeboy}  \n\nP\n  > S -&gt; NBN N -&gt; ANB -&gt; BB\n> \n> B -&gt; is | aN -&gt;wikie | boyA -&gt; handsome  \n\n\n  > S -&gt; NBN \n> \n> Wikie is boyBoy is wikiewikie a boy boy a wikie  \n\n\n  > S -&gt; NBN -&gt; NBBN -&gt; NBBAN\n> \n> Wikie is a handsome boy.  \n\n\n\n****\n\nTA\n\nspspss\n\nYesYesYesOhOhYeahOh, yeah yeahOh, yeah, yeah, youre right\n\ns=w1w2w3w4wl\n  > p(s) = p(w1)p(w2|w1)p(w3|w1w2)p(wl|w1w(l-1)) // |   \n\n0p(s)00\n\nTANLP\n\n\n\n**2.2 NLP******\n\n\n\n**2.3 NLP******\n\n\n\n****\n\n[](http://www.hongweiyi.com/2012/04/nlp-repost-segmentation/)\n\n****\n\n[](http://www.hongweiyi.com/2012/04/nlp-repost-semantic/)\n\n****\n\nHSK\n\n\n\nA B C D\n\n\n\n**2.4 NLP******\n\n****\n\nGoogle80Google -&gt; Today the weather good ah\n\nNLP\n\nNN\n\n\n\n5W\n\n****\n\n\n\n****\n\nSiri52nlpsiri[](http://www.52nlp.cn/sir)10086siri[A.L.I.C.E](http://www.alicebot.org/)AliceBot\n\nNLPAI[CleverBot](http://cleverbot.com/)80010086\n\n**3******\n\nNLPNLP\n\nNLPNLPHello Worlde\n\n&#160;\n  > ****\n> \n> 1\\. [](http://en.wikipedia.org/wiki/Wiki)\n> \n> 2\\. [52NLP](http://www.52nlp.cn/)\n> \n> 3\\.  \n> \n> 4\\.  \n> \n> 5\\.  ","source":"_posts/nlp-say-hi.md","raw":"title: \ntags:\n  - \nid: 504\ncategories:\n  - \ndate: 2012-04-09 15:41:27\n---\n\n**1****Natural Language Processing**\n\n\n  <!--more-->\n\n[Turing Test](http://en.wikipedia.org/wiki/Turing_test)Matrix67 \n\nNLPNLP\n  >   \n\n\n\n**2******\n\n\n\n**2.1 NLP******\n\nNLP\n\n****\n\nNoam ChomskyNLP\n\nG=NPSNnon-terminal symbolterminal-symbolNNPP = {a -&gt; b}abaSN\n\n\n  > G=NPS N={SBNA }\n> \n>  ={wikieisahandsomeboy}  \n\nP\n  > S -&gt; NBN N -&gt; ANB -&gt; BB\n> \n> B -&gt; is | aN -&gt;wikie | boyA -&gt; handsome  \n\n\n  > S -&gt; NBN \n> \n> Wikie is boyBoy is wikiewikie a boy boy a wikie  \n\n\n  > S -&gt; NBN -&gt; NBBN -&gt; NBBAN\n> \n> Wikie is a handsome boy.  \n\n\n\n****\n\nTA\n\nspspss\n\nYesYesYesOhOhYeahOh, yeah yeahOh, yeah, yeah, youre right\n\ns=w1w2w3w4wl\n  > p(s) = p(w1)p(w2|w1)p(w3|w1w2)p(wl|w1w(l-1)) // |   \n\n0p(s)00\n\nTANLP\n\n\n\n**2.2 NLP******\n\n\n\n**2.3 NLP******\n\n\n\n****\n\n[](http://www.hongweiyi.com/2012/04/nlp-repost-segmentation/)\n\n****\n\n[](http://www.hongweiyi.com/2012/04/nlp-repost-semantic/)\n\n****\n\nHSK\n\n\n\nA B C D\n\n\n\n**2.4 NLP******\n\n****\n\nGoogle80Google -&gt; Today the weather good ah\n\nNLP\n\nNN\n\n\n\n5W\n\n****\n\n\n\n****\n\nSiri52nlpsiri[](http://www.52nlp.cn/sir)10086siri[A.L.I.C.E](http://www.alicebot.org/)AliceBot\n\nNLPAI[CleverBot](http://cleverbot.com/)80010086\n\n**3******\n\nNLPNLP\n\nNLPNLPHello Worlde\n\n&#160;\n  > ****\n> \n> 1\\. [](http://en.wikipedia.org/wiki/Wiki)\n> \n> 2\\. [52NLP](http://www.52nlp.cn/)\n> \n> 3\\.  \n> \n> 4\\.  \n> \n> 5\\.  ","slug":"nlp-say-hi","published":1,"updated":"2015-12-29T13:31:03.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciirfw6zt0035sv8fh84srmpj"},{"title":" - ","id":"499","date":"2012-04-01T09:54:48.000Z","_content":"\n[](http://www.matrix67.com/blog/archives/4212)\n<!--more-->\n\n\n\n\n\n 1957  Noam Chomsky  20  Quora  [Who are the best minds of the world today](http://www.quora.com/Best-Of/Who-are-the-best-minds-of-the-world-today-and-why)  Noam Chomsky \n\n\n\n\n  >     \n\n\n  >   \n> \n>   \n> \n>   \n> \n>   \n> \n>    \n\n\n  >   \n> \n>   \n> \n>   \n> \n>   \n\n\n  >   \n> \n>   \n\n\n\n![](http://www.matrix67.com/blogimage_2012/201201051.png)\n\n [Earley parser](http://en.wikipedia.org/wiki/Earley_parser) \n\n Chomsky  Colorless green ideas sleep furiously  [IdeaGenerator](http://www.matrix67.com/ideagen/) \n  >       \n> \n>         \n\n\n\n\n\n![](http://www.matrix67.com/blogimage_2012/201201052.png)\n\n\n\n\n\n\n\n =  = True  = False \n\n =  = False  = True \n\n\n\n\n  >  =  = True  = True \n> \n>  =  = True  = True \n> \n>  =  = True  = False \n> \n>  =  = False  = False \n> \n>   \n\n\n  >  =  = True  = True  = True \n> \n>  =  = True  = True  = True \n> \n>   \n\n\n\n\n  >     \n\n\n  >     \n\n True  True \n  >     \n\n True  True \n\n\n  >     \n\n\n\n[](http://www.matrix67.com/blog/archives/508) 6  7  8  IF  THEN  [](http://www.matrix67.com/blog/archives/4858) 579 \n\n\n\n\n\n\n\n 17  17  17 \n\n\n  >  &lt;&gt;  \n\n\n  >  &lt;&gt;\n> \n>  &lt;&gt;\n> \n>  &lt;&gt;  \n\n\n  >  &lt;&gt;  \n\n\n  >  &lt;&gt;  \n\n\n  >  &lt;[|][|]&gt;  \n\n\n  >  &lt;[][|]&gt;  \n\n 1990  5  414  309  9 \n\n[](http://www.keenage.com/html/c_index.html) WordNet  Princeton  1985  Mathematica WordData  WordNet \n\n\n  >  &lt;[|][||]&gt;  \n\n\n\n\n\n\n\n\n\n\n\n\n\n&#160;\n  > ****\n> \n> [Matrix67](http://www.matrix67.com/blog/archives/4870)","source":"_posts/nlp-repost-semantic.md","raw":"title:  - \ntags:\n  - \n  - \n  - \nid: 499\ncategories:\n  - \ndate: 2012-04-01 17:54:48\n---\n\n[](http://www.matrix67.com/blog/archives/4212)\n<!--more-->\n\n\n\n\n\n 1957  Noam Chomsky  20  Quora  [Who are the best minds of the world today](http://www.quora.com/Best-Of/Who-are-the-best-minds-of-the-world-today-and-why)  Noam Chomsky \n\n\n\n\n  >     \n\n\n  >   \n> \n>   \n> \n>   \n> \n>   \n> \n>    \n\n\n  >   \n> \n>   \n> \n>   \n> \n>   \n\n\n  >   \n> \n>   \n\n\n\n![](http://www.matrix67.com/blogimage_2012/201201051.png)\n\n [Earley parser](http://en.wikipedia.org/wiki/Earley_parser) \n\n Chomsky  Colorless green ideas sleep furiously  [IdeaGenerator](http://www.matrix67.com/ideagen/) \n  >       \n> \n>         \n\n\n\n\n\n![](http://www.matrix67.com/blogimage_2012/201201052.png)\n\n\n\n\n\n\n\n =  = True  = False \n\n =  = False  = True \n\n\n\n\n  >  =  = True  = True \n> \n>  =  = True  = True \n> \n>  =  = True  = False \n> \n>  =  = False  = False \n> \n>   \n\n\n  >  =  = True  = True  = True \n> \n>  =  = True  = True  = True \n> \n>   \n\n\n\n\n  >     \n\n\n  >     \n\n True  True \n  >     \n\n True  True \n\n\n  >     \n\n\n\n[](http://www.matrix67.com/blog/archives/508) 6  7  8  IF  THEN  [](http://www.matrix67.com/blog/archives/4858) 579 \n\n\n\n\n\n\n\n 17  17  17 \n\n\n  >  &lt;&gt;  \n\n\n  >  &lt;&gt;\n> \n>  &lt;&gt;\n> \n>  &lt;&gt;  \n\n\n  >  &lt;&gt;  \n\n\n  >  &lt;&gt;  \n\n\n  >  &lt;[|][|]&gt;  \n\n\n  >  &lt;[][|]&gt;  \n\n 1990  5  414  309  9 \n\n[](http://www.keenage.com/html/c_index.html) WordNet  Princeton  1985  Mathematica WordData  WordNet \n\n\n  >  &lt;[|][||]&gt;  \n\n\n\n\n\n\n\n\n\n\n\n\n\n&#160;\n  > ****\n> \n> [Matrix67](http://www.matrix67.com/blog/archives/4870)","slug":"nlp-repost-semantic","published":1,"updated":"2015-12-29T13:31:03.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciirfw6zv0039sv8f71gsm19m"},{"title":"  ","id":"497","date":"2012-04-01T09:48:00.000Z","_content":"\nM[matrix67](http://www.matrix67.com/blog/archives/4212)\n<!--more-->\n\n [Google ](http://www.google.com.hk/ggblog/googlechinablog/2006/04/blog-post_7327.html) \n\n\n\n\n\n\n\n\n\n\n\n 6  5 \n\n\n\n\n\n\n  >  1+1+1+1+1 = 5      \n> &#160;&#160;&#160;&#160;  1+1+1+2+1 = 6       \n> &#160;&#160;&#160;&#160;  1+1+1+1+2 = 6   \n\n\n\n\n\n\n\n\n\n 0.0181  0.0005  0.0010  0.0002  0.0001  1.810<sup>-9</sup>  1.010<sup>-11</sup> \n\n\n  >   \n\n\n  >   \n\n\n\n\n\n Google  w<sub>1</sub>  w<sub>2</sub>  w<sub>1</sub>  w<sub>2</sub>  P(w<sub>1</sub>, w<sub>2</sub>)  P(, w<sub>1</sub>)  P(w<sub>1</sub>, w<sub>2</sub>)    P(w<sub>n-1</sub>, w<sub>n</sub>)  w<sub>1</sub>, w<sub>2</sub>, , w<sub>n</sub> \n\n\n\n\n\n 1000  32%  400  99%  10.35%  400  90% \n\n\n\n\n\n\n  >      \n> &#160;&#160;&#160;&#160;   \n\n\n\n\n\n 10 \n\n\n\n\n\n\n\n","source":"_posts/nlp-repost-segmentation.md","raw":"title:   \ntags:\n  - \n  - \n  - \nid: 497\ncategories:\n  - \ndate: 2012-04-01 17:48:00\n---\n\nM[matrix67](http://www.matrix67.com/blog/archives/4212)\n<!--more-->\n\n [Google ](http://www.google.com.hk/ggblog/googlechinablog/2006/04/blog-post_7327.html) \n\n\n\n\n\n\n\n\n\n\n\n 6  5 \n\n\n\n\n\n\n  >  1+1+1+1+1 = 5      \n> &#160;&#160;&#160;&#160;  1+1+1+2+1 = 6       \n> &#160;&#160;&#160;&#160;  1+1+1+1+2 = 6   \n\n\n\n\n\n\n\n\n\n 0.0181  0.0005  0.0010  0.0002  0.0001  1.810<sup>-9</sup>  1.010<sup>-11</sup> \n\n\n  >   \n\n\n  >   \n\n\n\n\n\n Google  w<sub>1</sub>  w<sub>2</sub>  w<sub>1</sub>  w<sub>2</sub>  P(w<sub>1</sub>, w<sub>2</sub>)  P(, w<sub>1</sub>)  P(w<sub>1</sub>, w<sub>2</sub>)    P(w<sub>n-1</sub>, w<sub>n</sub>)  w<sub>1</sub>, w<sub>2</sub>, , w<sub>n</sub> \n\n\n\n\n\n 1000  32%  400  99%  10.35%  400  90% \n\n\n\n\n\n\n  >      \n> &#160;&#160;&#160;&#160;   \n\n\n\n\n\n 10 \n\n\n\n\n\n\n\n","slug":"nlp-repost-segmentation","published":1,"updated":"2015-12-29T13:31:03.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciirfw6zx003fsv8fhc18x2my"},{"title":"netty-mina","date":"2014-05-17T14:03:00.000Z","_content":"\nnetty-minanionetty-mina\n\n<!--more-->\n\n### 1. write\njava nionon-blockingwrite(bytes[N])Nwritewrite`tcp_write_buffer`minanetty\n\n#### 1.1 \n\n* `mina-1.1.7`: SocketIoProcessor.doFlush\n* `mina-2.0.4`: AbstractPollingIoProcessor.flushNow\n* `mina-3.0.0.M3-SNAPSHOT`: AbstractNioSession.processWrite\n* `netty-3.5.8.Final`: AbstractNioWorker.write0\n* `netty-4.0.6.Final`: AbstractNioByteChannel.doWrite\n\n#### 1.2 \n\nmina12netty3sessionwriteBufferQueuewritewriteBuffersocketmina1peekbufferpollmina3mina2netty3pollcurrentWriteRequestcurrentWriteRequestpollpeek\n\nminanettywritespin writewritemina1spin write count256256mina2netty316netty\n\nnetty4netty3netty4ChannelOutboundBufferflushed:Object[]ChannelOutboundBuffer\n\n### 2. read\nwritereadminanettynio\n\n#### 2.1 \n\n* `nfs-rpc`: ProtocolUtils.decode\n* `mina-1.1.7`: SocketIoProcessor.read, CumulativeProtocolDecoder.decode\n* `mina-2.0.4`: AbstractPollingIoProcessor.read, CumulativeProtocolDecoder.decode\n* `mina-3.0.0.M3-SNAPSHOT`: NioSelectorLoop.readBuffer\n* `netty-3.5.8.Final`: NioWorker.read, FrameDecoder\n* `netty-4.0.6.Fianl`: AbstractNioByteChannel$NioByteUnsafe.read\n\n#### 2.2 \n\nnfs-rpcbufreaderIndex`nfs-rpcProtocolUtils.decode`\n\nnfs-rpcdecodebufreaderIndex0readerIndex0decodebufbuf\n\n#### 2.3 \n\nminanettybuffer\n\n**mina:**\n\nmina12bufferreadallocatebufbufbufallocatebufbufallocatebuf\\*2/2mina1\n\nmina12CumulativeProtocolDecoderdecodersession(BUFFER, cumulativeBuffer)decode1messagecumulativeBuffer2decode3cumulativeBuffer.hasRemaining()truecumulativeBufferfalse(BUFFER, cumulativeBuffer)decodenfs-rpcMinaProtocolDecoder\n\nmina3bufferbufferbuffer64kbbufferbuffercumulativeDecoder\n\n**netty:**\n\nnetty3bufferSocketReceiveBufferAllocatorallocaterecvBufferPoolpoolbuffer232Integer.MAX_VALUE`AdaptiveReceiveBufferSizePredictor`\n\nminaCumulativeProtocolDecodernettyFrameDecoderReplayingDecoderBTWReplayingDecoder\n\n> [High speed custom codecs with ReplayingDecoder](http://biasedbit.com/netty-tutorial-replaying-decoder)\n> [An enhanced version of ReplayingDecoder for Netty](http://biasedbit.com/an-enhanced-version-of-replayingdecoder-for-netty/)\n\nnetty4buffernetty3nettyByteBufAllocatorbufferPooledByteBufAllocator\n\nnetty4MessageMessageMessageByteToMessageDecodernetty3ReplayingDecoderByteToMessageDecoder\n\n### 3. ByteBuffer\n\n#### 3.1 buffer\n\n**mina:**\n\nmina12buffermina3nioByteBufferbuffer-IoBuffermina12buffer\n\n* It doesnt provide useful getters and putters such as fill,get/putString, and get/putAsciiInt()enough.\n* It is difficult to write variable-length data due to its fixed capacity\n\nbuffernioByteBuffer/IoBuffer.setAutoExpand, IoBuffer.setAutoShrink/nioByteBufferByteBuffer.allocate(capacity)\n\n**netty:**\n\n[Netty 4.x  ByteBuf](http://hongweiyi.com/2014/01/netty-4-x-bytebuf/)\n\n* buffer\n* bufferzero-copy\n* bufferStringBuffer(double)\n* flip()\n* oftenByteBuffer\n\nnetty3API[Package org.jboss.netty.buffer](http://docs.jboss.org/netty/3.2/api/org/jboss/netty/buffer/package-summary.html)netty4buffer\n\n#### 3.2 \n\n**mina:**\n\nminaByteBuffer\n\n**netty:**\n\nnetty3netty4ChannlBuffer -&gt; ByteBuf[Netty 4.x  ByteBuf](http://hongweiyi.com/2014/01/netty-4-x-bytebuf/)netty4PooledByteBufAllocatorGC\n\n> netty5.xbufferPooledByteBufAllocator\n","source":"_posts/netty-mina-in-depth-2.md","raw":"title: netty-mina\ndate: 2014-05-17 22:03:00\ncategories: \ntags: [Java, Mina, Netty]\n\n---\n\nnetty-minanionetty-mina\n\n<!--more-->\n\n### 1. write\njava nionon-blockingwrite(bytes[N])Nwritewrite`tcp_write_buffer`minanetty\n\n#### 1.1 \n\n* `mina-1.1.7`: SocketIoProcessor.doFlush\n* `mina-2.0.4`: AbstractPollingIoProcessor.flushNow\n* `mina-3.0.0.M3-SNAPSHOT`: AbstractNioSession.processWrite\n* `netty-3.5.8.Final`: AbstractNioWorker.write0\n* `netty-4.0.6.Final`: AbstractNioByteChannel.doWrite\n\n#### 1.2 \n\nmina12netty3sessionwriteBufferQueuewritewriteBuffersocketmina1peekbufferpollmina3mina2netty3pollcurrentWriteRequestcurrentWriteRequestpollpeek\n\nminanettywritespin writewritemina1spin write count256256mina2netty316netty\n\nnetty4netty3netty4ChannelOutboundBufferflushed:Object[]ChannelOutboundBuffer\n\n### 2. read\nwritereadminanettynio\n\n#### 2.1 \n\n* `nfs-rpc`: ProtocolUtils.decode\n* `mina-1.1.7`: SocketIoProcessor.read, CumulativeProtocolDecoder.decode\n* `mina-2.0.4`: AbstractPollingIoProcessor.read, CumulativeProtocolDecoder.decode\n* `mina-3.0.0.M3-SNAPSHOT`: NioSelectorLoop.readBuffer\n* `netty-3.5.8.Final`: NioWorker.read, FrameDecoder\n* `netty-4.0.6.Fianl`: AbstractNioByteChannel$NioByteUnsafe.read\n\n#### 2.2 \n\nnfs-rpcbufreaderIndex`nfs-rpcProtocolUtils.decode`\n\nnfs-rpcdecodebufreaderIndex0readerIndex0decodebufbuf\n\n#### 2.3 \n\nminanettybuffer\n\n**mina:**\n\nmina12bufferreadallocatebufbufbufallocatebufbufallocatebuf\\*2/2mina1\n\nmina12CumulativeProtocolDecoderdecodersession(BUFFER, cumulativeBuffer)decode1messagecumulativeBuffer2decode3cumulativeBuffer.hasRemaining()truecumulativeBufferfalse(BUFFER, cumulativeBuffer)decodenfs-rpcMinaProtocolDecoder\n\nmina3bufferbufferbuffer64kbbufferbuffercumulativeDecoder\n\n**netty:**\n\nnetty3bufferSocketReceiveBufferAllocatorallocaterecvBufferPoolpoolbuffer232Integer.MAX_VALUE`AdaptiveReceiveBufferSizePredictor`\n\nminaCumulativeProtocolDecodernettyFrameDecoderReplayingDecoderBTWReplayingDecoder\n\n> [High speed custom codecs with ReplayingDecoder](http://biasedbit.com/netty-tutorial-replaying-decoder)\n> [An enhanced version of ReplayingDecoder for Netty](http://biasedbit.com/an-enhanced-version-of-replayingdecoder-for-netty/)\n\nnetty4buffernetty3nettyByteBufAllocatorbufferPooledByteBufAllocator\n\nnetty4MessageMessageMessageByteToMessageDecodernetty3ReplayingDecoderByteToMessageDecoder\n\n### 3. ByteBuffer\n\n#### 3.1 buffer\n\n**mina:**\n\nmina12buffermina3nioByteBufferbuffer-IoBuffermina12buffer\n\n* It doesnt provide useful getters and putters such as fill,get/putString, and get/putAsciiInt()enough.\n* It is difficult to write variable-length data due to its fixed capacity\n\nbuffernioByteBuffer/IoBuffer.setAutoExpand, IoBuffer.setAutoShrink/nioByteBufferByteBuffer.allocate(capacity)\n\n**netty:**\n\n[Netty 4.x  ByteBuf](http://hongweiyi.com/2014/01/netty-4-x-bytebuf/)\n\n* buffer\n* bufferzero-copy\n* bufferStringBuffer(double)\n* flip()\n* oftenByteBuffer\n\nnetty3API[Package org.jboss.netty.buffer](http://docs.jboss.org/netty/3.2/api/org/jboss/netty/buffer/package-summary.html)netty4buffer\n\n#### 3.2 \n\n**mina:**\n\nminaByteBuffer\n\n**netty:**\n\nnetty3netty4ChannlBuffer -&gt; ByteBuf[Netty 4.x  ByteBuf](http://hongweiyi.com/2014/01/netty-4-x-bytebuf/)netty4PooledByteBufAllocatorGC\n\n> netty5.xbufferPooledByteBufAllocator\n","slug":"netty-mina-in-depth-2","published":1,"updated":"2015-12-29T13:30:15.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciirfw6zy003ksv8f1hob0lhn"},{"title":"netty-mina","date":"2014-05-17T13:42:00.000Z","_content":"\nnioTrustin Leenettyminanetty3.xnetty4.xmina1.xmina2.xmina3.xnetty5.x[netty5](http://netty.io/wiki/new-and-noteworthy-in-5.x.html)netty4.xnetty5.x\n\n<!--more-->\n\nnettytwitter[Netty 4 at Twitter: Reduced GC Overhead](https://blog.twitter.com/2013/netty-4-at-twitter-reduced-gc-overhead)Javanettyminagithub2013mina3benchmarknetty4netty\n\n### 1. minanetty\n\nminanettyTrustin LeeReactors in threadsMain Reactor + Sub Reactorsmain reactoracceptconnectsocketsessionsessionsub reactorsessionIOsub reactorreactorsub reactor\n\n[Netty 4.x  ](http://hongweiyi.com/2014/01/netty-4-x-thread-model/)netty\n\n* **`Thread per Connection`**: niojavasocket.accept/socket\n* **`Reactor in Single Thread`**: nioIOreactorsocketreactorIOCPUCPU\n\n<center><div style=\"width: 30%;\">![Reactor Single Thread](/images/reactor-single-thread.png)</div></center>\n\n* **`Reactor + Thread Pool`**: 2CPUreactorIOCPUthread pool\n\n<center><div style=\"width: 50%;\">![Reactor + Thread Pool](/images/reactor-thread-pool.png)</div></center>\n\n* **`Reactors in threads`**: 3reactormain reactoracceptconnectsub reactorIOminanettysub reactorCPUCPU5sessionsessionsessionsessionnettymina\n\n<center><div style=\"width: 60%;\">![Reactors in threads](/images/reactors-in-threads.png)</div></center>\n\n* **`Reactors in threads + Threads pool`**: reactorthread pool\n\n<center><div style=\"width: 70%;\">![Reactors in threads + Thread pool](/images/reactors-in-threads-thread-pool.png)</div></center>\n\n> Linux\n\n### 2. minanetty\n\nminanettybindconnectwriteflushselectorminanettysession -&gt;  -&gt; \n\n#### 2.1 \n\n* `mina-1.1.7`: SocketIoProcessor$Worker.run\n* `mina-2.0.4`: AbstractPollingIoProcessor$Processor.run\n* `mina-3.0.0.M3-SNAPSHOT`: AbstractNioSession.processWrite\n* `netty-3.5.8.Final`: AbstractNioSelector.run\n* `netty-4.0.6.Final`: NioEventLoop.run\n\n#### 2.2 \n\nmina12sessionminaIOsessionsessionsession\n\nmina3writeQueue\n\nnetty3IOregisterTaskQueuewriteTaskQueueeventQueueIOprocessRegisterTaskQueueprocessEventQueueprocessWriteTaskQueueprocessSelectedKeys(selector.selectedKeys)\n\nnetty4netty3taskQueuedelayedTaskQueuetaskQueuedelayedTaskQueuenetty4taskselectedKey\n\n> BTW: netty3.6.0taskQueue\n\nnetty4selectedKeysnetty3mina12sessionselectedKeys\n\n> selectedKeys\n","source":"_posts/netty-mina-in-depth-1.md","raw":"title: netty-mina\ndate: 2014-05-17 21:42:00\ncategories: \ntags: [Java, Mina, Netty, ]\n\n---\n\nnioTrustin Leenettyminanetty3.xnetty4.xmina1.xmina2.xmina3.xnetty5.x[netty5](http://netty.io/wiki/new-and-noteworthy-in-5.x.html)netty4.xnetty5.x\n\n<!--more-->\n\nnettytwitter[Netty 4 at Twitter: Reduced GC Overhead](https://blog.twitter.com/2013/netty-4-at-twitter-reduced-gc-overhead)Javanettyminagithub2013mina3benchmarknetty4netty\n\n### 1. minanetty\n\nminanettyTrustin LeeReactors in threadsMain Reactor + Sub Reactorsmain reactoracceptconnectsocketsessionsessionsub reactorsessionIOsub reactorreactorsub reactor\n\n[Netty 4.x  ](http://hongweiyi.com/2014/01/netty-4-x-thread-model/)netty\n\n* **`Thread per Connection`**: niojavasocket.accept/socket\n* **`Reactor in Single Thread`**: nioIOreactorsocketreactorIOCPUCPU\n\n<center><div style=\"width: 30%;\">![Reactor Single Thread](/images/reactor-single-thread.png)</div></center>\n\n* **`Reactor + Thread Pool`**: 2CPUreactorIOCPUthread pool\n\n<center><div style=\"width: 50%;\">![Reactor + Thread Pool](/images/reactor-thread-pool.png)</div></center>\n\n* **`Reactors in threads`**: 3reactormain reactoracceptconnectsub reactorIOminanettysub reactorCPUCPU5sessionsessionsessionsessionnettymina\n\n<center><div style=\"width: 60%;\">![Reactors in threads](/images/reactors-in-threads.png)</div></center>\n\n* **`Reactors in threads + Threads pool`**: reactorthread pool\n\n<center><div style=\"width: 70%;\">![Reactors in threads + Thread pool](/images/reactors-in-threads-thread-pool.png)</div></center>\n\n> Linux\n\n### 2. minanetty\n\nminanettybindconnectwriteflushselectorminanettysession -&gt;  -&gt; \n\n#### 2.1 \n\n* `mina-1.1.7`: SocketIoProcessor$Worker.run\n* `mina-2.0.4`: AbstractPollingIoProcessor$Processor.run\n* `mina-3.0.0.M3-SNAPSHOT`: AbstractNioSession.processWrite\n* `netty-3.5.8.Final`: AbstractNioSelector.run\n* `netty-4.0.6.Final`: NioEventLoop.run\n\n#### 2.2 \n\nmina12sessionminaIOsessionsessionsession\n\nmina3writeQueue\n\nnetty3IOregisterTaskQueuewriteTaskQueueeventQueueIOprocessRegisterTaskQueueprocessEventQueueprocessWriteTaskQueueprocessSelectedKeys(selector.selectedKeys)\n\nnetty4netty3taskQueuedelayedTaskQueuetaskQueuedelayedTaskQueuenetty4taskselectedKey\n\n> BTW: netty3.6.0taskQueue\n\nnetty4selectedKeysnetty3mina12sessionselectedKeys\n\n> selectedKeys\n","slug":"netty-mina-in-depth-1","published":1,"updated":"2015-12-29T13:30:15.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciirfw702003rsv8fq590ploi"},{"title":"Netty 4.x - ","date":"2014-01-14T15:25:00.000Z","_content":"\n### 1\n\n[ByteBuf](http://hongweiyi.com/2014/01/netty-4-x-bytebuf/)[ChannelPipeline](http://hongweiyi.com/2014/01/netty-4-x-channel-pipeline/)EventLoopEventExecutor\n\n<!--more-->\n\n\n### 2Netty\n\nNettyNettyReactorDoug LeeNetty\n\nReactorNettyMultiple ReactorsMutilple ReactorsreactormainReactorsubReactormainReactorsubReactorsubReactorIOIOworker threads\n\n<center><div style=\"width: 80%;\">![Multiple Reactors](/images/wpid-Multi-reactors3.png)</div></center>\n\nNettyMultiple ReactorsmainReactorsubReactorThread PoolNettysubReactorworker threadIOsubReactorchannelIOSingle Thread with many ChannelNetty\n\n<center><div style=\"width: 80%;\">![Netty](/images/wpid-Netty-thread-model3.png)</div></center>\n\nparentGroupchildGroupBootstrapgroupchildGroupsubReactorparentGroupbindmainReactorsubReactorworker threadlooplooploop&nbsp;\n\n>\tNioOioThread per Channel\n>\tDoug LeeReactor[Scalable IO in Java](http://gee.cs.oswego.edu/dl/cpjslides/nio.pdf)\n\n### 3EventLoopEventExecutor\n\nEventLoopEventExecutor4EventLoopEventLoopGroupEventExecutorEventExecutorGroup\n\n<center><div style=\"width: 80%;\">![EventLoopEventExecutor](/images/wpid-EventLoopAndEventExecutor3.jpg)</div></center>\n\n#### 3.1 EventLoopGroup:\n\nnewChildEventLoop`**EventLoopGroup.newChild``**EventLoop`OioEventLoopGroupnewChildThreadPerChannelEventLoop\n\n#### 3.2 EventLoop:\n\nrun()Netty\n\n#### 3.3 EventExecutorGroup:\n\nchildrennext()OioThread per Channel\n\n#### 3.4 EventExecutor:\n\nTasktaskQueueexecutortaskQueueexecutetakeTaskaddTaskdoStartThread\n\n### 4NioEventLoopGroup\n\nNioEventLoopGroupNioEventLoopGroupBootstrapNioEventLoopGroup\n\n#### 4.1 mainReactor:\n\n`1. Bootstrap.bind(port)`\n`2. Bootstrap.initAndRegister()`\n`2.1 Boostrap.init()`\n\n> ChannelChannelPipelinePipelineServerBootstrapAcceptoracceptoracceptorChannelInboundHandlerAdapter\n\n``` java\np.addLast(new ChannelInitializer<Channel>() {\n  @Override\n  public void initChannel(Channel ch) throws Exception {\n    ch.pipeline().addLast(new ServerBootstrapAcceptor(currentChildHandler, currentChildOptions,\n       currentChildAttrs));\n  }\n});\n```\n\n> channelunsafeselectorAbstractChannel$AbstractUnsafe.register\n\n``` java\npublic final void register(final ChannelPromise promise) {\n  if (eventLoop.inEventLoop()) {  // Channelloop\n    register0(promise);\n  } else {  // \n    try {\n      eventLoop.execute(new Runnable() {  // EventLoop\n        @Override\n        public void run() {\n          register0(promise);\n        }\n      });\n    } catch (Throwable t) {\n    // ...\n    }\n  }\n}\n```\n\n> eventLoop.execute(runnable);(startThread())NioEventLooprun()run()\n\n``` java\npublic void execute(Runnable task) {\n  if (task == null) {\n    throw new NullPointerException(&quot;task&quot;);\n  }\n\n  boolean inEventLoop = inEventLoop();\n  if (inEventLoop) {\n    addTask(task);\n  } else {\n    startThread();  // \n    addTask(task);  // \n\n    // ...\n\n  }\n\n  if (!addTaskWakesUp) {\n    wakeup(inEventLoop);\n  }\n}\n```\n\n   2.2 group().register(channel)\n\n>  channel  EventLoop \n\n`3. `\n\nNioEventLoop.run()\n\n`3.1 AbstractNioMessageChannel$NioMessageUnsafe.read()`\n\n`3.2 NioServerSocketChannel.doReadMessages()`\n\n> childEventLoopGroupEventLooploopSocketChannel\n\n`3.3 pipeline.fireChannelRead(readBuf.get(i));`\n\n> readBuf.get(i)3.2SocketChannel2.2BootstrapacceptorpipelineSocketChannelacceptor\n\n`3.4 ServerBootstrapAcceptor$ServerBootstrapAcceptor.channelRead();`\n\n> 2.22.3channelselectoreventLoop.executeexecutesubReactor\n\n#### 4.2 subReactor:\n\nsubReactorloopreadwriteNioTaskloop\n\n**loop:**\n\nloopsubReactorNioEventLoop.run()\n\nloopselect -&gt; processSelectedKeys(IO) -&gt; runAllTasks(IO)\n\n``` java\nprotected void run() {\n  for (;;) {\n    // ...\n    try {\n      if (hasTasks()) { // \n        selectNow();\n      } else {\n        select();\n        // ...\n      }\n\n      // ...\n\n      final long ioStartTime = System.nanoTime();  // IOIO\n      needsToSelectAgain = false;\n      // IO\n      if (selectedKeys != null) {\n        processSelectedKeysOptimized(selectedKeys.flip());\n      } else {\n        processSelectedKeysPlain(selector.selectedKeys());\n      }\n      final long ioTime = System.nanoTime() - ioStartTime;\n\n      final int ioRatio = this.ioRatio;\n      // IO\n      runAllTasks(ioTime * (100 - ioRatio) / ioRatio);\n\n      if (isShuttingDown()) {\n        closeAll();\n        if (confirmShutdown()) {\n          break;\n        }\n      }\n    } catch (Throwable t) {\n    // ...\n    }\n  }\n}\n```\n\n\nIOprocessSelectedKeysOptimizedSelectedKeysJDK\n\n> 1. selectedKeysopenSelector()NettySelectorselectedKeyspublicSelectedKeys&mdash;&mdash;SelectedSelectionKeySet\n> 2. OpenJDK 6/7SelectorImplselectedKeyspublicSeletedKeysHashSetHashSetHashMapHashHashSelectedSelectionKeySetdoubleflip()\n> 3. ByteBufflip\n\nprocessSelectedKeysOptimized\n\n``` java\nfinal Object a = k.attachment();\n\nif (a instanceof AbstractNioChannel) {\n  processSelectedKey(k, (AbstractNioChannel) a);\n} else {\n  @SuppressWarnings(&quot;unchecked&quot;)\n  NioTask<SelectableChannel> task = (NioTask<SelectableChannel>) a;\n  processSelectedKey(k, task);\n}\n```\n\nattachmentChannelNioTaskNettyNioTaskNioTaskNioEventLoop.registerNioTaskselectorChannelNioTaskprocessSelectdKey(k, (AbstractNioChannel) a)\n\nNIOprocessSelectdKeySeletedKeysreadyOpsunsafereadAbstractNioByteChannel$NioByteUnsafe.read()IO\n\n* \n* pipeline`fireChannel***`\n* \n\nIOIOrunAllTasksNettyIOIOioTime * (100 - ioRatio) / ioRatioioRatio50runAllTasksSingleThreadExecutorTaskQueuerun\n\n>\ttask.run()task.start()\n\n``` java\nprotected boolean runAllTasks(long timeoutNanos) {\n  fetchFromDelayedQueue();\n  Runnable task = pollTask();\n  if (task == null) {\n    return false;\n  }\n\n  // \n  final long deadline = ScheduledFutureTask.nanoTime() + timeoutNanos;\n  long runTasks = 0;\n  long lastExecutionTime;\n  for (;;) {\n    try {\n      task.run();\n    } catch (Throwable t) {\n      logger.warn(&quot;A task raised an exception.&quot;, t);\n    }\n\n    runTasks ++;\n\n    // Check timeout every 64 tasks because nanoTime() is relatively expensive.\n    // XXX: Hard-coded value - will make it configurable if it is really a problem.\n    if ((runTasks & 0x3F) == 0) {\n        lastExecutionTime = ScheduledFutureTask.nanoTime();\n      if (lastExecutionTime >= deadline) {\n        break;\n      }\n    }\n\n    task = pollTask();\n    if (task == null) {\n     lastExecutionTime = ScheduledFutureTask.nanoTime();\n     break;\n    }\n  }\n\n  this.lastExecutionTime = lastExecutionTime;\n  return true;\n}\n```\n\n### 5\n\nNetty\n\n\n","source":"_posts/netty-4-x-thread-model.md","raw":"title: Netty 4.x - \ndate: 2014-01-14 23:25:00\ncategories: \ntags: [Netty, ]\n---\n\n### 1\n\n[ByteBuf](http://hongweiyi.com/2014/01/netty-4-x-bytebuf/)[ChannelPipeline](http://hongweiyi.com/2014/01/netty-4-x-channel-pipeline/)EventLoopEventExecutor\n\n<!--more-->\n\n\n### 2Netty\n\nNettyNettyReactorDoug LeeNetty\n\nReactorNettyMultiple ReactorsMutilple ReactorsreactormainReactorsubReactormainReactorsubReactorsubReactorIOIOworker threads\n\n<center><div style=\"width: 80%;\">![Multiple Reactors](/images/wpid-Multi-reactors3.png)</div></center>\n\nNettyMultiple ReactorsmainReactorsubReactorThread PoolNettysubReactorworker threadIOsubReactorchannelIOSingle Thread with many ChannelNetty\n\n<center><div style=\"width: 80%;\">![Netty](/images/wpid-Netty-thread-model3.png)</div></center>\n\nparentGroupchildGroupBootstrapgroupchildGroupsubReactorparentGroupbindmainReactorsubReactorworker threadlooplooploop&nbsp;\n\n>\tNioOioThread per Channel\n>\tDoug LeeReactor[Scalable IO in Java](http://gee.cs.oswego.edu/dl/cpjslides/nio.pdf)\n\n### 3EventLoopEventExecutor\n\nEventLoopEventExecutor4EventLoopEventLoopGroupEventExecutorEventExecutorGroup\n\n<center><div style=\"width: 80%;\">![EventLoopEventExecutor](/images/wpid-EventLoopAndEventExecutor3.jpg)</div></center>\n\n#### 3.1 EventLoopGroup:\n\nnewChildEventLoop`**EventLoopGroup.newChild``**EventLoop`OioEventLoopGroupnewChildThreadPerChannelEventLoop\n\n#### 3.2 EventLoop:\n\nrun()Netty\n\n#### 3.3 EventExecutorGroup:\n\nchildrennext()OioThread per Channel\n\n#### 3.4 EventExecutor:\n\nTasktaskQueueexecutortaskQueueexecutetakeTaskaddTaskdoStartThread\n\n### 4NioEventLoopGroup\n\nNioEventLoopGroupNioEventLoopGroupBootstrapNioEventLoopGroup\n\n#### 4.1 mainReactor:\n\n`1. Bootstrap.bind(port)`\n`2. Bootstrap.initAndRegister()`\n`2.1 Boostrap.init()`\n\n> ChannelChannelPipelinePipelineServerBootstrapAcceptoracceptoracceptorChannelInboundHandlerAdapter\n\n``` java\np.addLast(new ChannelInitializer<Channel>() {\n  @Override\n  public void initChannel(Channel ch) throws Exception {\n    ch.pipeline().addLast(new ServerBootstrapAcceptor(currentChildHandler, currentChildOptions,\n       currentChildAttrs));\n  }\n});\n```\n\n> channelunsafeselectorAbstractChannel$AbstractUnsafe.register\n\n``` java\npublic final void register(final ChannelPromise promise) {\n  if (eventLoop.inEventLoop()) {  // Channelloop\n    register0(promise);\n  } else {  // \n    try {\n      eventLoop.execute(new Runnable() {  // EventLoop\n        @Override\n        public void run() {\n          register0(promise);\n        }\n      });\n    } catch (Throwable t) {\n    // ...\n    }\n  }\n}\n```\n\n> eventLoop.execute(runnable);(startThread())NioEventLooprun()run()\n\n``` java\npublic void execute(Runnable task) {\n  if (task == null) {\n    throw new NullPointerException(&quot;task&quot;);\n  }\n\n  boolean inEventLoop = inEventLoop();\n  if (inEventLoop) {\n    addTask(task);\n  } else {\n    startThread();  // \n    addTask(task);  // \n\n    // ...\n\n  }\n\n  if (!addTaskWakesUp) {\n    wakeup(inEventLoop);\n  }\n}\n```\n\n   2.2 group().register(channel)\n\n>  channel  EventLoop \n\n`3. `\n\nNioEventLoop.run()\n\n`3.1 AbstractNioMessageChannel$NioMessageUnsafe.read()`\n\n`3.2 NioServerSocketChannel.doReadMessages()`\n\n> childEventLoopGroupEventLooploopSocketChannel\n\n`3.3 pipeline.fireChannelRead(readBuf.get(i));`\n\n> readBuf.get(i)3.2SocketChannel2.2BootstrapacceptorpipelineSocketChannelacceptor\n\n`3.4 ServerBootstrapAcceptor$ServerBootstrapAcceptor.channelRead();`\n\n> 2.22.3channelselectoreventLoop.executeexecutesubReactor\n\n#### 4.2 subReactor:\n\nsubReactorloopreadwriteNioTaskloop\n\n**loop:**\n\nloopsubReactorNioEventLoop.run()\n\nloopselect -&gt; processSelectedKeys(IO) -&gt; runAllTasks(IO)\n\n``` java\nprotected void run() {\n  for (;;) {\n    // ...\n    try {\n      if (hasTasks()) { // \n        selectNow();\n      } else {\n        select();\n        // ...\n      }\n\n      // ...\n\n      final long ioStartTime = System.nanoTime();  // IOIO\n      needsToSelectAgain = false;\n      // IO\n      if (selectedKeys != null) {\n        processSelectedKeysOptimized(selectedKeys.flip());\n      } else {\n        processSelectedKeysPlain(selector.selectedKeys());\n      }\n      final long ioTime = System.nanoTime() - ioStartTime;\n\n      final int ioRatio = this.ioRatio;\n      // IO\n      runAllTasks(ioTime * (100 - ioRatio) / ioRatio);\n\n      if (isShuttingDown()) {\n        closeAll();\n        if (confirmShutdown()) {\n          break;\n        }\n      }\n    } catch (Throwable t) {\n    // ...\n    }\n  }\n}\n```\n\n\nIOprocessSelectedKeysOptimizedSelectedKeysJDK\n\n> 1. selectedKeysopenSelector()NettySelectorselectedKeyspublicSelectedKeys&mdash;&mdash;SelectedSelectionKeySet\n> 2. OpenJDK 6/7SelectorImplselectedKeyspublicSeletedKeysHashSetHashSetHashMapHashHashSelectedSelectionKeySetdoubleflip()\n> 3. ByteBufflip\n\nprocessSelectedKeysOptimized\n\n``` java\nfinal Object a = k.attachment();\n\nif (a instanceof AbstractNioChannel) {\n  processSelectedKey(k, (AbstractNioChannel) a);\n} else {\n  @SuppressWarnings(&quot;unchecked&quot;)\n  NioTask<SelectableChannel> task = (NioTask<SelectableChannel>) a;\n  processSelectedKey(k, task);\n}\n```\n\nattachmentChannelNioTaskNettyNioTaskNioTaskNioEventLoop.registerNioTaskselectorChannelNioTaskprocessSelectdKey(k, (AbstractNioChannel) a)\n\nNIOprocessSelectdKeySeletedKeysreadyOpsunsafereadAbstractNioByteChannel$NioByteUnsafe.read()IO\n\n* \n* pipeline`fireChannel***`\n* \n\nIOIOrunAllTasksNettyIOIOioTime * (100 - ioRatio) / ioRatioioRatio50runAllTasksSingleThreadExecutorTaskQueuerun\n\n>\ttask.run()task.start()\n\n``` java\nprotected boolean runAllTasks(long timeoutNanos) {\n  fetchFromDelayedQueue();\n  Runnable task = pollTask();\n  if (task == null) {\n    return false;\n  }\n\n  // \n  final long deadline = ScheduledFutureTask.nanoTime() + timeoutNanos;\n  long runTasks = 0;\n  long lastExecutionTime;\n  for (;;) {\n    try {\n      task.run();\n    } catch (Throwable t) {\n      logger.warn(&quot;A task raised an exception.&quot;, t);\n    }\n\n    runTasks ++;\n\n    // Check timeout every 64 tasks because nanoTime() is relatively expensive.\n    // XXX: Hard-coded value - will make it configurable if it is really a problem.\n    if ((runTasks & 0x3F) == 0) {\n        lastExecutionTime = ScheduledFutureTask.nanoTime();\n      if (lastExecutionTime >= deadline) {\n        break;\n      }\n    }\n\n    task = pollTask();\n    if (task == null) {\n     lastExecutionTime = ScheduledFutureTask.nanoTime();\n     break;\n    }\n  }\n\n  this.lastExecutionTime = lastExecutionTime;\n  return true;\n}\n```\n\n### 5\n\nNetty\n\n\n","slug":"netty-4-x-thread-model","published":1,"updated":"2015-12-29T13:30:15.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciirfw706003ysv8f832eeyhv"},{"title":"Netty 4.x - ChannelPipeline","date":"2014-01-07T09:51:00.000Z","_content":"\n### 1\n\nChanneljava.nio.channelIOsocketNetty 4.xChannelChannelHandlerwriteflush3.x4.x\n\n<!--more-->\n\n> channel 4.xnew and noteworthy: Channel API changes\n\n### 2Channel\n\n<center><div style=\"width: 80%;\">![Netty Channel](/images/wpid-Channel.png)</div></center>\n\nChannelIOIONIOIOOIOMessageByteServerSocketSocketChannelUDTSCTP\n\nNettyAbstractChannelIO\n\n<center><div style=\"width: 80%;\">![Netty Channel](/images/wpid-nio-oio.jpg)</div></center>\n\n### 3ChannelPipeline\n\nAbstractChannelIOreadwriteChannelChannelPipeline\n\nPipelineChannelDefaultChannelHandlerContextnettyChannelHandler/\n\nPipelinehandlerInbound HandlerOutbound handlerNettyIOIONHandlerInbound HandlerChannelIOMHandlerNettyIOOutbound HandlerHead -> Tail (Inbound)Tail -> Head (Outbound)ChannelPipeline\n\n<center><div style=\"width: 60%;\">![Netty Pipeline](/images/wpid-Netty-ChannelPipeline-.png)</div></center>\n\n### 4\n\nChannelPipelineChannelHandlerInvokerinvoker(invoke)\n\n``` java\npublic ChannelFuture writeAndFlush(Object msg, ChannelPromise promise) {\n    DefaultChannelHandlerContext next = findContextOutbound();\n    next.invoker.invokeWriteAndFlush(next, msg, promise);\n    return promise;\n}\n```\n\nDefaultChannelHandlerInvoker(executor)Invokerexecutor\n\n``` java\nprivate void invokeWrite(ChannelHandlerContext ctx, Object msg, boolean flush, ChannelPromise promise) {\n\n    if (executor.inEventLoop()) { // \n        invokeWriteNow(ctx, msg, promise);\n        if (flush) {\n            invokeFlushNow(ctx);\n        }\n    } else {\n        AbstractChannel channel = (AbstractChannel) ctx.channel();\n        int size = channel.estimatorHandle().size(msg);\n        if (size > 0) {\n            ChannelOutboundBuffer buffer = channel.unsafe().outboundBuffer();\n            // Check for null as it may be set to null if the channel is closed already\n            if (buffer != null) {\n                buffer.incrementPendingOutboundBytes(size);\n            }\n        }\n        // WriteTask\n        // executor.execute(task);\n        safeExecuteOutbound(WriteTask.newInstance(ctx, msg, size, flush, promise), promise, msg);\n    }\n\n}\n```\n\nexecutor[EventExecutor](http://netty.io/4.0/api/io/netty/util/concurrent/EventExecutor.html)[EventLoop](http://netty.io/4.0/api/io/netty/channel/EventLoop.html)EventLoopNetty 4.xIO\n\n#### 5\n\nChannelPipeline`Channel.write -> ChannelPipeline.write -> ChannelHandlerContext.write -> ChannelHandlerInvoker.write -> ChannelHandler.write`EventLoopEventExecutor\n","source":"_posts/netty-4-x-channel-pipeline.md","raw":"title: Netty 4.x - ChannelPipeline\ndate: 2014-01-07 17:51:00\ncategories: \ntags: [Netty]\n---\n\n### 1\n\nChanneljava.nio.channelIOsocketNetty 4.xChannelChannelHandlerwriteflush3.x4.x\n\n<!--more-->\n\n> channel 4.xnew and noteworthy: Channel API changes\n\n### 2Channel\n\n<center><div style=\"width: 80%;\">![Netty Channel](/images/wpid-Channel.png)</div></center>\n\nChannelIOIONIOIOOIOMessageByteServerSocketSocketChannelUDTSCTP\n\nNettyAbstractChannelIO\n\n<center><div style=\"width: 80%;\">![Netty Channel](/images/wpid-nio-oio.jpg)</div></center>\n\n### 3ChannelPipeline\n\nAbstractChannelIOreadwriteChannelChannelPipeline\n\nPipelineChannelDefaultChannelHandlerContextnettyChannelHandler/\n\nPipelinehandlerInbound HandlerOutbound handlerNettyIOIONHandlerInbound HandlerChannelIOMHandlerNettyIOOutbound HandlerHead -> Tail (Inbound)Tail -> Head (Outbound)ChannelPipeline\n\n<center><div style=\"width: 60%;\">![Netty Pipeline](/images/wpid-Netty-ChannelPipeline-.png)</div></center>\n\n### 4\n\nChannelPipelineChannelHandlerInvokerinvoker(invoke)\n\n``` java\npublic ChannelFuture writeAndFlush(Object msg, ChannelPromise promise) {\n    DefaultChannelHandlerContext next = findContextOutbound();\n    next.invoker.invokeWriteAndFlush(next, msg, promise);\n    return promise;\n}\n```\n\nDefaultChannelHandlerInvoker(executor)Invokerexecutor\n\n``` java\nprivate void invokeWrite(ChannelHandlerContext ctx, Object msg, boolean flush, ChannelPromise promise) {\n\n    if (executor.inEventLoop()) { // \n        invokeWriteNow(ctx, msg, promise);\n        if (flush) {\n            invokeFlushNow(ctx);\n        }\n    } else {\n        AbstractChannel channel = (AbstractChannel) ctx.channel();\n        int size = channel.estimatorHandle().size(msg);\n        if (size > 0) {\n            ChannelOutboundBuffer buffer = channel.unsafe().outboundBuffer();\n            // Check for null as it may be set to null if the channel is closed already\n            if (buffer != null) {\n                buffer.incrementPendingOutboundBytes(size);\n            }\n        }\n        // WriteTask\n        // executor.execute(task);\n        safeExecuteOutbound(WriteTask.newInstance(ctx, msg, size, flush, promise), promise, msg);\n    }\n\n}\n```\n\nexecutor[EventExecutor](http://netty.io/4.0/api/io/netty/util/concurrent/EventExecutor.html)[EventLoop](http://netty.io/4.0/api/io/netty/channel/EventLoop.html)EventLoopNetty 4.xIO\n\n#### 5\n\nChannelPipeline`Channel.write -> ChannelPipeline.write -> ChannelHandlerContext.write -> ChannelHandlerInvoker.write -> ChannelHandler.write`EventLoopEventExecutor\n","slug":"netty-4-x-channel-pipeline","published":1,"updated":"2015-12-29T13:30:15.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciirfw7080042sv8fbfad2gti"},{"title":"Netty 4.x - ByteBuf","date":"2014-01-04T16:00:05.000Z","_content":"\n### 1\n\n\n\n### 2ByteBufJava NIO Buffer\n\nByteBufJava NIO BufferByteBuf\n\n* buffer\n* bufferzero-copy\n* bufferStringBuffer\n* flip()\n* oftenByteBuffer\n\n>  [Rich Buffer Data Structure](http://docs.jboss.org/netty/3.1/guide/html/architecture.html#d0e1893)\n\n### 3ByteBuf\n\nByteBufHeapByteBufDirectByteBufPooledByteBufUnpooledByteBufNettyByteBufDerivedByteBufReadOnlyByteBufDuplicatedByteBufSlicedByteBuf\n\nByteBuf\n\n<center><div style=\"width: 80%;\">![Netty ByteBuf](/images/bytebuf-diagram.png)</div></center>\n\nHeapByteBufDirectByteBufBufferHeapByteBufHeapHeapJavabyte[] arrayDirectByteBufDirectDirect I/Ojava.nio.DirectByteBuffoer\n\n* [Direct I/O](http://www.ibm.com/developerworks/cn/linux/l-cn-directio/)\n* [DirectByteBuffer](http://docs.oracle.com/javase/7/docs/api/java/nio/MappedByteBuffer.html)\n\nPooledByteBufUnpooledByteBufUnpooledByteBufByteBufPooledByteBuf4.x\n\nDerivedByteBufByteBufByteBufReadOnlyByteBufByteBufDuplicatedByteBufByteBufSlicedByteBufByteBuf\n\nSwappedByteBufCompositedByteBufSwappedByteBufByteBufByteOrderByteBufCompositedByteBufByteBufByteBufA user can save bulk memory copy operations using a composite buffer at the cost of relatively expensive random access.DerivedByteBufTrustin\n\n### 4ByteBuf\n\n<center><div style=\"width: 80%;\">![Netty ](/images/bytebuf-priciple.png)</div></center>\n\nByteBufreaderIndexwriterIndexbuffer`return array[readerIndex++];`HeapByteBuf\n\n 1. AbstractByteBuf.ensureWritable(minWritableBytes);\n 2. calculateNewCapacity(writerIndex + minWritableBytes)\n   2.1  maxCapacity  writerIndex\n   2.2  writerIndex + minWritableBytes\n   2.3 (4MB)(4MB)\n   2.4 64(newCapacity)newCapacitynewCapacity\n   2.5 Min(newCapacity, maxCapacity);\n 3. UnpooledHeapByteBuf.capacity(newCapacity);\n   3.1 ``0(ensureAccessible)\n   3.2 \n   3.3 newCapacity\n   3.4 readerIndexreadable bytesreaderIndexwriterIndexnewCapacity\n 4. setByte(writerIndex++, value)\n   4.1 \n   4.2 \n\n### 5ByteBuf\n\n#### 5.1 Pooled\n\n4.xPooled Bufferbufferbuddy allocationslab allocationjemallocio.netty.buffer.PoolArena\n\n\n\n* bufferGC\n* bufferbuffer\n* direct buffer\n\nUnpooledByteBufAllocator5.xbeta~~new and\\* noteworthy~~[new and noteworthy](http://netty.io/wiki/new-and-noteworthy-in-5.0.html)PooledByteBufAllocatorAllocator\n\n#### 5.2 Reference Count\n\nByteBufReference CountCPPSimpleChannelInboundHandlerreference countSimpleChannelInboundHandlermsgAutoRelease\n\n``` java\npublic void channelRead(ChannelHandlerContext ctx, Object msg) throws Exception {\n    boolean release = true;\n    try {\n        if (acceptInboundMessage(msg)) {\n            @SuppressWarnings(\"unchecked\")\n            I imsg = (I) msg;\n            messageReceived(ctx, imsg);\n        } else {\n            release = false;\n            ctx.fireChannelRead(msg);\n        }\n    } finally {\n        if (autoRelease && release) {\n            ReferenceCountUtil.release(msg);\n        }\n    }\n}\n```\n\nPooled[Reference counted objects](http://netty.io/wiki/reference-counted-objects.html)\n\n#### 5.3 Zero Copy\n\nZero-copy[zero-copy](http://en.wikipedia.org/wiki/Zero-copy)zero-copyIONettyzero-copyzero-copySystem.arrayCopyNettyByteBuf.sliceUnpooled.wrappedBufferBuffer\n\nzero-copysliceSlicedByteBufthiswrappedBuffer\n\n<center><div style=\"width: 70%;\">![Netty Bytebuf](/images/bytebuf-combine-slice-buffer.png)</div></center>\n\n> [Combining and Slicing ChannelBuffers](http://netty.io/3.5/guide/#architecture.5.4)\n","source":"_posts/netty-4-x-bytebuf.md","raw":"title: Netty 4.x - ByteBuf\ndate: 2014-01-05 00:00:05\ncategories: \ntags: [Netty]\n---\n\n### 1\n\n\n\n### 2ByteBufJava NIO Buffer\n\nByteBufJava NIO BufferByteBuf\n\n* buffer\n* bufferzero-copy\n* bufferStringBuffer\n* flip()\n* oftenByteBuffer\n\n>  [Rich Buffer Data Structure](http://docs.jboss.org/netty/3.1/guide/html/architecture.html#d0e1893)\n\n### 3ByteBuf\n\nByteBufHeapByteBufDirectByteBufPooledByteBufUnpooledByteBufNettyByteBufDerivedByteBufReadOnlyByteBufDuplicatedByteBufSlicedByteBuf\n\nByteBuf\n\n<center><div style=\"width: 80%;\">![Netty ByteBuf](/images/bytebuf-diagram.png)</div></center>\n\nHeapByteBufDirectByteBufBufferHeapByteBufHeapHeapJavabyte[] arrayDirectByteBufDirectDirect I/Ojava.nio.DirectByteBuffoer\n\n* [Direct I/O](http://www.ibm.com/developerworks/cn/linux/l-cn-directio/)\n* [DirectByteBuffer](http://docs.oracle.com/javase/7/docs/api/java/nio/MappedByteBuffer.html)\n\nPooledByteBufUnpooledByteBufUnpooledByteBufByteBufPooledByteBuf4.x\n\nDerivedByteBufByteBufByteBufReadOnlyByteBufByteBufDuplicatedByteBufByteBufSlicedByteBufByteBuf\n\nSwappedByteBufCompositedByteBufSwappedByteBufByteBufByteOrderByteBufCompositedByteBufByteBufByteBufA user can save bulk memory copy operations using a composite buffer at the cost of relatively expensive random access.DerivedByteBufTrustin\n\n### 4ByteBuf\n\n<center><div style=\"width: 80%;\">![Netty ](/images/bytebuf-priciple.png)</div></center>\n\nByteBufreaderIndexwriterIndexbuffer`return array[readerIndex++];`HeapByteBuf\n\n 1. AbstractByteBuf.ensureWritable(minWritableBytes);\n 2. calculateNewCapacity(writerIndex + minWritableBytes)\n   2.1  maxCapacity  writerIndex\n   2.2  writerIndex + minWritableBytes\n   2.3 (4MB)(4MB)\n   2.4 64(newCapacity)newCapacitynewCapacity\n   2.5 Min(newCapacity, maxCapacity);\n 3. UnpooledHeapByteBuf.capacity(newCapacity);\n   3.1 ``0(ensureAccessible)\n   3.2 \n   3.3 newCapacity\n   3.4 readerIndexreadable bytesreaderIndexwriterIndexnewCapacity\n 4. setByte(writerIndex++, value)\n   4.1 \n   4.2 \n\n### 5ByteBuf\n\n#### 5.1 Pooled\n\n4.xPooled Bufferbufferbuddy allocationslab allocationjemallocio.netty.buffer.PoolArena\n\n\n\n* bufferGC\n* bufferbuffer\n* direct buffer\n\nUnpooledByteBufAllocator5.xbeta~~new and\\* noteworthy~~[new and noteworthy](http://netty.io/wiki/new-and-noteworthy-in-5.0.html)PooledByteBufAllocatorAllocator\n\n#### 5.2 Reference Count\n\nByteBufReference CountCPPSimpleChannelInboundHandlerreference countSimpleChannelInboundHandlermsgAutoRelease\n\n``` java\npublic void channelRead(ChannelHandlerContext ctx, Object msg) throws Exception {\n    boolean release = true;\n    try {\n        if (acceptInboundMessage(msg)) {\n            @SuppressWarnings(\"unchecked\")\n            I imsg = (I) msg;\n            messageReceived(ctx, imsg);\n        } else {\n            release = false;\n            ctx.fireChannelRead(msg);\n        }\n    } finally {\n        if (autoRelease && release) {\n            ReferenceCountUtil.release(msg);\n        }\n    }\n}\n```\n\nPooled[Reference counted objects](http://netty.io/wiki/reference-counted-objects.html)\n\n#### 5.3 Zero Copy\n\nZero-copy[zero-copy](http://en.wikipedia.org/wiki/Zero-copy)zero-copyIONettyzero-copyzero-copySystem.arrayCopyNettyByteBuf.sliceUnpooled.wrappedBufferBuffer\n\nzero-copysliceSlicedByteBufthiswrappedBuffer\n\n<center><div style=\"width: 70%;\">![Netty Bytebuf](/images/bytebuf-combine-slice-buffer.png)</div></center>\n\n> [Combining and Slicing ChannelBuffers](http://netty.io/3.5/guide/#architecture.5.4)\n","slug":"netty-4-x-bytebuf","published":1,"updated":"2015-12-29T13:30:15.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciirfw7090045sv8fzz89t87q"},{"title":"","id":"87","date":"2011-02-14T16:35:18.000Z","_content":"\n\n\n21\n\n\n\n\n\n30\n\n309","source":"_posts/my-motive.md","raw":"title: \ntags:\n  - \nid: 87\ncategories:\n  - \ndate: 2011-02-15 00:35:18\n---\n\n\n\n21\n\n\n\n\n\n30\n\n309","slug":"my-motive","published":1,"updated":"2015-12-29T13:31:03.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciirfw70a0048sv8fgt69eiiz"},{"title":"Macbook","id":"869","date":"2013-11-06T16:14:10.000Z","_content":"\nmacbook pro retina 15rMBP\n\n<!--more-->\n\n\t<span style=\"line-height: 1.6em;\">&ldquo;&rdquo;</span><span style=\"line-height: 1.6em;\">&ldquo;&rdquo;</span>\n\n\t++250\n\n> \n\n\tmacbook\n\n\tIntel Iris ProMavericksmacWin71T1TWin7Win7<span style=\"line-height: 1.6em;\">option</span>\n\n\t<span style=\"line-height: 1.6em;\"></span>\n\n\tSMC&ldquo;&rdquo;<span style=\"font-size: 13px;\"></span>\n\n\tcc\n\n\t\n\n> &ldquo;&rdquo;&ldquo;10:30&rdquo;\n\n> Macbook","source":"_posts/my-macbook.md","raw":"title: Macbook\ntags:\n  - Apple\n  - Macbook\n  - RBMP\nid: 869\ncategories:\n  - \ndate: 2013-11-07 00:14:10\n---\n\nmacbook pro retina 15rMBP\n\n<!--more-->\n\n\t<span style=\"line-height: 1.6em;\">&ldquo;&rdquo;</span><span style=\"line-height: 1.6em;\">&ldquo;&rdquo;</span>\n\n\t++250\n\n> \n\n\tmacbook\n\n\tIntel Iris ProMavericksmacWin71T1TWin7Win7<span style=\"line-height: 1.6em;\">option</span>\n\n\t<span style=\"line-height: 1.6em;\"></span>\n\n\tSMC&ldquo;&rdquo;<span style=\"font-size: 13px;\"></span>\n\n\tcc\n\n\t\n\n> &ldquo;&rdquo;&ldquo;10:30&rdquo;\n\n> Macbook","slug":"my-macbook","published":1,"updated":"2015-12-29T13:31:03.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciirfw70d004bsv8f7lceguik"},{"title":"group-by","id":"838","date":"2013-05-28T15:31:56.000Z","_content":"\n**1**\n\ngroup bygroupby\n  > **BTW: **(- -)<!--more-->  \n\n**2group by**\n\ngroup bySQL(aggregate functions)SUMAVGMAXgroup bygroup by columnAAgroup\n <center>   <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>       <tr>         <td valign=\"top\" width=\"119\">           \n\n**purchase_date**\n         </td>          <td valign=\"top\" width=\"131\">           \n\n**item**\n         </td>          <td valign=\"top\" width=\"95\">           \n\n**items_purchased**\n         </td>       </tr>        <tr>         <td valign=\"top\" width=\"119\">           \n\n2013-03-25\n         </td>          <td valign=\"top\" width=\"131\">           \n\nWireless Mouse\n         </td>          <td valign=\"top\" width=\"95\">           \n\n2\n         </td>       </tr>        <tr>         <td valign=\"top\" width=\"119\">           \n\n2013-03-25\n         </td>          <td valign=\"top\" width=\"131\">           \n\nWireless Mouse\n         </td>          <td valign=\"top\" width=\"95\">           \n\n5\n         </td>       </tr>        <tr>         <td valign=\"top\" width=\"119\">           \n\n2013-03-25 \n         </td>          <td valign=\"top\" width=\"131\">           \n\nMacBook Pro\n         </td>          <td valign=\"top\" width=\"95\">           \n\n1\n         </td>       </tr>        <tr>         <td valign=\"top\" width=\"119\">           \n\n2013-04-01\n         </td>          <td valign=\"top\" width=\"131\">           \n\nPaper Clips\n         </td>          <td valign=\"top\" width=\"95\">           \n\n20\n         </td>       </tr>        <tr>         <td valign=\"top\" width=\"119\">           \n\n2013-04-01 \n         </td>          <td valign=\"top\" width=\"131\">           \n\nStapler\n         </td>          <td valign=\"top\" width=\"95\">           \n\n3\n         </td>       </tr>        <tr>         <td valign=\"top\" width=\"119\">           \n\n2013-04-01\n         </td>          <td valign=\"top\" width=\"131\">           \n\nPaper Clips\n         </td>          <td valign=\"top\" width=\"95\">           \n\n15\n         </td>       </tr>        <tr>         <td valign=\"top\" width=\"119\">           \n\n2013-05-15 \n         </td>          <td valign=\"top\" width=\"131\">           \n\nDVD player\n         </td>          <td valign=\"top\" width=\"95\">           \n\n3\n         </td>       </tr>        <tr>         <td valign=\"top\" width=\"119\">           \n\n2013-05-15\n         </td>          <td valign=\"top\" width=\"131\">           \n\nDVD player\n         </td>          <td valign=\"top\" width=\"95\">           \n\n8\n         </td>       </tr>        <tr>         <td valign=\"top\" width=\"119\">           \n\n2013-05-15\n         </td>          <td valign=\"top\" width=\"131\">           \n\nStapler\n         </td>          <td valign=\"top\" width=\"95\">           \n\n5\n         </td>       </tr>        <tr>         <td valign=\"top\" width=\"119\">           \n\n2013-05-16\n         </td>          <td valign=\"top\" width=\"131\">           \n\nMacBook Pro\n         </td>          <td valign=\"top\" width=\"95\">           \n\n2\n         </td>       </tr>     </tbody></table> </center>  \n\ngroup bySQL\n  > select purchase_date, count(items_purchased) as purchased_count \n> \n> from Purchases group by purchase_date order by purchased_count desc; <center>   <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\" width=\"247\"><tbody>       <tr>         <td valign=\"top\" width=\"129\">           \n\n**purchase_date**\n         </td>          <td valign=\"top\" width=\"116\">           \n\n**purchased_count**\n         </td>       </tr>        <tr>         <td valign=\"top\" width=\"129\">           \n\n2013-04-01\n         </td>          <td valign=\"top\" width=\"116\">           \n\n38\n         </td>       </tr>        <tr>         <td valign=\"top\" width=\"129\">           \n\n2013-05-15 \n         </td>          <td valign=\"top\" width=\"116\">           \n\n16\n         </td>       </tr>        <tr>         <td valign=\"top\" width=\"129\">           \n\n2013-03-25\n         </td>          <td valign=\"top\" width=\"116\">           \n\n8\n         </td>       </tr>        <tr>         <td valign=\"top\" width=\"129\">           \n\n2013-05-16\n         </td>          <td valign=\"top\" width=\"116\">           \n\n2\n         </td>       </tr>     </tbody></table> </center>  \n\n**3group by**\n\ngroup by\n\ngroup bygroup by columnA, columnBABgroupSQL\n  > <pre>select purchase_date, item, sum(items_purchased) as \r> \n> &quot;total items&quot; from Purchases group by item, purchase_date;</pre>\n\n\n\n<center>\n  <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\" width=\"347\"><tbody>\n      <tr>\n        <td valign=\"top\" width=\"115\">\n\n**purchase_date**\n\n        </td>\n\n        <td valign=\"top\" width=\"123\">\n\n**item**\n\n        </td>\n\n        <td valign=\"top\" width=\"107\">\n\n**Total Items**\n\n        </td>\n      </tr>\n\n      <tr>\n        <td valign=\"top\" width=\"115\">\n\n2013-03-25\n\n        </td>\n\n        <td valign=\"top\" width=\"123\">\n\nWireless Mouse\n\n        </td>\n\n        <td valign=\"top\" width=\"107\">\n\n7\n\n        </td>\n      </tr>\n\n      <tr>\n        <td valign=\"top\" width=\"115\">\n\n2013-03-25\n\n        </td>\n\n        <td valign=\"top\" width=\"123\">\n\nMacBook Pro\n\n        </td>\n\n        <td valign=\"top\" width=\"107\">\n\n1\n\n        </td>\n      </tr>\n\n      <tr>\n        <td valign=\"top\" width=\"115\">\n\n2013-04-01\n\n        </td>\n\n        <td valign=\"top\" width=\"123\">\n\nPaper Clips\n\n        </td>\n\n        <td valign=\"top\" width=\"107\">\n\n35\n\n        </td>\n      </tr>\n\n      <tr>\n        <td valign=\"top\" width=\"115\">\n\n2013-04-01\n\n        </td>\n\n        <td valign=\"top\" width=\"123\">\n\nStapler\n\n        </td>\n\n        <td valign=\"top\" width=\"107\">\n\n3\n\n        </td>\n      </tr>\n\n      <tr>\n        <td valign=\"top\" width=\"115\">\n\n2013-05-15\n\n        </td>\n\n        <td valign=\"top\" width=\"123\">\n\nDVD player\n\n        </td>\n\n        <td valign=\"top\" width=\"107\">\n\n11\n\n        </td>\n      </tr>\n\n      <tr>\n        <td valign=\"top\" width=\"115\">\n\n2013-05-15\n\n        </td>\n\n        <td valign=\"top\" width=\"123\">\n\nStapler\n\n        </td>\n\n        <td valign=\"top\" width=\"107\">\n\n5\n\n        </td>\n      </tr>\n\n      <tr>\n        <td valign=\"top\" width=\"115\">\n\n2013-05-16\n\n        </td>\n\n        <td valign=\"top\" width=\"123\">\n\nMacBook Pro\n\n        </td>\n\n        <td valign=\"top\" width=\"107\">\n\n2\n\n        </td>\n      </tr>\n    </tbody></table>\n</center>\n\ngroup bygroupbygroupgroupsum()\n\n&#160;\n\n> ****\n> \n> **[ProgrammerInterview.com](http://t.cn/zHJvZ7E)**\n> \n> [StackOverflow](http://stackoverflow.com/questions/2421388/using-group-by-on-multiple-columns) - Using group by on multiple columns\n\n> **BTW:** ","source":"_posts/multi-columns-group-by.md","raw":"title: group-by\ntags:\n  - group by\n  - SQL\nid: 838\ncategories:\n  - \ndate: 2013-05-28 23:31:56\n---\n\n**1**\n\ngroup bygroupby\n  > **BTW: **(- -)<!--more-->  \n\n**2group by**\n\ngroup bySQL(aggregate functions)SUMAVGMAXgroup bygroup by columnAAgroup\n <center>   <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>       <tr>         <td valign=\"top\" width=\"119\">           \n\n**purchase_date**\n         </td>          <td valign=\"top\" width=\"131\">           \n\n**item**\n         </td>          <td valign=\"top\" width=\"95\">           \n\n**items_purchased**\n         </td>       </tr>        <tr>         <td valign=\"top\" width=\"119\">           \n\n2013-03-25\n         </td>          <td valign=\"top\" width=\"131\">           \n\nWireless Mouse\n         </td>          <td valign=\"top\" width=\"95\">           \n\n2\n         </td>       </tr>        <tr>         <td valign=\"top\" width=\"119\">           \n\n2013-03-25\n         </td>          <td valign=\"top\" width=\"131\">           \n\nWireless Mouse\n         </td>          <td valign=\"top\" width=\"95\">           \n\n5\n         </td>       </tr>        <tr>         <td valign=\"top\" width=\"119\">           \n\n2013-03-25 \n         </td>          <td valign=\"top\" width=\"131\">           \n\nMacBook Pro\n         </td>          <td valign=\"top\" width=\"95\">           \n\n1\n         </td>       </tr>        <tr>         <td valign=\"top\" width=\"119\">           \n\n2013-04-01\n         </td>          <td valign=\"top\" width=\"131\">           \n\nPaper Clips\n         </td>          <td valign=\"top\" width=\"95\">           \n\n20\n         </td>       </tr>        <tr>         <td valign=\"top\" width=\"119\">           \n\n2013-04-01 \n         </td>          <td valign=\"top\" width=\"131\">           \n\nStapler\n         </td>          <td valign=\"top\" width=\"95\">           \n\n3\n         </td>       </tr>        <tr>         <td valign=\"top\" width=\"119\">           \n\n2013-04-01\n         </td>          <td valign=\"top\" width=\"131\">           \n\nPaper Clips\n         </td>          <td valign=\"top\" width=\"95\">           \n\n15\n         </td>       </tr>        <tr>         <td valign=\"top\" width=\"119\">           \n\n2013-05-15 \n         </td>          <td valign=\"top\" width=\"131\">           \n\nDVD player\n         </td>          <td valign=\"top\" width=\"95\">           \n\n3\n         </td>       </tr>        <tr>         <td valign=\"top\" width=\"119\">           \n\n2013-05-15\n         </td>          <td valign=\"top\" width=\"131\">           \n\nDVD player\n         </td>          <td valign=\"top\" width=\"95\">           \n\n8\n         </td>       </tr>        <tr>         <td valign=\"top\" width=\"119\">           \n\n2013-05-15\n         </td>          <td valign=\"top\" width=\"131\">           \n\nStapler\n         </td>          <td valign=\"top\" width=\"95\">           \n\n5\n         </td>       </tr>        <tr>         <td valign=\"top\" width=\"119\">           \n\n2013-05-16\n         </td>          <td valign=\"top\" width=\"131\">           \n\nMacBook Pro\n         </td>          <td valign=\"top\" width=\"95\">           \n\n2\n         </td>       </tr>     </tbody></table> </center>  \n\ngroup bySQL\n  > select purchase_date, count(items_purchased) as purchased_count \n> \n> from Purchases group by purchase_date order by purchased_count desc; <center>   <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\" width=\"247\"><tbody>       <tr>         <td valign=\"top\" width=\"129\">           \n\n**purchase_date**\n         </td>          <td valign=\"top\" width=\"116\">           \n\n**purchased_count**\n         </td>       </tr>        <tr>         <td valign=\"top\" width=\"129\">           \n\n2013-04-01\n         </td>          <td valign=\"top\" width=\"116\">           \n\n38\n         </td>       </tr>        <tr>         <td valign=\"top\" width=\"129\">           \n\n2013-05-15 \n         </td>          <td valign=\"top\" width=\"116\">           \n\n16\n         </td>       </tr>        <tr>         <td valign=\"top\" width=\"129\">           \n\n2013-03-25\n         </td>          <td valign=\"top\" width=\"116\">           \n\n8\n         </td>       </tr>        <tr>         <td valign=\"top\" width=\"129\">           \n\n2013-05-16\n         </td>          <td valign=\"top\" width=\"116\">           \n\n2\n         </td>       </tr>     </tbody></table> </center>  \n\n**3group by**\n\ngroup by\n\ngroup bygroup by columnA, columnBABgroupSQL\n  > <pre>select purchase_date, item, sum(items_purchased) as \r> \n> &quot;total items&quot; from Purchases group by item, purchase_date;</pre>\n\n\n\n<center>\n  <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\" width=\"347\"><tbody>\n      <tr>\n        <td valign=\"top\" width=\"115\">\n\n**purchase_date**\n\n        </td>\n\n        <td valign=\"top\" width=\"123\">\n\n**item**\n\n        </td>\n\n        <td valign=\"top\" width=\"107\">\n\n**Total Items**\n\n        </td>\n      </tr>\n\n      <tr>\n        <td valign=\"top\" width=\"115\">\n\n2013-03-25\n\n        </td>\n\n        <td valign=\"top\" width=\"123\">\n\nWireless Mouse\n\n        </td>\n\n        <td valign=\"top\" width=\"107\">\n\n7\n\n        </td>\n      </tr>\n\n      <tr>\n        <td valign=\"top\" width=\"115\">\n\n2013-03-25\n\n        </td>\n\n        <td valign=\"top\" width=\"123\">\n\nMacBook Pro\n\n        </td>\n\n        <td valign=\"top\" width=\"107\">\n\n1\n\n        </td>\n      </tr>\n\n      <tr>\n        <td valign=\"top\" width=\"115\">\n\n2013-04-01\n\n        </td>\n\n        <td valign=\"top\" width=\"123\">\n\nPaper Clips\n\n        </td>\n\n        <td valign=\"top\" width=\"107\">\n\n35\n\n        </td>\n      </tr>\n\n      <tr>\n        <td valign=\"top\" width=\"115\">\n\n2013-04-01\n\n        </td>\n\n        <td valign=\"top\" width=\"123\">\n\nStapler\n\n        </td>\n\n        <td valign=\"top\" width=\"107\">\n\n3\n\n        </td>\n      </tr>\n\n      <tr>\n        <td valign=\"top\" width=\"115\">\n\n2013-05-15\n\n        </td>\n\n        <td valign=\"top\" width=\"123\">\n\nDVD player\n\n        </td>\n\n        <td valign=\"top\" width=\"107\">\n\n11\n\n        </td>\n      </tr>\n\n      <tr>\n        <td valign=\"top\" width=\"115\">\n\n2013-05-15\n\n        </td>\n\n        <td valign=\"top\" width=\"123\">\n\nStapler\n\n        </td>\n\n        <td valign=\"top\" width=\"107\">\n\n5\n\n        </td>\n      </tr>\n\n      <tr>\n        <td valign=\"top\" width=\"115\">\n\n2013-05-16\n\n        </td>\n\n        <td valign=\"top\" width=\"123\">\n\nMacBook Pro\n\n        </td>\n\n        <td valign=\"top\" width=\"107\">\n\n2\n\n        </td>\n      </tr>\n    </tbody></table>\n</center>\n\ngroup bygroupbygroupgroupsum()\n\n&#160;\n\n> ****\n> \n> **[ProgrammerInterview.com](http://t.cn/zHJvZ7E)**\n> \n> [StackOverflow](http://stackoverflow.com/questions/2421388/using-group-by-on-multiple-columns) - Using group by on multiple columns\n\n> **BTW:** ","slug":"multi-columns-group-by","published":1,"updated":"2015-12-29T13:31:03.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciirfw70g004jsv8fef6dwlbc"},{"title":"Maven - ","id":"726","date":"2013-03-18T02:13:17.000Z","_content":"\n**1**\n\n\t[](http://hongweiyi.com/2013/03/maven-coordinates-dependencies/)MavenMavenMavenMavenRepositoriesMaven\n\n<!--more-->\n\n\t&nbsp;\n\n\t**2**\n\n\tMavenMavenMavenMaven\n\n\t****Mavenhttp://repo1.maven.org/maven2Java. Net Mavenhttp://download.java.net/maven/2/JBoss Mavenhttp://repository.jboss.com/maven2/\n\n> **IMPORTANT**\n\n\t[![image](http://hongweiyi.com/wp-content/uploads/2013/03/image_thumb.png \"image\")](http://hongweiyi.com/wp-content/uploads/2013/03/image.png)\n\n\t&nbsp;\n\n\t**3**\n\n\tMavenCopy[http://t.cn/zYgRHb7](http://t.cn/zYgRHb7)\n\n\t&nbsp;\n\n\t**4Maven**\n\n\tXYXYMavenMaven~/.m2/settings.xml\n\n[code lang=\"xml\"]\n&lt;settings&gt;\n  &lt;!----&gt;\n  &lt;mirrors&gt;\n    &lt;mirror&gt;\n      &lt;id&gt;maven.net.cn&lt;/id&gt;\n      &lt;name&gt;one of the central mirrors in China&lt;/name&gt;\n      &lt;url&gt;http://maven.net.cn/content/groups/public/&lt;/url&gt;\n      &lt;mirrorOf&gt;central&lt;/mirrorOf&gt;\n    &lt;/mirror&gt;\n  &lt;/mirrors&gt;\n  &lt;!----&gt;\n&lt;/settings&gt;\n[/code]\n\n> **WARNING: **Maven\n\n\t&nbsp;\n\n> ****Maven","source":"_posts/maven-repositories.md","raw":"title: Maven - \ntags:\n  - java\n  - Maven\nid: 726\ncategories:\n  - \ndate: 2013-03-18 10:13:17\n---\n\n**1**\n\n\t[](http://hongweiyi.com/2013/03/maven-coordinates-dependencies/)MavenMavenMavenMavenRepositoriesMaven\n\n<!--more-->\n\n\t&nbsp;\n\n\t**2**\n\n\tMavenMavenMavenMaven\n\n\t****Mavenhttp://repo1.maven.org/maven2Java. Net Mavenhttp://download.java.net/maven/2/JBoss Mavenhttp://repository.jboss.com/maven2/\n\n> **IMPORTANT**\n\n\t[![image](http://hongweiyi.com/wp-content/uploads/2013/03/image_thumb.png \"image\")](http://hongweiyi.com/wp-content/uploads/2013/03/image.png)\n\n\t&nbsp;\n\n\t**3**\n\n\tMavenCopy[http://t.cn/zYgRHb7](http://t.cn/zYgRHb7)\n\n\t&nbsp;\n\n\t**4Maven**\n\n\tXYXYMavenMaven~/.m2/settings.xml\n\n[code lang=\"xml\"]\n&lt;settings&gt;\n  &lt;!----&gt;\n  &lt;mirrors&gt;\n    &lt;mirror&gt;\n      &lt;id&gt;maven.net.cn&lt;/id&gt;\n      &lt;name&gt;one of the central mirrors in China&lt;/name&gt;\n      &lt;url&gt;http://maven.net.cn/content/groups/public/&lt;/url&gt;\n      &lt;mirrorOf&gt;central&lt;/mirrorOf&gt;\n    &lt;/mirror&gt;\n  &lt;/mirrors&gt;\n  &lt;!----&gt;\n&lt;/settings&gt;\n[/code]\n\n> **WARNING: **Maven\n\n\t&nbsp;\n\n> ****Maven","slug":"maven-repositories","published":1,"updated":"2015-12-29T13:31:03.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciirfw70i004psv8f05sjkj2x"},{"title":"Maven  ","id":"707","date":"2013-03-17T12:47:05.000Z","_content":"\n**1**\n\n\tMaven ['meivin]JavaMaven\n\n\t<!--more-->\n\n\tMavenMaven\n\n\t&nbsp;\n\n\t**2Maven******\n\n\tMaven\n\n\t**groupId******Maven\n\n\t**artifactId******MavenartifactIdnexus-indexernexusindexer\n\n\t**version******Maven\n\n\t**packaging(optional)******Mavenjarwar\n\n\t**classsifier(optional)******javadocssourcesTestNGjdk5BTWclassifer\n\n\t[code lang=\"xml\"]&lt;groupId&gt;com.hongweiyi&lt;/groupId&gt;\n&lt;artifactId&gt;HelloWorld&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;packaging&gt;jar&lt;/packaging&gt;\n\n\t[/code]\n\n\t&nbsp;\n\n\t**3**\n\n\t**groupId****artifactIdversion**\n\n\t**type******packagingjar\n\n\t**scope******\n\n\tMavenclasspath\n\n<table border=\"1\" cellpadding=\"0\" cellspacing=\"0\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td valign=\"top\">\n\n\t\t\t\t\t****\n\n\t\t\t</td>\n\t\t\t<td valign=\"top\">\n\n\t\t\t\t\t**classpath**\n\n\t\t\t</td>\n\t\t\t<td valign=\"top\">\n\n\t\t\t\t\t**classpath**\n\n\t\t\t</td>\n\t\t\t<td valign=\"top\">\n\n\t\t\t\t\t**classpath**\n\n\t\t\t</td>\n\t\t\t<td valign=\"top\">\n\n\t\t\t\t\t****\n\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td valign=\"top\">\n\n\t\t\t\t\tcompile\n\n\t\t\t</td>\n\t\t\t<td valign=\"top\">\n\n\t\t\t\t\t**Y**\n\n\t\t\t</td>\n\t\t\t<td valign=\"top\">\n\n\t\t\t\t\t**Y**\n\n\t\t\t</td>\n\t\t\t<td valign=\"top\">\n\n\t\t\t\t\t**Y**\n\n\t\t\t</td>\n\t\t\t<td valign=\"top\">\n\n\t\t\t\t\tspring-core\n\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td valign=\"top\">\n\n\t\t\t\t\ttest\n\n\t\t\t</td>\n\t\t\t<td valign=\"top\">\n\n\t\t\t\t\t-\n\n\t\t\t</td>\n\t\t\t<td valign=\"top\">\n\n\t\t\t\t\t**Y**\n\n\t\t\t</td>\n\t\t\t<td valign=\"top\">\n\n\t\t\t\t\t**-**\n\n\t\t\t</td>\n\t\t\t<td valign=\"top\">\n\n\t\t\t\t\tJUnit\n\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td valign=\"top\">\n\n\t\t\t\t\tprovided\n\n\t\t\t</td>\n\t\t\t<td valign=\"top\">\n\n\t\t\t\t\t**Y**\n\n\t\t\t</td>\n\t\t\t<td valign=\"top\">\n\n\t\t\t\t\t**Y**\n\n\t\t\t</td>\n\t\t\t<td valign=\"top\">\n\n\t\t\t\t\t**-**\n\n\t\t\t</td>\n\t\t\t<td valign=\"top\">\n\n\t\t\t\t\tservlet-api\n\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td valign=\"top\">\n\n\t\t\t\t\truntime\n\n\t\t\t</td>\n\t\t\t<td valign=\"top\">\n\n\t\t\t\t\t**-**\n\n\t\t\t</td>\n\t\t\t<td valign=\"top\">\n\n\t\t\t\t\t**Y**\n\n\t\t\t</td>\n\t\t\t<td valign=\"top\">\n\n\t\t\t\t\t**Y**\n\n\t\t\t</td>\n\t\t\t<td valign=\"top\">\n\n\t\t\t\t\tJDBC \n\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td valign=\"top\">\n\n\t\t\t\t\tsystem\n\n\t\t\t</td>\n\t\t\t<td valign=\"top\">\n\n\t\t\t\t\t**Y**\n\n\t\t\t</td>\n\t\t\t<td valign=\"top\">\n\n\t\t\t\t\t**Y**\n\n\t\t\t</td>\n\t\t\t<td valign=\"top\">\n\n\t\t\t\t\t**-**\n\n\t\t\t</td>\n\t\t\t<td valign=\"top\">\n\n\t\t\t\t\tMaven\n\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td valign=\"top\">\n\n\t\t\t\t\timport\n\n\t\t\t</td>\n\t\t\t<td valign=\"top\">\n\n\t\t\t\t\t**-**\n\n\t\t\t</td>\n\t\t\t<td valign=\"top\">\n\n\t\t\t\t\t**-**\n\n\t\t\t</td>\n\t\t\t<td valign=\"top\">\n\n\t\t\t\t\t**-**\n\n\t\t\t</td>\n\t\t\t<td valign=\"top\">\n\n\t\t\t\t\t\n\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n\t&nbsp;\n\n\tMavenMavenPOM\n\n\tA-&gt;B-&gt;C-&gt;X(1.0)A-&gt;D-&gt;X(2.0)MavenX(2.0)A-&gt;B-&gt;X(1.0) A-&gt;C-&gt;X(2.0)MavenPOM\n\n> BTWclasspathT_T\n\n\t**optional****** (false / true)\n\n\tA-&gt;B, B-&gt;X(optional), B-&gt;Y(optional)\n\n\tAXYPOMDependency\n\n\t[code lang=\"xml\"]&lt;project&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;dependecies&gt;\n   &lt;dependecy&gt;\n      &lt;groupId&gt;com.hongweiyi.blog&lt;/groupId&gt;\n      &lt;artifactId&gt;project-b&lt;/artifactId&gt;\n      &lt;version&gt;1.0.0&lt;/version&gt;\n   &lt;/dependency&gt;\n   &lt;dependency&gt;        &lt;!-- X (Y) --&gt;\n     &lt;groupId&gt;com.hongweiyi.blog&lt;/groupId&gt;\n     &lt;artifactId&gt;project-X&lt;/artifactId&gt; &lt;!--artifactId&gt;project-Y&lt;/artifactId--&gt;\n     &lt;version&gt;1.1.0&lt;/version&gt;\n   &lt;/dependency&gt;\n&lt;/dependencies&gt;\n&lt;/project&gt;\n\n\t[/code]\n\n\t**exclusions**\n\n\tSNAPSHOTSNAPSHOTSNAPSHOT\n\n\t[code lang=\"xml\"]&lt;project&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;dependecies&gt;\n   &lt;dependecy&gt;\n      &lt;groupId&gt;com.hongweiyi.blog&lt;/groupId&gt;\n      &lt;artifactId&gt;project-b&lt;/artifactId&gt;\n      &lt;version&gt;1.0.0&lt;/version&gt;\n      &lt;exclusions&gt;\n         &lt;exclusion&gt;      &lt;!-- project-c --&gt;\n            &lt;groupId&gt;com.hongweiyi.blog&lt;/groupId&gt;\n            &lt;artifactId&gt;project-c&lt;/artifactId&gt;\n          &lt;/exclusion&gt;\n      &lt;exclusions&gt;\n   &lt;/dependency&gt;\n   &lt;dependency&gt;        &lt;!-- project-c 1.1.0 --&gt;\n     &lt;groupId&gt;com.hongweiyi.blog&lt;/groupId&gt;\n     &lt;artifactId&gt;project-c&lt;/artifactId&gt;\n     &lt;version&gt;1.1.0&lt;/version&gt;\n   &lt;/dependency&gt;\n&lt;/dependencies&gt;\n&lt;/project&gt;\n\n\t[/code]\n\n\t&nbsp;\n\n> Maven","source":"_posts/maven-coordinates-dependencies.md","raw":"title: Maven  \ntags:\n  - java\n  - Maven\nid: 707\ncategories:\n  - \ndate: 2013-03-17 20:47:05\n---\n\n**1**\n\n\tMaven ['meivin]JavaMaven\n\n\t<!--more-->\n\n\tMavenMaven\n\n\t&nbsp;\n\n\t**2Maven******\n\n\tMaven\n\n\t**groupId******Maven\n\n\t**artifactId******MavenartifactIdnexus-indexernexusindexer\n\n\t**version******Maven\n\n\t**packaging(optional)******Mavenjarwar\n\n\t**classsifier(optional)******javadocssourcesTestNGjdk5BTWclassifer\n\n\t[code lang=\"xml\"]&lt;groupId&gt;com.hongweiyi&lt;/groupId&gt;\n&lt;artifactId&gt;HelloWorld&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;packaging&gt;jar&lt;/packaging&gt;\n\n\t[/code]\n\n\t&nbsp;\n\n\t**3**\n\n\t**groupId****artifactIdversion**\n\n\t**type******packagingjar\n\n\t**scope******\n\n\tMavenclasspath\n\n<table border=\"1\" cellpadding=\"0\" cellspacing=\"0\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td valign=\"top\">\n\n\t\t\t\t\t****\n\n\t\t\t</td>\n\t\t\t<td valign=\"top\">\n\n\t\t\t\t\t**classpath**\n\n\t\t\t</td>\n\t\t\t<td valign=\"top\">\n\n\t\t\t\t\t**classpath**\n\n\t\t\t</td>\n\t\t\t<td valign=\"top\">\n\n\t\t\t\t\t**classpath**\n\n\t\t\t</td>\n\t\t\t<td valign=\"top\">\n\n\t\t\t\t\t****\n\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td valign=\"top\">\n\n\t\t\t\t\tcompile\n\n\t\t\t</td>\n\t\t\t<td valign=\"top\">\n\n\t\t\t\t\t**Y**\n\n\t\t\t</td>\n\t\t\t<td valign=\"top\">\n\n\t\t\t\t\t**Y**\n\n\t\t\t</td>\n\t\t\t<td valign=\"top\">\n\n\t\t\t\t\t**Y**\n\n\t\t\t</td>\n\t\t\t<td valign=\"top\">\n\n\t\t\t\t\tspring-core\n\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td valign=\"top\">\n\n\t\t\t\t\ttest\n\n\t\t\t</td>\n\t\t\t<td valign=\"top\">\n\n\t\t\t\t\t-\n\n\t\t\t</td>\n\t\t\t<td valign=\"top\">\n\n\t\t\t\t\t**Y**\n\n\t\t\t</td>\n\t\t\t<td valign=\"top\">\n\n\t\t\t\t\t**-**\n\n\t\t\t</td>\n\t\t\t<td valign=\"top\">\n\n\t\t\t\t\tJUnit\n\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td valign=\"top\">\n\n\t\t\t\t\tprovided\n\n\t\t\t</td>\n\t\t\t<td valign=\"top\">\n\n\t\t\t\t\t**Y**\n\n\t\t\t</td>\n\t\t\t<td valign=\"top\">\n\n\t\t\t\t\t**Y**\n\n\t\t\t</td>\n\t\t\t<td valign=\"top\">\n\n\t\t\t\t\t**-**\n\n\t\t\t</td>\n\t\t\t<td valign=\"top\">\n\n\t\t\t\t\tservlet-api\n\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td valign=\"top\">\n\n\t\t\t\t\truntime\n\n\t\t\t</td>\n\t\t\t<td valign=\"top\">\n\n\t\t\t\t\t**-**\n\n\t\t\t</td>\n\t\t\t<td valign=\"top\">\n\n\t\t\t\t\t**Y**\n\n\t\t\t</td>\n\t\t\t<td valign=\"top\">\n\n\t\t\t\t\t**Y**\n\n\t\t\t</td>\n\t\t\t<td valign=\"top\">\n\n\t\t\t\t\tJDBC \n\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td valign=\"top\">\n\n\t\t\t\t\tsystem\n\n\t\t\t</td>\n\t\t\t<td valign=\"top\">\n\n\t\t\t\t\t**Y**\n\n\t\t\t</td>\n\t\t\t<td valign=\"top\">\n\n\t\t\t\t\t**Y**\n\n\t\t\t</td>\n\t\t\t<td valign=\"top\">\n\n\t\t\t\t\t**-**\n\n\t\t\t</td>\n\t\t\t<td valign=\"top\">\n\n\t\t\t\t\tMaven\n\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td valign=\"top\">\n\n\t\t\t\t\timport\n\n\t\t\t</td>\n\t\t\t<td valign=\"top\">\n\n\t\t\t\t\t**-**\n\n\t\t\t</td>\n\t\t\t<td valign=\"top\">\n\n\t\t\t\t\t**-**\n\n\t\t\t</td>\n\t\t\t<td valign=\"top\">\n\n\t\t\t\t\t**-**\n\n\t\t\t</td>\n\t\t\t<td valign=\"top\">\n\n\t\t\t\t\t\n\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n\t&nbsp;\n\n\tMavenMavenPOM\n\n\tA-&gt;B-&gt;C-&gt;X(1.0)A-&gt;D-&gt;X(2.0)MavenX(2.0)A-&gt;B-&gt;X(1.0) A-&gt;C-&gt;X(2.0)MavenPOM\n\n> BTWclasspathT_T\n\n\t**optional****** (false / true)\n\n\tA-&gt;B, B-&gt;X(optional), B-&gt;Y(optional)\n\n\tAXYPOMDependency\n\n\t[code lang=\"xml\"]&lt;project&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;dependecies&gt;\n   &lt;dependecy&gt;\n      &lt;groupId&gt;com.hongweiyi.blog&lt;/groupId&gt;\n      &lt;artifactId&gt;project-b&lt;/artifactId&gt;\n      &lt;version&gt;1.0.0&lt;/version&gt;\n   &lt;/dependency&gt;\n   &lt;dependency&gt;        &lt;!-- X (Y) --&gt;\n     &lt;groupId&gt;com.hongweiyi.blog&lt;/groupId&gt;\n     &lt;artifactId&gt;project-X&lt;/artifactId&gt; &lt;!--artifactId&gt;project-Y&lt;/artifactId--&gt;\n     &lt;version&gt;1.1.0&lt;/version&gt;\n   &lt;/dependency&gt;\n&lt;/dependencies&gt;\n&lt;/project&gt;\n\n\t[/code]\n\n\t**exclusions**\n\n\tSNAPSHOTSNAPSHOTSNAPSHOT\n\n\t[code lang=\"xml\"]&lt;project&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;dependecies&gt;\n   &lt;dependecy&gt;\n      &lt;groupId&gt;com.hongweiyi.blog&lt;/groupId&gt;\n      &lt;artifactId&gt;project-b&lt;/artifactId&gt;\n      &lt;version&gt;1.0.0&lt;/version&gt;\n      &lt;exclusions&gt;\n         &lt;exclusion&gt;      &lt;!-- project-c --&gt;\n            &lt;groupId&gt;com.hongweiyi.blog&lt;/groupId&gt;\n            &lt;artifactId&gt;project-c&lt;/artifactId&gt;\n          &lt;/exclusion&gt;\n      &lt;exclusions&gt;\n   &lt;/dependency&gt;\n   &lt;dependency&gt;        &lt;!-- project-c 1.1.0 --&gt;\n     &lt;groupId&gt;com.hongweiyi.blog&lt;/groupId&gt;\n     &lt;artifactId&gt;project-c&lt;/artifactId&gt;\n     &lt;version&gt;1.1.0&lt;/version&gt;\n   &lt;/dependency&gt;\n&lt;/dependencies&gt;\n&lt;/project&gt;\n\n\t[/code]\n\n\t&nbsp;\n\n> Maven","slug":"maven-coordinates-dependencies","published":1,"updated":"2015-12-29T13:31:03.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciirfw70k004usv8f4razkxdy"},{"title":"Map/Reduce Task","id":"603","date":"2012-10-18T14:22:02.000Z","_content":"\n****\n\nMap/ReduceMapReduce Task@[lidonghua1990](http://weibo.com/getix2010)ReduceTaskReduceReduce\n<!--more-->\n\n&#160;\n\n****\n\n**[![clip_image001[4]](http://hongweiyi.com/wp-content/uploads/2012/10/clip_image0014_thumb.jpg \"clip_image001[4]\")](http://hongweiyi.com/wp-content/uploads/2012/10/clip_image0014.jpg)**\n\n-----------------------------Start-----------------------------------    <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\" width=\"642\"><tbody>       <tr>         <td valign=\"top\" width=\"640\">           <p>******Map Phrase******\n\n// MapTask\n\n**1\\. map.run();**\n\n&#160; |- map(getCurrentKey(), getCurrentValue(), context);\n\n// MapTask$NewOutputCollector\n\n**2\\. context.write(key, value);**\n\n&#160; |- collector.collect(key, value, partioner.getPartition());\n\n// MapTask$MapOutputBuffer\n\n**3\\. startSpill();**\n\n&#160; |- spillReady.signal(); // spillThread is waiting\n\n&#160; |- spillThread.sortAndSpill();\n\n&#160; |--- sorter.sort();&#160;&#160;&#160;&#160;&#160;&#160; // default: QuickSort.class\n\n&#160; |--- if (combiner != null) combiner.combine();\n\n&#160; |--- writer.close();&#160;&#160;&#160;&#160; // flush data\n\n// MapTask$NewOutputCollector\n\n// MapTask$MapOutputBuffer\n\n**4\\. output.close(context);**\n\n&#160; |- collector.flush();\n\n&#160; |--- SortAndSpill();&#160;&#160;&#160; // output last mem data\n\n&#160; |--- MergeParts();\n\n&#160; |----- Merge.merge();&#160; // merge and sort\n\n&#160; |----- combinerRunner.combine(kvIter, combineCollector);\n         </td>       </tr>     </tbody></table> </p>  \n\n----------------------Tmp Data(On disk)-------------------------------\n\n[![Image](http://hongweiyi.com/wp-content/uploads/2012/10/Image_thumb.jpg \"Image\")](http://hongweiyi.com/wp-content/uploads/2012/10/Image.jpg)&#160;&#160; <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\" width=\"645\"><tbody>       <tr>         <td valign=\"top\" width=\"643\">           <p>******Reduce Phrase******\n\n// LocalJobRunner$Job\n\n**0\\. reduce.run(localConf, this);**\n\n// ReduceTask\n\n**1\\. reduceCopier.fetchOutputs();** // only if data is on HDFS\n\n&#160; |- copier.start(); // **mapred.reduce.parallel.copies** MapOutputCopiers\n\n&#160; |--- copyOutput(loc); // loc is the location in buffer\n\n&#160; |----- getMapOutput(); // from remote host to a ramfs/localFS file\n\n&#160; |------- // setup connection, validates header\n\n&#160; |------- boolean shuffleInMemory = ramManager.canFitInMemory(decompressedLength); // check if data fit in mem else use localFS\n\n&#160; |------- shuffleInMemory(); / shuffleToDisk(); // return a MapOutput\n\n&#160; |----- // add to list (if in mem) / rename to final name (if in localFS)\n\n&#160; |- localFSMergerThread.start(); // ReduceTask$ReduceCopier$LocalFSMerger.run()\n\n&#160; |--- // wait if number of files &lt; 2*ioSortFactor - 1\n\n&#160; |--- Merger.merge(**sortSegments==true**); // merge **io.sort.factor** files ino 1\n\n&#160; |- inMemFSMergeThread.start(); // ReduceTask$ReduceCopier$InMemFSMergeThread.run()\n\n&#160; |--- ramManager.waitForDataToMerge();\n\n&#160; |--- doInMemMerge();\n\n&#160; |----- createInMemorySegments(...);\n\n&#160; |----- Merger.merge(**sortSegments==false**);\n\n&#160; |--- if (combinerRunner != null) combinerRunner.combine(rIter, combineCollector);\n\n&#160; |- // schedule until get all required outputs (using exp-back-off for retries on failures)\n\n// multi-pass (**factor** segments/pass), using **hadoop.util.PriorityQueue**\n\n**2\\. Merger.merge();**\n\n&#160; |- factor = getPassFactor(); // btw: first pass is special\n\n&#160; |- // set segmentsToMerge (sorted) and put them into PriorityQueue\n\n&#160; |- // merge into a temp file, add to **MergeQueue.segments**, and sort\n\n&#160; |- // loop until number of segments &lt; factor\n\n**3\\. runReducer();**\n         </td>       </tr>     </tbody></table> </p>  \n\n-----------------------------Done------------------------------------\n\n****\n\n**1******\n\nsortAndSpill();\n\nmappermapio.sort.mb(100MB) * io.sort.spill.percent(0.8)\n\ncircle bufferhadoopcaibinbupt[1](http://caibinbupt.iteye.com/blog/402849)[2](http://caibinbupt.iteye.com/blog/402214)\n\nbytemapkv\n\n\n\nmapreducekvindiceskvpair1[partion1, key1_start, value1_start], kvpair2[partition2, key2_start, value2_start]kvoffsetskvindiceskvpairkvoffsetspartitionkeykvoffsets\n\n**[](http://hongweiyi.com/wp-content/uploads/2012/10/clip_image0054.jpg)**\n\n**[![Image](http://hongweiyi.com/wp-content/uploads/2012/10/Image_thumb1.jpg \"Image\")](http://hongweiyi.com/wp-content/uploads/2012/10/Image1.jpg)**\n\n** 2********combine******\n\n mapcombinemin.num.spills.for.combine3spill3\n\n mapcombine\n\n reducecombineinMemFSMergeThread\n\nlocalFSMergerThreadcombinecombinereduce\n\n**3********segment********group******\n\n**segment**\n\nmappartitionsegmentpartition0/1/2spill.outsegment\n\nsegmentmapmerge spillsreducemergemapcopy\n\n[![Image](http://hongweiyi.com/wp-content/uploads/2012/10/Image_thumb2.jpg \"Image\")](http://hongweiyi.com/wp-content/uploads/2012/10/Image2.jpg)&#160;**group**\n\nreducereduce()groupkeygroupHadoop8\n\n**4******\n\nMapspillReducecopyPhrasehadoopMergerMergersegmentMerger$Segment\n\nSegment\n\nMergermergeMergeQueuemergeMergeQueuePriorityQueuehadoopMergerlessThan(a,b)segmentkeycomparatorio.sort.factor(10)\n\n****\n\n1**map******\n\nmap(key1, value1); (key1, value2); (key1, value3)(key1, list(value1, value2, value3))\n\n\n\n keylistcombiner\n\n**2********mr******\n\n**[Spark](http://www.spark-project.org/)****[Storm](https://github.com/nathanmarz/storm)**\n\n****\n  > [MapReduce: Shuffle](http://langyu.iteye.com/blog/992916)\n> \n> [caibinbupt](http://caibinbupt.iteye.com/blog/401374)\n> \n> hadoop  \n\nP.S.:  0.20.203.0","source":"_posts/mapreduce-task-src-analysis.md","raw":"title: Map/Reduce Task\ntags:\n  - Hadoop\n  - MapReduce\nid: 603\ncategories:\n  - \ndate: 2012-10-18 22:22:02\n---\n\n****\n\nMap/ReduceMapReduce Task@[lidonghua1990](http://weibo.com/getix2010)ReduceTaskReduceReduce\n<!--more-->\n\n&#160;\n\n****\n\n**[![clip_image001[4]](http://hongweiyi.com/wp-content/uploads/2012/10/clip_image0014_thumb.jpg \"clip_image001[4]\")](http://hongweiyi.com/wp-content/uploads/2012/10/clip_image0014.jpg)**\n\n-----------------------------Start-----------------------------------    <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\" width=\"642\"><tbody>       <tr>         <td valign=\"top\" width=\"640\">           <p>******Map Phrase******\n\n// MapTask\n\n**1\\. map.run();**\n\n&#160; |- map(getCurrentKey(), getCurrentValue(), context);\n\n// MapTask$NewOutputCollector\n\n**2\\. context.write(key, value);**\n\n&#160; |- collector.collect(key, value, partioner.getPartition());\n\n// MapTask$MapOutputBuffer\n\n**3\\. startSpill();**\n\n&#160; |- spillReady.signal(); // spillThread is waiting\n\n&#160; |- spillThread.sortAndSpill();\n\n&#160; |--- sorter.sort();&#160;&#160;&#160;&#160;&#160;&#160; // default: QuickSort.class\n\n&#160; |--- if (combiner != null) combiner.combine();\n\n&#160; |--- writer.close();&#160;&#160;&#160;&#160; // flush data\n\n// MapTask$NewOutputCollector\n\n// MapTask$MapOutputBuffer\n\n**4\\. output.close(context);**\n\n&#160; |- collector.flush();\n\n&#160; |--- SortAndSpill();&#160;&#160;&#160; // output last mem data\n\n&#160; |--- MergeParts();\n\n&#160; |----- Merge.merge();&#160; // merge and sort\n\n&#160; |----- combinerRunner.combine(kvIter, combineCollector);\n         </td>       </tr>     </tbody></table> </p>  \n\n----------------------Tmp Data(On disk)-------------------------------\n\n[![Image](http://hongweiyi.com/wp-content/uploads/2012/10/Image_thumb.jpg \"Image\")](http://hongweiyi.com/wp-content/uploads/2012/10/Image.jpg)&#160;&#160; <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\" width=\"645\"><tbody>       <tr>         <td valign=\"top\" width=\"643\">           <p>******Reduce Phrase******\n\n// LocalJobRunner$Job\n\n**0\\. reduce.run(localConf, this);**\n\n// ReduceTask\n\n**1\\. reduceCopier.fetchOutputs();** // only if data is on HDFS\n\n&#160; |- copier.start(); // **mapred.reduce.parallel.copies** MapOutputCopiers\n\n&#160; |--- copyOutput(loc); // loc is the location in buffer\n\n&#160; |----- getMapOutput(); // from remote host to a ramfs/localFS file\n\n&#160; |------- // setup connection, validates header\n\n&#160; |------- boolean shuffleInMemory = ramManager.canFitInMemory(decompressedLength); // check if data fit in mem else use localFS\n\n&#160; |------- shuffleInMemory(); / shuffleToDisk(); // return a MapOutput\n\n&#160; |----- // add to list (if in mem) / rename to final name (if in localFS)\n\n&#160; |- localFSMergerThread.start(); // ReduceTask$ReduceCopier$LocalFSMerger.run()\n\n&#160; |--- // wait if number of files &lt; 2*ioSortFactor - 1\n\n&#160; |--- Merger.merge(**sortSegments==true**); // merge **io.sort.factor** files ino 1\n\n&#160; |- inMemFSMergeThread.start(); // ReduceTask$ReduceCopier$InMemFSMergeThread.run()\n\n&#160; |--- ramManager.waitForDataToMerge();\n\n&#160; |--- doInMemMerge();\n\n&#160; |----- createInMemorySegments(...);\n\n&#160; |----- Merger.merge(**sortSegments==false**);\n\n&#160; |--- if (combinerRunner != null) combinerRunner.combine(rIter, combineCollector);\n\n&#160; |- // schedule until get all required outputs (using exp-back-off for retries on failures)\n\n// multi-pass (**factor** segments/pass), using **hadoop.util.PriorityQueue**\n\n**2\\. Merger.merge();**\n\n&#160; |- factor = getPassFactor(); // btw: first pass is special\n\n&#160; |- // set segmentsToMerge (sorted) and put them into PriorityQueue\n\n&#160; |- // merge into a temp file, add to **MergeQueue.segments**, and sort\n\n&#160; |- // loop until number of segments &lt; factor\n\n**3\\. runReducer();**\n         </td>       </tr>     </tbody></table> </p>  \n\n-----------------------------Done------------------------------------\n\n****\n\n**1******\n\nsortAndSpill();\n\nmappermapio.sort.mb(100MB) * io.sort.spill.percent(0.8)\n\ncircle bufferhadoopcaibinbupt[1](http://caibinbupt.iteye.com/blog/402849)[2](http://caibinbupt.iteye.com/blog/402214)\n\nbytemapkv\n\n\n\nmapreducekvindiceskvpair1[partion1, key1_start, value1_start], kvpair2[partition2, key2_start, value2_start]kvoffsetskvindiceskvpairkvoffsetspartitionkeykvoffsets\n\n**[](http://hongweiyi.com/wp-content/uploads/2012/10/clip_image0054.jpg)**\n\n**[![Image](http://hongweiyi.com/wp-content/uploads/2012/10/Image_thumb1.jpg \"Image\")](http://hongweiyi.com/wp-content/uploads/2012/10/Image1.jpg)**\n\n** 2********combine******\n\n mapcombinemin.num.spills.for.combine3spill3\n\n mapcombine\n\n reducecombineinMemFSMergeThread\n\nlocalFSMergerThreadcombinecombinereduce\n\n**3********segment********group******\n\n**segment**\n\nmappartitionsegmentpartition0/1/2spill.outsegment\n\nsegmentmapmerge spillsreducemergemapcopy\n\n[![Image](http://hongweiyi.com/wp-content/uploads/2012/10/Image_thumb2.jpg \"Image\")](http://hongweiyi.com/wp-content/uploads/2012/10/Image2.jpg)&#160;**group**\n\nreducereduce()groupkeygroupHadoop8\n\n**4******\n\nMapspillReducecopyPhrasehadoopMergerMergersegmentMerger$Segment\n\nSegment\n\nMergermergeMergeQueuemergeMergeQueuePriorityQueuehadoopMergerlessThan(a,b)segmentkeycomparatorio.sort.factor(10)\n\n****\n\n1**map******\n\nmap(key1, value1); (key1, value2); (key1, value3)(key1, list(value1, value2, value3))\n\n\n\n keylistcombiner\n\n**2********mr******\n\n**[Spark](http://www.spark-project.org/)****[Storm](https://github.com/nathanmarz/storm)**\n\n****\n  > [MapReduce: Shuffle](http://langyu.iteye.com/blog/992916)\n> \n> [caibinbupt](http://caibinbupt.iteye.com/blog/401374)\n> \n> hadoop  \n\nP.S.:  0.20.203.0","slug":"mapreduce-task-src-analysis","published":1,"updated":"2015-12-29T13:31:03.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciirfw70m004ysv8fd4z2ylgl"},{"title":"MapReduce","id":"265","date":"2012-02-11T15:36:10.000Z","_content":"\n****\n\n&lt;[MapReduce](http://www.hongweiyi.com/?p=250)&gt;Hadoop&lt;[](http://dongxicheng.org/tag/hadoop%E4%BC%98%E5%8C%96/)&gt;&lt;[](http://www.tbdata.org/archives/1470)&gt;140M4.9M\n <!--more-->  \n\n****\n\nPageRank100W3.22Gmap task\n\n3.22G100W32kbsplit64M2W500&lt;URL_ID AER_PR&gt;152W50015b = 150M\n\nmap task140.6M\n\n****\n\n**1****combiner**\n\nMapreduceCombinermapreduceHadoopmap task\n\nCombiner\n\n1combinermapmapspillmerge\n\n2mapperreducercombinerconf\n\n3jobcombinercombinercombineopt(opt(1, 2, 3), opt(4, 5, 6))opt\n\n4combinerreducer\n\nPageRankreducecombine\n  > job.setCombinerClass(PRReducer.class);  \n\n28.3M20%\n\n**2******\n\nHadoopcodeccodec    <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>       <tr>         <td valign=\"top\" width=\"123\">           <p>****\n         </td>          <td valign=\"top\" width=\"406\">           \n\n**HadoopCompressionCodec**\n         </td>       </tr>        <tr>         <td valign=\"top\" width=\"123\">           \n\nDEFLATE\n         </td>          <td valign=\"top\" width=\"406\">           \n\norg.apache.hadoop.io.compress.DefaultCodec\n         </td>       </tr>        <tr>         <td valign=\"top\" width=\"123\">           \n\ngzip\n         </td>          <td valign=\"top\" width=\"406\">           \n\norg.apache.hadoop.io.compress.GzipCodec\n         </td>       </tr>        <tr>         <td valign=\"top\" width=\"123\">           \n\nbzip2\n         </td>          <td valign=\"top\" width=\"406\">           \n\norg.apache.hadoop.io.compress.BZip2Codec\n         </td>       </tr>        <tr>         <td valign=\"top\" width=\"123\">           \n\nLZO\n         </td>          <td valign=\"top\" width=\"406\">           \n\ncom.hadoop.compression.lzo.LzopCodec\n         </td>       </tr>     </tbody></table> </p>  \n\n\n  > conf.setBoolean(&quot;mapred.compress.map.output&quot;, true);\n> \n> conf.set (&quot;mapred.map.output.compression.codec&quot;, &quot;***Codec&quot;);  \n\ncpuLzoCodecGPLApache**[Google Code](http://code.google.com/p/hadoop-gpl-compression)****[GitHub](https://github.com/kevinweil/hadoop-lzo)**\n\nDefaultCodec29%\n\n**3******\n\n[![clip_image002](http://www.hongweiyi.com/wp-content/uploads/2012/02/clip_image002_thumb.jpg \"clip_image002\")](http://www.hongweiyi.com/wp-content/uploads/2012/02/clip_image002.jpg)\n\n valueDoubleWritablevalue20\n\ndouble659%job conf\n\n****\n\n140.6M4.9M3.49%jobcombine\n\n\n  > ****\n> \n> &lt; [hadoop](http://www.tbdata.org/archives/1470)&gt;\n> \n> &lt;Hadoop &gt;","source":"_posts/mapred-optimize.md","raw":"title: MapReduce\ntags:\n  - Hadoop\n  - MapReduce\nid: 265\ncategories:\n  - \ndate: 2012-02-11 23:36:10\n---\n\n****\n\n&lt;[MapReduce](http://www.hongweiyi.com/?p=250)&gt;Hadoop&lt;[](http://dongxicheng.org/tag/hadoop%E4%BC%98%E5%8C%96/)&gt;&lt;[](http://www.tbdata.org/archives/1470)&gt;140M4.9M\n <!--more-->  \n\n****\n\nPageRank100W3.22Gmap task\n\n3.22G100W32kbsplit64M2W500&lt;URL_ID AER_PR&gt;152W50015b = 150M\n\nmap task140.6M\n\n****\n\n**1****combiner**\n\nMapreduceCombinermapreduceHadoopmap task\n\nCombiner\n\n1combinermapmapspillmerge\n\n2mapperreducercombinerconf\n\n3jobcombinercombinercombineopt(opt(1, 2, 3), opt(4, 5, 6))opt\n\n4combinerreducer\n\nPageRankreducecombine\n  > job.setCombinerClass(PRReducer.class);  \n\n28.3M20%\n\n**2******\n\nHadoopcodeccodec    <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>       <tr>         <td valign=\"top\" width=\"123\">           <p>****\n         </td>          <td valign=\"top\" width=\"406\">           \n\n**HadoopCompressionCodec**\n         </td>       </tr>        <tr>         <td valign=\"top\" width=\"123\">           \n\nDEFLATE\n         </td>          <td valign=\"top\" width=\"406\">           \n\norg.apache.hadoop.io.compress.DefaultCodec\n         </td>       </tr>        <tr>         <td valign=\"top\" width=\"123\">           \n\ngzip\n         </td>          <td valign=\"top\" width=\"406\">           \n\norg.apache.hadoop.io.compress.GzipCodec\n         </td>       </tr>        <tr>         <td valign=\"top\" width=\"123\">           \n\nbzip2\n         </td>          <td valign=\"top\" width=\"406\">           \n\norg.apache.hadoop.io.compress.BZip2Codec\n         </td>       </tr>        <tr>         <td valign=\"top\" width=\"123\">           \n\nLZO\n         </td>          <td valign=\"top\" width=\"406\">           \n\ncom.hadoop.compression.lzo.LzopCodec\n         </td>       </tr>     </tbody></table> </p>  \n\n\n  > conf.setBoolean(&quot;mapred.compress.map.output&quot;, true);\n> \n> conf.set (&quot;mapred.map.output.compression.codec&quot;, &quot;***Codec&quot;);  \n\ncpuLzoCodecGPLApache**[Google Code](http://code.google.com/p/hadoop-gpl-compression)****[GitHub](https://github.com/kevinweil/hadoop-lzo)**\n\nDefaultCodec29%\n\n**3******\n\n[![clip_image002](http://www.hongweiyi.com/wp-content/uploads/2012/02/clip_image002_thumb.jpg \"clip_image002\")](http://www.hongweiyi.com/wp-content/uploads/2012/02/clip_image002.jpg)\n\n valueDoubleWritablevalue20\n\ndouble659%job conf\n\n****\n\n140.6M4.9M3.49%jobcombine\n\n\n  > ****\n> \n> &lt; [hadoop](http://www.tbdata.org/archives/1470)&gt;\n> \n> &lt;Hadoop &gt;","slug":"mapred-optimize","published":1,"updated":"2015-12-29T13:31:03.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciirfw70o0054sv8frqas5vbl"},{"title":"MapReduce  Writable","id":"588","date":"2012-09-27T13:44:55.000Z","_content":"\n****\n\nMapReduce[MapReduce](http://www.hongweiyi.com/2012/02/mapred-optimize/)MR\n\nMapReduceWordCount -&gt;  -&gt; \n<!--more-->  \n\nSequenceFile4M   <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>       <tr>         <td valign=\"top\" width=\"568\">           <p>word1 freq1\\n\n\nword2 freq2\\n\n\nword3 freq3\\n\n         </td>       </tr>     </tbody></table> </p>  \n\n******Writable**\n\n\n\n1\n\n2\n\n3(word, freq)(word, ONE)\n\n   <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>       <tr>         <td valign=\"top\" width=\"568\">           <p>1\\. String str = value.toString(); \n\n2\\. String[] ln = str.split(&quot;\\n&quot;); \n\n3\\. for(String l : ln) {\n\n4.&#160;&#160;&#160;&#160; String[] words = ln.split(&quot; &quot;);\n\n5.&#160;&#160;&#160;&#160; context.write(new Text(words[0]), new LongWritable(1));\n\n6.&#160;&#160;&#160;&#160; context.write(new Text(words[0]), new LongWritable(Long.parseLong(words[1]));\n\n7\\. }\n         </td>       </tr>     </tbody></table> </p>  \n\n\n\n11valuetoStringdecodedecode\n\n22split(&quot;\\n&quot;)\n\n356TextLongWritableGC\n\n12decodebyteTextWritableTextnextLine()nextLine()nextWord()nextFreq()\n\n3HadoopExampleKEYVALUEsetKEYVALUELongWritableIntWritable\n\nmapcontext.write()d_freq#freq\n\n   <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>       <tr>         <td valign=\"top\" width=\"568\">           <p>1\\. while (value.hasNext()) {\n\n2.&#160;&#160;&#160;&#160; KEY.set(value.nextWord());\n\n3.&#160;&#160;&#160;&#160; VALUE.set(&quot;1#&quot; + value.nextFreq());\n\n4.&#160;&#160;&#160;&#160; context.write(KEY, VALUE);\n\n5\\. }\n         </td>       </tr>     </tbody></table> </p>  \n\n****\n\n300Gmap task3'30''45''FILE_BYTE_WRITEN1000G450G430\n\nP.S.: 20\n\n****\n\nGzip44%map task45''1'20''Lzo","source":"_posts/mapred-optimize-writable.md","raw":"title: MapReduce  Writable\ntags:\n  - Hadoop\n  - MapReduce\nid: 588\ncategories:\n  - \ndate: 2012-09-27 21:44:55\n---\n\n****\n\nMapReduce[MapReduce](http://www.hongweiyi.com/2012/02/mapred-optimize/)MR\n\nMapReduceWordCount -&gt;  -&gt; \n<!--more-->  \n\nSequenceFile4M   <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>       <tr>         <td valign=\"top\" width=\"568\">           <p>word1 freq1\\n\n\nword2 freq2\\n\n\nword3 freq3\\n\n         </td>       </tr>     </tbody></table> </p>  \n\n******Writable**\n\n\n\n1\n\n2\n\n3(word, freq)(word, ONE)\n\n   <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>       <tr>         <td valign=\"top\" width=\"568\">           <p>1\\. String str = value.toString(); \n\n2\\. String[] ln = str.split(&quot;\\n&quot;); \n\n3\\. for(String l : ln) {\n\n4.&#160;&#160;&#160;&#160; String[] words = ln.split(&quot; &quot;);\n\n5.&#160;&#160;&#160;&#160; context.write(new Text(words[0]), new LongWritable(1));\n\n6.&#160;&#160;&#160;&#160; context.write(new Text(words[0]), new LongWritable(Long.parseLong(words[1]));\n\n7\\. }\n         </td>       </tr>     </tbody></table> </p>  \n\n\n\n11valuetoStringdecodedecode\n\n22split(&quot;\\n&quot;)\n\n356TextLongWritableGC\n\n12decodebyteTextWritableTextnextLine()nextLine()nextWord()nextFreq()\n\n3HadoopExampleKEYVALUEsetKEYVALUELongWritableIntWritable\n\nmapcontext.write()d_freq#freq\n\n   <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>       <tr>         <td valign=\"top\" width=\"568\">           <p>1\\. while (value.hasNext()) {\n\n2.&#160;&#160;&#160;&#160; KEY.set(value.nextWord());\n\n3.&#160;&#160;&#160;&#160; VALUE.set(&quot;1#&quot; + value.nextFreq());\n\n4.&#160;&#160;&#160;&#160; context.write(KEY, VALUE);\n\n5\\. }\n         </td>       </tr>     </tbody></table> </p>  \n\n****\n\n300Gmap task3'30''45''FILE_BYTE_WRITEN1000G450G430\n\nP.S.: 20\n\n****\n\nGzip44%map task45''1'20''Lzo","slug":"mapred-optimize-writable","published":1,"updated":"2015-12-29T13:31:03.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciirfw70q0058sv8f8mv2ecg5"},{"title":"Shell ","id":"647","date":"2013-01-19T14:41:44.000Z","_content":"\n**3.0 ******\n\n\tLinux/Unix&ldquo;&rdquo;\n\n> 1\r> \n> \n> \t\t2\r> \n> \n> \t\t3Unix\r> \n> \n> \t\t4\r> \n> \n> \t\t5\n\n\tawksed\n\n\t<!--more-->\n\n\t&nbsp;\n\n\t**3.1 ******\n\n\t**echo******\n\n\techopythonprintecho\n\n\t**cat********Concatenate******\n\n\tconcatenatesplit\n\n\t**|******\n\n\tLinux Linux fileVFSinode file  VFS  VFS \n\n\t[Linux](http://oss.org.cn/kernel-book/ch07/7.1.1.htm)\n\n\t****\n\n\t&gt;: \n\n\t&gt;&gt;: \n\n\t\n\n\t012 2&gt;&amp;1linux/dev/null&ldquo;&rdquo;\n\n\t**read:**\n\n\tUsage: read [option] [var(default:REPLY)]\n\n\t\n\n<table border=\"1\" cellpadding=\"0\" cellspacing=\"0\" width=\"619\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td valign=\"top\" width=\"617\">\n\n\t\t\t\t\t&nbsp; &gt;&gt; $ echo &quot;hello world&quot; &gt; new.txt\n\n\t\t\t\t\t&nbsp; &gt;&gt; $ cat new.txt\n\n\t\t\t\t\t&nbsp; hello world\n\n\t\t\t\t\t&nbsp; &gt;&gt; $ echo &quot;again&quot; &gt;&gt; new.txt\n\n\t\t\t\t\t&nbsp; &gt;&gt; $ cat new.txt\n\n\t\t\t\t\t&nbsp; hello world\n\n\t\t\t\t\t&nbsp; again\n\n\t\t\t\t\t&nbsp; &gt;&gt; $ echo &quot;col1 col2&quot; | awk &#39;{print $1}&#39;\n\n\t\t\t\t\t&nbsp; col1\n\n\t\t\t\t\t&nbsp; &gt;&gt; $ read newline &lt; new.txt; echo $newline\n\n\t\t\t\t\t&nbsp; hello world\n\n\t\t\t\t\t&nbsp; &gt;&gt; $ read &lt; new.txt; echo $REPLY\n\n\t\t\t\t\t&nbsp; hello world\n\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n> **TIPS1:** readwhilecat file | while read line; do do_sth; done;\r> \n> \n> \t\t**TIPS2:** 2&gt;&amp;1/dev/null/bin/sh your.sh &gt; /dev/null 2&gt;&amp;1\r> \n> \n> \t\t**TIPS3:** Linuxtouch&quot;&gt; newfile&quot;\n\n\t&nbsp;\n\n\t**3.2&nbsp;******\n\n\tcatheadtailmoreless\n\n\t**head(tail)**\n\n\t\n\n\t**more**\n\n\tq(ctrl+c)\n\n\t**less**\n\n\tmoreu(up)d(down)\n\n<table border=\"1\" cellpadding=\"0\" cellspacing=\"0\" width=\"629\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td valign=\"top\" width=\"627\">\n\n\t\t\t\t\t&nbsp; &gt;&gt; $ tail -n 1000 file | more&nbsp;&nbsp;&nbsp; # 1k\n\n\t\t\t\t\t&nbsp; &gt;&gt; $ head -n 10010 file | tail&nbsp;&nbsp;&nbsp;&nbsp; # 10k\n\n\t\t\t\t\t&nbsp; &gt;&gt; $ head -c 1(b|k|m) file&nbsp;&nbsp;&nbsp; # 1B|K|M\n\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n\t&nbsp;\n\n\t**3.3&nbsp;******\n\n\tutf8\n\n\t**file:**\n\n\tBOMfilegbkutf8\n\n\t**iconv:**\n\n\t\n\n<table border=\"1\" cellpadding=\"0\" cellspacing=\"0\" width=\"632\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td valign=\"top\" width=\"630\">\n\n\t\t\t\t\t&nbsp; &gt;&gt; $ iconv -f from_code -t to_code file\n\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n\t\n\n> **TIPS1:** \r> \n> \n> \t\t**TIPS2:** utf8gbk\r> \n> \n> \t<table border=\"1\" cellpadding=\"0\" cellspacing=\"0\" width=\"605\">\r> \n> \t\t<tbody>\r> \n> \t\t\t<tr>\r> \n> \t\t\t\t<td valign=\"top\" width=\"603\">\r> \n> \n> \t\t\t\t\t\t&nbsp; &gt;&gt; $ echo -e &quot;\\n&quot;alias conv_gbk=\\&quot;iconv -f gbk -t utf8\\&quot; &gt;&gt; ~/.bashrc\r> \n> \n> \t\t\t\t\t\t&nbsp; &gt;&gt; $ source ~/.bashrc\r> \n> \n> \t\t\t\t\t\t&nbsp; &gt;&gt; $ cat file | conv_gbk\r> \n> \n> \t\t\t\t</td>\r> \n> \t\t\t</tr>\r> \n> \t\t</tbody>\r> \n> \t</table>\n\n\t**3.4&nbsp;******\n\n\t**grep:**\n\n\tgrep\n\n<table border=\"1\" cellpadding=\"0\" cellspacing=\"0\" width=\"636\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td valign=\"top\" width=\"634\">\n\n\t\t\t\t\t&nbsp; &gt;&gt; $ grep [pattern] [file]&nbsp;&nbsp;&nbsp; # grepfilepattern\n\n\t\t\t\t\t&nbsp; &gt;&gt; $ grep -v pattern file&nbsp;&nbsp;&nbsp; # filepattern\n\n\t\t\t\t\t&nbsp; &gt;&gt; $ grep pattern . -r&nbsp;&nbsp;&nbsp; # -r recursive pattern\n\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n\t**wc:**\n\n\twordcount\n\n<table border=\"1\" cellpadding=\"0\" cellspacing=\"0\" width=\"635\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td valign=\"top\" width=\"633\">\n\n\t\t\t\t\t&nbsp; &gt;&gt; $ wc -l file&nbsp;&nbsp;&nbsp; # file\n\n\t\t\t\t\t&nbsp; &gt;&gt; $ ls . | wc -l&nbsp;&nbsp;&nbsp; # \n\n\t\t\t\t\t&nbsp; &gt;&gt; $ grep pattern file | wc -l&nbsp;&nbsp;&nbsp; # filepattern\n\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n\t**sort:**\n\n\t\n\n<table border=\"1\" cellpadding=\"0\" cellspacing=\"0\" width=\"634\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td valign=\"top\" width=\"632\">\n\n\t\t\t\t\t&nbsp; &gt;&gt; $ sort -k n (-n) (-r) file&nbsp;&nbsp; # nfile-n numeric-sort -r reverse\n\n\t\t\t\t\t&nbsp; &gt;&gt; $ ls -l . | sort -k 5 -n&nbsp;&nbsp;&nbsp; # \n\n\t\t\t\t\t&nbsp; &gt;&gt; $ ls -l . | sort -k5n -k6&nbsp;&nbsp;&nbsp; # \n\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n\t**uniq:**\n\n\t\n\n<table border=\"1\" cellpadding=\"0\" cellspacing=\"0\" width=\"633\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td valign=\"top\" width=\"631\">\n\n\t\t\t\t\t&nbsp; &gt;&gt; $ cat file\n\n\t\t\t\t\t&nbsp; test1\n\n\t\t\t\t\t&nbsp; test2\n\n\t\t\t\t\t&nbsp; test2\n\n\t\t\t\t\t&nbsp; test1\n\n\t\t\t\t\t&nbsp; &gt;&gt; $ uniq file\n\n\t\t\t\t\t&nbsp; test1\n\n\t\t\t\t\t&nbsp; test2\n\n\t\t\t\t\t&nbsp; test1\n\n\t\t\t\t\t&nbsp; &gt;&gt; $ sort file | uniq&nbsp;&nbsp;&nbsp;&nbsp; # \n\n\t\t\t\t\t&nbsp; test1\n\n\t\t\t\t\t&nbsp; test2\n\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n\t**diff &amp; patch:**\n\n\tsvndiffdiffpatch\n\n\t**[diffpatch](https://www.ibm.com/developerworks/cn/linux/l-diffp/)**\n\n\t**awk &amp; sed:**\n\n\tsed(stream editor)awkawk\n\n<table border=\"1\" cellpadding=\"0\" cellspacing=\"0\" width=\"632\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td valign=\"top\" width=\"630\">\n\n\t\t\t\t\t&nbsp; &gt;&gt; $ echo &quot;col1 col2 col3&quot; | awk &#39;{print $1&quot;\\t&quot;$3}&#39;&nbsp;&nbsp;&nbsp; # $0 $1col1 $2col2 $3col3 ...\n\n\t\t\t\t\t&nbsp; col1[tab]col3\n\n\t\t\t\t\t&nbsp; &gt;&gt; $ echo &quot;col1 col2 col3&quot; | awk &#39;{print $1, $3}&#39;\n\n\t\t\t\t\t&nbsp; col1[space]col3\n\n\t\t\t\t\t&nbsp; &gt;&gt; $ sed -i &quot;s/pattern/replace_pattern/g&quot; file&nbsp;&nbsp;&nbsp; # \n\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n> **WARNING:** sed -i &quot;s/char/replace_char/g&quot;asciigbk128sed","source":"_posts/linux-text-shell.md","raw":"title: Shell \ntags:\n  - Linux\n  - Shell\nid: 647\ncategories:\n  - \ndate: 2013-01-19 22:41:44\n---\n\n**3.0 ******\n\n\tLinux/Unix&ldquo;&rdquo;\n\n> 1\r> \n> \n> \t\t2\r> \n> \n> \t\t3Unix\r> \n> \n> \t\t4\r> \n> \n> \t\t5\n\n\tawksed\n\n\t<!--more-->\n\n\t&nbsp;\n\n\t**3.1 ******\n\n\t**echo******\n\n\techopythonprintecho\n\n\t**cat********Concatenate******\n\n\tconcatenatesplit\n\n\t**|******\n\n\tLinux Linux fileVFSinode file  VFS  VFS \n\n\t[Linux](http://oss.org.cn/kernel-book/ch07/7.1.1.htm)\n\n\t****\n\n\t&gt;: \n\n\t&gt;&gt;: \n\n\t\n\n\t012 2&gt;&amp;1linux/dev/null&ldquo;&rdquo;\n\n\t**read:**\n\n\tUsage: read [option] [var(default:REPLY)]\n\n\t\n\n<table border=\"1\" cellpadding=\"0\" cellspacing=\"0\" width=\"619\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td valign=\"top\" width=\"617\">\n\n\t\t\t\t\t&nbsp; &gt;&gt; $ echo &quot;hello world&quot; &gt; new.txt\n\n\t\t\t\t\t&nbsp; &gt;&gt; $ cat new.txt\n\n\t\t\t\t\t&nbsp; hello world\n\n\t\t\t\t\t&nbsp; &gt;&gt; $ echo &quot;again&quot; &gt;&gt; new.txt\n\n\t\t\t\t\t&nbsp; &gt;&gt; $ cat new.txt\n\n\t\t\t\t\t&nbsp; hello world\n\n\t\t\t\t\t&nbsp; again\n\n\t\t\t\t\t&nbsp; &gt;&gt; $ echo &quot;col1 col2&quot; | awk &#39;{print $1}&#39;\n\n\t\t\t\t\t&nbsp; col1\n\n\t\t\t\t\t&nbsp; &gt;&gt; $ read newline &lt; new.txt; echo $newline\n\n\t\t\t\t\t&nbsp; hello world\n\n\t\t\t\t\t&nbsp; &gt;&gt; $ read &lt; new.txt; echo $REPLY\n\n\t\t\t\t\t&nbsp; hello world\n\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n> **TIPS1:** readwhilecat file | while read line; do do_sth; done;\r> \n> \n> \t\t**TIPS2:** 2&gt;&amp;1/dev/null/bin/sh your.sh &gt; /dev/null 2&gt;&amp;1\r> \n> \n> \t\t**TIPS3:** Linuxtouch&quot;&gt; newfile&quot;\n\n\t&nbsp;\n\n\t**3.2&nbsp;******\n\n\tcatheadtailmoreless\n\n\t**head(tail)**\n\n\t\n\n\t**more**\n\n\tq(ctrl+c)\n\n\t**less**\n\n\tmoreu(up)d(down)\n\n<table border=\"1\" cellpadding=\"0\" cellspacing=\"0\" width=\"629\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td valign=\"top\" width=\"627\">\n\n\t\t\t\t\t&nbsp; &gt;&gt; $ tail -n 1000 file | more&nbsp;&nbsp;&nbsp; # 1k\n\n\t\t\t\t\t&nbsp; &gt;&gt; $ head -n 10010 file | tail&nbsp;&nbsp;&nbsp;&nbsp; # 10k\n\n\t\t\t\t\t&nbsp; &gt;&gt; $ head -c 1(b|k|m) file&nbsp;&nbsp;&nbsp; # 1B|K|M\n\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n\t&nbsp;\n\n\t**3.3&nbsp;******\n\n\tutf8\n\n\t**file:**\n\n\tBOMfilegbkutf8\n\n\t**iconv:**\n\n\t\n\n<table border=\"1\" cellpadding=\"0\" cellspacing=\"0\" width=\"632\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td valign=\"top\" width=\"630\">\n\n\t\t\t\t\t&nbsp; &gt;&gt; $ iconv -f from_code -t to_code file\n\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n\t\n\n> **TIPS1:** \r> \n> \n> \t\t**TIPS2:** utf8gbk\r> \n> \n> \t<table border=\"1\" cellpadding=\"0\" cellspacing=\"0\" width=\"605\">\r> \n> \t\t<tbody>\r> \n> \t\t\t<tr>\r> \n> \t\t\t\t<td valign=\"top\" width=\"603\">\r> \n> \n> \t\t\t\t\t\t&nbsp; &gt;&gt; $ echo -e &quot;\\n&quot;alias conv_gbk=\\&quot;iconv -f gbk -t utf8\\&quot; &gt;&gt; ~/.bashrc\r> \n> \n> \t\t\t\t\t\t&nbsp; &gt;&gt; $ source ~/.bashrc\r> \n> \n> \t\t\t\t\t\t&nbsp; &gt;&gt; $ cat file | conv_gbk\r> \n> \n> \t\t\t\t</td>\r> \n> \t\t\t</tr>\r> \n> \t\t</tbody>\r> \n> \t</table>\n\n\t**3.4&nbsp;******\n\n\t**grep:**\n\n\tgrep\n\n<table border=\"1\" cellpadding=\"0\" cellspacing=\"0\" width=\"636\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td valign=\"top\" width=\"634\">\n\n\t\t\t\t\t&nbsp; &gt;&gt; $ grep [pattern] [file]&nbsp;&nbsp;&nbsp; # grepfilepattern\n\n\t\t\t\t\t&nbsp; &gt;&gt; $ grep -v pattern file&nbsp;&nbsp;&nbsp; # filepattern\n\n\t\t\t\t\t&nbsp; &gt;&gt; $ grep pattern . -r&nbsp;&nbsp;&nbsp; # -r recursive pattern\n\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n\t**wc:**\n\n\twordcount\n\n<table border=\"1\" cellpadding=\"0\" cellspacing=\"0\" width=\"635\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td valign=\"top\" width=\"633\">\n\n\t\t\t\t\t&nbsp; &gt;&gt; $ wc -l file&nbsp;&nbsp;&nbsp; # file\n\n\t\t\t\t\t&nbsp; &gt;&gt; $ ls . | wc -l&nbsp;&nbsp;&nbsp; # \n\n\t\t\t\t\t&nbsp; &gt;&gt; $ grep pattern file | wc -l&nbsp;&nbsp;&nbsp; # filepattern\n\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n\t**sort:**\n\n\t\n\n<table border=\"1\" cellpadding=\"0\" cellspacing=\"0\" width=\"634\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td valign=\"top\" width=\"632\">\n\n\t\t\t\t\t&nbsp; &gt;&gt; $ sort -k n (-n) (-r) file&nbsp;&nbsp; # nfile-n numeric-sort -r reverse\n\n\t\t\t\t\t&nbsp; &gt;&gt; $ ls -l . | sort -k 5 -n&nbsp;&nbsp;&nbsp; # \n\n\t\t\t\t\t&nbsp; &gt;&gt; $ ls -l . | sort -k5n -k6&nbsp;&nbsp;&nbsp; # \n\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n\t**uniq:**\n\n\t\n\n<table border=\"1\" cellpadding=\"0\" cellspacing=\"0\" width=\"633\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td valign=\"top\" width=\"631\">\n\n\t\t\t\t\t&nbsp; &gt;&gt; $ cat file\n\n\t\t\t\t\t&nbsp; test1\n\n\t\t\t\t\t&nbsp; test2\n\n\t\t\t\t\t&nbsp; test2\n\n\t\t\t\t\t&nbsp; test1\n\n\t\t\t\t\t&nbsp; &gt;&gt; $ uniq file\n\n\t\t\t\t\t&nbsp; test1\n\n\t\t\t\t\t&nbsp; test2\n\n\t\t\t\t\t&nbsp; test1\n\n\t\t\t\t\t&nbsp; &gt;&gt; $ sort file | uniq&nbsp;&nbsp;&nbsp;&nbsp; # \n\n\t\t\t\t\t&nbsp; test1\n\n\t\t\t\t\t&nbsp; test2\n\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n\t**diff &amp; patch:**\n\n\tsvndiffdiffpatch\n\n\t**[diffpatch](https://www.ibm.com/developerworks/cn/linux/l-diffp/)**\n\n\t**awk &amp; sed:**\n\n\tsed(stream editor)awkawk\n\n<table border=\"1\" cellpadding=\"0\" cellspacing=\"0\" width=\"632\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td valign=\"top\" width=\"630\">\n\n\t\t\t\t\t&nbsp; &gt;&gt; $ echo &quot;col1 col2 col3&quot; | awk &#39;{print $1&quot;\\t&quot;$3}&#39;&nbsp;&nbsp;&nbsp; # $0 $1col1 $2col2 $3col3 ...\n\n\t\t\t\t\t&nbsp; col1[tab]col3\n\n\t\t\t\t\t&nbsp; &gt;&gt; $ echo &quot;col1 col2 col3&quot; | awk &#39;{print $1, $3}&#39;\n\n\t\t\t\t\t&nbsp; col1[space]col3\n\n\t\t\t\t\t&nbsp; &gt;&gt; $ sed -i &quot;s/pattern/replace_pattern/g&quot; file&nbsp;&nbsp;&nbsp; # \n\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n> **WARNING:** sed -i &quot;s/char/replace_char/g&quot;asciigbk128sed","slug":"linux-text-shell","published":1,"updated":"2015-12-29T13:31:03.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciirfw70s005csv8fer5kiwku"},{"title":"Shell ","id":"630","date":"2013-01-17T15:18:50.000Z","_content":"\nshell9&ldquo;&rdquo;&ldquo;&rdquo;&hellip;&hellip;\n\n\t<!--more-->\n\n\t**1.1 ******\n\n\t**[xshell](http://www.netsarang.com/products/xsh_overview.html)**[**putty**](http://www.chiark.greenend.org.uk/~sgtatham/putty/download.html)\n\n\tEncodingTerminal TypeEncodingutf8Terminal TypextermVT100linuxlsscreenHome/EndCtrl+a/e\n\n\t**1.2 shell******\n\n\tPS1\n\n\t[![image](http://hongweiyi.com/wp-content/uploads/2013/01/image_thumb.png \"image\")](http://hongweiyi.com/wp-content/uploads/2013/01/image.png)\n\n<table border=\"1\" cellpadding=\"0\" cellspacing=\"0\" width=\"626\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td valign=\"top\" width=\"624\">\n\n\t\t\t\t\t&nbsp; &gt;&gt; $ echo $PS1\n\n\t\t\t\t\t&nbsp; \\[\\e[31;1m\\]\\u\\[\\e[0m\\]@\\[\\e[32;1m\\]your ip\\[\\e[0m\\]:\\[\\e[35;1m\\]\\w\\[\\e[0m\\]\\\\$\n\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n\tipip\n\n<table border=\"1\" cellpadding=\"0\" cellspacing=\"0\" width=\"626\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td valign=\"top\" width=\"624\">\n\n\t\t\t\t\t&nbsp; &gt;&gt; $ export PS1=&quot;\\[\\e[31;1m\\]\\u\\[\\e[0m\\]@\\[\\e[32;1m\\]`/sbin/ifconfig eth1|grep \"inet&nbsp;&nbsp; addr:\"|cut -d: -f 2|cut -d\" \" -f1`\\[\\e[0m\\]:\\[\\e[35;1m\\]\\w\\[\\e[0m\\]\\\\$ &quot;\n\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n\t**[Linux](http://unix-cd.com/unixcd12/article_7281.html)**\n\n\tPS1~/.bashrcexport PS1=&times;&times;&times;~/.bash_profileshell~/.bashrc\n\n<table border=\"1\" cellpadding=\"0\" cellspacing=\"0\" width=\"625\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td valign=\"top\" width=\"623\">\n\n\t\t\t\t\t&nbsp; # Get the aliases and functions\n\n\t\t\t\t\t&nbsp; if [ -f ~/.bashrc ]; then\n\n\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; . ~/.bashrc\n\n\t\t\t\t\t&nbsp; fi\n\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n\tsource ~/.bashrc\n\n\t&nbsp;\n\n\t**1.3 ******\n\n\t\n\n<table border=\"1\" cellpadding=\"0\" cellspacing=\"0\" width=\"626\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td valign=\"top\" width=\"624\">\n\n\t\t\t\t\t&nbsp; alias ..=&quot;cd ..&quot;\n\n\t\t\t\t\t&nbsp; alias ...=&quot;cd ../..&quot;\n\n\t\t\t\t\t&nbsp;\n\n\t\t\t\t\t&nbsp; alias cd..=&quot;cd ..&quot;\n\n\t\t\t\t\t&nbsp; alias ll=&quot;ls -l&quot;\n\n\t\t\t\t\t&nbsp; alias la=&quot;ls -a&quot;\n\n\t\t\t\t\t&nbsp; alias tree=&quot;~/code/tree&quot;\n\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n\talias~/.bashrc~/code/treeshell\n\n<table border=\"1\" cellpadding=\"0\" cellspacing=\"0\" width=\"626\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td valign=\"top\" width=\"624\">\n\n\t\t\t\t\t&nbsp; #!/bin/sh\n\n\t\t\t\t\t&nbsp; function tree_files()\n\n\t\t\t\t\t&nbsp; {\n\n\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; find . -print 2&gt;/dev/null|\\\n\n\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; awk &#39;!/\\.$/ {for (i=1;i&lt;NF;i++){\\\n\n\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; d=length($i);if ( d &lt; 5 &amp;&amp; i != 1 )d=5;printf(&quot;%&quot;d&quot;s&quot;,&quot;|&quot;)}print &quot;---&quot;$NF}&#39; \\\n\n\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FS=&#39;/&#39; | more\n\n\t\t\t\t\t&nbsp; }\n\n\t\t\t\t\t&nbsp; function tree_dirs()\n\n\t\t\t\t\t&nbsp; {\n\n\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; find . -type d -print 2&gt;/dev/null|\\\n\n\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; awk &#39;!/\\.$/ {for (i=1;i&lt;NF;i++){\\\n\n\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; d=length($i);if ( d &lt; 5 &amp;&amp; i != 1 )d=5;printf(&quot;%&quot;d&quot;s&quot;,&quot;|&quot;)}print &quot;---&quot;$NF}&#39; \\\n\n\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FS=&#39;/&#39; | more\n\n\t\t\t\t\t&nbsp; }\n\n\t\t\t\t\t&nbsp; function help()\n\n\t\t\t\t\t&nbsp; {\n\n\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; echo &quot;Usage: tree [-f|-d]&quot;\n\n\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; echo &quot;&nbsp; -f: list files of current directory&quot;\n\n\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; echo &quot;&nbsp; -d: list direcotries of current directory&quot;\n\n\t\t\t\t\t&nbsp; }\n\n\t\t\t\t\t&nbsp; if [ $# = 0 ]; then\n\n\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tree_dirs\n\n\t\t\t\t\t&nbsp; elif [ $# = 1 ]; then\n\n\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if [ $1 = \"-f\" ]; then\n\n\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tree_files\n\n\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; elif [ $1 = \"-d\" ]; then\n\n\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tree_dirs\n\n\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else\n\n\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; help\n\n\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; fi\n\n\t\t\t\t\t&nbsp; fi\n\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n\t&nbsp;\n\n\t**1.4 ******\n\n\tvim~/.vimrcsyntax onindent\n\n\tshell//\n\n> **BTW**tmuxvimmaketreeshell","source":"_posts/linux-shell-term-tuning.md","raw":"title: Shell \ntags:\n  - Linux\n  - Shell\nid: 630\ncategories:\n  - \ndate: 2013-01-17 23:18:50\n---\n\nshell9&ldquo;&rdquo;&ldquo;&rdquo;&hellip;&hellip;\n\n\t<!--more-->\n\n\t**1.1 ******\n\n\t**[xshell](http://www.netsarang.com/products/xsh_overview.html)**[**putty**](http://www.chiark.greenend.org.uk/~sgtatham/putty/download.html)\n\n\tEncodingTerminal TypeEncodingutf8Terminal TypextermVT100linuxlsscreenHome/EndCtrl+a/e\n\n\t**1.2 shell******\n\n\tPS1\n\n\t[![image](http://hongweiyi.com/wp-content/uploads/2013/01/image_thumb.png \"image\")](http://hongweiyi.com/wp-content/uploads/2013/01/image.png)\n\n<table border=\"1\" cellpadding=\"0\" cellspacing=\"0\" width=\"626\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td valign=\"top\" width=\"624\">\n\n\t\t\t\t\t&nbsp; &gt;&gt; $ echo $PS1\n\n\t\t\t\t\t&nbsp; \\[\\e[31;1m\\]\\u\\[\\e[0m\\]@\\[\\e[32;1m\\]your ip\\[\\e[0m\\]:\\[\\e[35;1m\\]\\w\\[\\e[0m\\]\\\\$\n\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n\tipip\n\n<table border=\"1\" cellpadding=\"0\" cellspacing=\"0\" width=\"626\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td valign=\"top\" width=\"624\">\n\n\t\t\t\t\t&nbsp; &gt;&gt; $ export PS1=&quot;\\[\\e[31;1m\\]\\u\\[\\e[0m\\]@\\[\\e[32;1m\\]`/sbin/ifconfig eth1|grep \"inet&nbsp;&nbsp; addr:\"|cut -d: -f 2|cut -d\" \" -f1`\\[\\e[0m\\]:\\[\\e[35;1m\\]\\w\\[\\e[0m\\]\\\\$ &quot;\n\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n\t**[Linux](http://unix-cd.com/unixcd12/article_7281.html)**\n\n\tPS1~/.bashrcexport PS1=&times;&times;&times;~/.bash_profileshell~/.bashrc\n\n<table border=\"1\" cellpadding=\"0\" cellspacing=\"0\" width=\"625\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td valign=\"top\" width=\"623\">\n\n\t\t\t\t\t&nbsp; # Get the aliases and functions\n\n\t\t\t\t\t&nbsp; if [ -f ~/.bashrc ]; then\n\n\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; . ~/.bashrc\n\n\t\t\t\t\t&nbsp; fi\n\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n\tsource ~/.bashrc\n\n\t&nbsp;\n\n\t**1.3 ******\n\n\t\n\n<table border=\"1\" cellpadding=\"0\" cellspacing=\"0\" width=\"626\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td valign=\"top\" width=\"624\">\n\n\t\t\t\t\t&nbsp; alias ..=&quot;cd ..&quot;\n\n\t\t\t\t\t&nbsp; alias ...=&quot;cd ../..&quot;\n\n\t\t\t\t\t&nbsp;\n\n\t\t\t\t\t&nbsp; alias cd..=&quot;cd ..&quot;\n\n\t\t\t\t\t&nbsp; alias ll=&quot;ls -l&quot;\n\n\t\t\t\t\t&nbsp; alias la=&quot;ls -a&quot;\n\n\t\t\t\t\t&nbsp; alias tree=&quot;~/code/tree&quot;\n\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n\talias~/.bashrc~/code/treeshell\n\n<table border=\"1\" cellpadding=\"0\" cellspacing=\"0\" width=\"626\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td valign=\"top\" width=\"624\">\n\n\t\t\t\t\t&nbsp; #!/bin/sh\n\n\t\t\t\t\t&nbsp; function tree_files()\n\n\t\t\t\t\t&nbsp; {\n\n\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; find . -print 2&gt;/dev/null|\\\n\n\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; awk &#39;!/\\.$/ {for (i=1;i&lt;NF;i++){\\\n\n\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; d=length($i);if ( d &lt; 5 &amp;&amp; i != 1 )d=5;printf(&quot;%&quot;d&quot;s&quot;,&quot;|&quot;)}print &quot;---&quot;$NF}&#39; \\\n\n\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FS=&#39;/&#39; | more\n\n\t\t\t\t\t&nbsp; }\n\n\t\t\t\t\t&nbsp; function tree_dirs()\n\n\t\t\t\t\t&nbsp; {\n\n\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; find . -type d -print 2&gt;/dev/null|\\\n\n\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; awk &#39;!/\\.$/ {for (i=1;i&lt;NF;i++){\\\n\n\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; d=length($i);if ( d &lt; 5 &amp;&amp; i != 1 )d=5;printf(&quot;%&quot;d&quot;s&quot;,&quot;|&quot;)}print &quot;---&quot;$NF}&#39; \\\n\n\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FS=&#39;/&#39; | more\n\n\t\t\t\t\t&nbsp; }\n\n\t\t\t\t\t&nbsp; function help()\n\n\t\t\t\t\t&nbsp; {\n\n\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; echo &quot;Usage: tree [-f|-d]&quot;\n\n\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; echo &quot;&nbsp; -f: list files of current directory&quot;\n\n\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; echo &quot;&nbsp; -d: list direcotries of current directory&quot;\n\n\t\t\t\t\t&nbsp; }\n\n\t\t\t\t\t&nbsp; if [ $# = 0 ]; then\n\n\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tree_dirs\n\n\t\t\t\t\t&nbsp; elif [ $# = 1 ]; then\n\n\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if [ $1 = \"-f\" ]; then\n\n\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tree_files\n\n\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; elif [ $1 = \"-d\" ]; then\n\n\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tree_dirs\n\n\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else\n\n\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; help\n\n\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; fi\n\n\t\t\t\t\t&nbsp; fi\n\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n\t&nbsp;\n\n\t**1.4 ******\n\n\tvim~/.vimrcsyntax onindent\n\n\tshell//\n\n> **BTW**tmuxvimmaketreeshell","slug":"linux-shell-term-tuning","published":1,"updated":"2015-12-29T13:31:03.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciirfw70t005isv8ftz6a2hwa"},{"title":"Shell ","id":"656","date":"2013-01-22T13:57:57.000Z","_content":"\n**4.0 ******\n\n\t\n\n\t<!--more-->\n\n\t**4.1 ******\n\n\tOS\n\n> **BTW:** \n\n\t**:**\n\n\t&amp;&amp;ctrl+zbg(backgroud)\n\n<table border=\"1\" cellpadding=\"0\" cellspacing=\"0\" width=\"632\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td valign=\"top\" width=\"630\">\n\n\t\t\t\t\t&nbsp; &gt;&gt; $ /bin/sh your.sh &amp;\n\n\t\t\t\t\t&nbsp; [1]&nbsp;&nbsp;&nbsp; pid&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # pid\n\n\t\t\t\t\t&nbsp; &gt;&gt; $ /bin/sh your.sh&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # ctrl + z\n\n\t\t\t\t\t&nbsp; [1]+&nbsp; Stopped&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /bin/sh your.sh\n\n\t\t\t\t\t&nbsp; &gt;&gt; $ bg %1&nbsp;&nbsp; # %1 \n\n\t\t\t\t\t&nbsp; [1]+&nbsp; /bin/sh your.sh &amp;\n\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n> **TIPS:** The plus sign shows the most recently invoked job; the minus sign shows the next most recently invoked job.- &lt;Learning the Korn Shell, 2nd Edition&gt;\r> \n> \n> \t\t**WARNING:**  $ /bin/sh your.sh &gt; ./your.log 2&gt;&amp;1 &amp;\n\n\t****\n\n\tfg(foreground)\n\n<table border=\"1\" cellpadding=\"0\" cellspacing=\"0\" width=\"632\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td valign=\"top\" width=\"630\">\n\n\t\t\t\t\t&nbsp; &gt;&gt; $ vim your_file&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # ctrl + z\n\n\t\t\t\t\t&nbsp; [1]+&nbsp;&nbsp; Stopped&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; vim your_file\n\n\t\t\t\t\t&nbsp; &gt;&gt; $ fg %1&nbsp;\n\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n\t****\n\n\tnohup\n\n<table border=\"1\" cellpadding=\"0\" cellspacing=\"0\" width=\"631\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td valign=\"top\" width=\"629\">\n\n\t\t\t\t\t&nbsp; &gt;&gt; $ nohup /bin/sh your.sh &amp;\n\n\t\t\t\t\t&nbsp; [1]&nbsp;&nbsp;&nbsp; pid\n\n\t\t\t\t\t&nbsp; nohup: appending output to &lsquo;nohup.out&#39;\n\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n\t<span style=\"line-height: 1.6em;\">disown</span>\n\n<table border=\"1\" cellpadding=\"0\" cellspacing=\"0\" width=\"631\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td valign=\"top\" width=\"629\">\n\n\t\t\t\t\t&nbsp; &gt;&gt; $ /bin/sh your.sh &amp;\n\n\t\t\t\t\t&nbsp; [1]&nbsp;&nbsp;&nbsp; pid\n\n\t\t\t\t\t&nbsp; &gt;&gt; disown %1\n\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n> **REFE:** [**Linux******](http://www.ibm.com/developerworks/cn/linux/l-cn-nohup/)****\n\n\t**screen:**\n\n\tscreenscreen  ANSI/VT100 screentmux\n\n\tscreenscreenalias\n\n<table border=\"1\" cellpadding=\"0\" cellspacing=\"0\" width=\"631\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td valign=\"top\" width=\"629\">\n\n\t\t\t\t\talias s=&quot;screen&quot;\n\n\t\t\t\t\talias sr=&quot;screen -r&quot;&nbsp;&nbsp;&nbsp;&nbsp; # \n\n\t\t\t\t\talias sl=&quot;screen -ls&quot;&nbsp;&nbsp;&nbsp;&nbsp; # \n\n\t\t\t\t\talias sl=&quot;screen -d&quot;&nbsp;&nbsp;&nbsp;&nbsp; # \n\n\t\t\t\t\tctrl+a :sessionname MyName&nbsp;&nbsp; # screen\n\n\t\t\t\t\tctrl+a :kill&nbsp;&nbsp;&nbsp; # \n\n\t\t\t\t\tctrl+a :encoding gbk&nbsp;&nbsp;&nbsp;&nbsp; # screen\n\n\t\t\t\t\tctrl+a d&nbsp;&nbsp;&nbsp;&nbsp; # detached\n\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n> **TIPS**: screenlsscreenecho $TERMscreenscreen.linux/etc/DIR_COLORS/etc/DIR_COLORS~/.dir_colors&quot;TERM screen&quot;\n\n\t**jobs:**\n\n\t\n\n\t**ps:**\n\n\t\n\n\t**top:**\n\n\twinload averageLoad AverageCPULoad CPUCPUCPU CPUload average: 0.06, 0.60, 0.48 1515load average\n\n\t**Load Average &lt; CPU *  *0.7**\n\n\t\n\n<table border=\"1\" cellpadding=\"0\" cellspacing=\"0\" width=\"635\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td valign=\"top\" width=\"633\">\n\n\t\t\t\t\t&nbsp; &gt;&gt; $ top\n\n\t\t\t\t\t&nbsp; ...\n\n\t\t\t\t\t&nbsp; ...\n\n\t\t\t\t\t&nbsp; &gt;&gt; $ top -p pid [-p pid2 ...]\n\n\t\t\t\t\t&nbsp; ...&nbsp;&nbsp;&nbsp; # pid\n\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n\t**crontab:**\n\n\t\n\n<table border=\"1\" cellpadding=\"0\" cellspacing=\"0\" width=\"635\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td valign=\"top\" width=\"633\">\n\n\t\t\t\t\t&gt;&gt; $ crontab -e&nbsp;&nbsp;&nbsp; # \n\n\t\t\t\t\t* * * * * cmd &gt; /dev/null 2&gt;&amp;1&nbsp;&nbsp;&nbsp;&nbsp; # 5*/dev/null\n\n\t\t\t\t\t*/2 * * * * cmd &gt; /dev/null 2&gt;&amp;1&nbsp;&nbsp;&nbsp;&nbsp; # cmd\n\n\t\t\t\t\t&gt;&gt; $ crontab -l&nbsp;&nbsp;&nbsp; # \n\n\t\t\t\t\t&gt;&gt; $ crontab -r&nbsp;&nbsp;&nbsp; # - -\n\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n> **REFE:** [Crontab ](http://www.cnblogs.com/cosiray/archive/2012/03/09/2387361.html)\n\n\t**history:**\n\n\t\n\n<table border=\"1\" cellpadding=\"0\" cellspacing=\"0\" width=\"635\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td valign=\"top\" width=\"633\">\n\n\t\t\t\t\t&gt;&gt; $ history | more\n\n\t\t\t\t\t&gt;&gt; $ history | grep ls\n\n\t\t\t\t\t&gt;&gt; $ vi ~/.bashrc\n\n\t\t\t\t\tHISTFILESIZE=2000&nbsp;&nbsp;&nbsp;&nbsp; # history \n\n\t\t\t\t\tHISTTIMEFORMAT=&#39;%F %T &#39;&nbsp;&nbsp;&nbsp;&nbsp; # \n\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n> **TIPS1:** history&hellip;&hellip;\r> \n> \n> \t\t**TIPS2:** ctrl + rctrl+r\n\n\t**ssh:**\n\n\tssh&hellip;&hellip;\n\n<table border=\"1\" cellpadding=\"0\" cellspacing=\"0\" width=\"634\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td valign=\"top\" width=\"632\">\n\n\t\t\t\t\t&gt;&gt; $ ssh -l user ip [-p port]\n\n\t\t\t\t\t&gt;&gt; $ ssh user@ip\n\n\t\t\t\t\t&gt;&gt; $ scp user@ip:/src/dir/or/file user@ip:/dest/dir/or/file\n\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n> **FINAL TIPS:** expectpushpull\r> \n> \n> \t\t&nbsp;\r> \n> \n> \t<table border=\"1\" cellpadding=\"0\" cellspacing=\"0\" width=\"605\">\r> \n> \t\t<tbody>\r> \n> \t\t\t<tr>\r> \n> \t\t\t\t<td valign=\"top\" width=\"603\">\r> \n> \n> \t\t\t\t\t\t#!/usr/bin/expect\r> \n> \n> \t\t\t\t\t\tset user [lindex $argv 0]\r> \n> \n> \t\t\t\t\t\tset passwd [lindex $argv 1]\r> \n> \n> \t\t\t\t\t\tset ip [lindex $argv 2]\r> \n> \n> \t\t\t\t\t\tset src [lindex $argv 3]\r> \n> \n> \t\t\t\t\t\tset des [lindex $argv 4]\r> \n> \n> \t\t\t\t\t\tset timeout 60\r> \n> \n> \t\t\t\t\t\tspawn /usr/local/bin/scp -r ${src} ${user}@${ip}:${des}\r> \n> \n> \t\t\t\t\t\texpect {\r> \n> \n> \t\t\t\t\t\t&nbsp;&nbsp;&nbsp; &quot;*assword:&quot; {\r> \n> \n> \t\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp; send &quot;${passwd}\\n&quot;\r> \n> \n> \t\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp; exp_continue\r> \n> \n> \t\t\t\t\t\t&nbsp;&nbsp;&nbsp; }\r> \n> \n> \t\t\t\t\t\t&nbsp;&nbsp;&nbsp; &quot;fcr_parse_raw&quot; {\r> \n> \n> \t\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; close\r> \n> \n> \t\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; exit -2\r> \n> \n> \t\t\t\t\t\t&nbsp;&nbsp;&nbsp; }\r> \n> \n> \t\t\t\t\t\t&nbsp;&nbsp;&nbsp; timeout {\r> \n> \n> \t\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; close\r> \n> \n> \t\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; exit -1\r> \n> \n> \t\t\t\t\t\t&nbsp;&nbsp;&nbsp; }\r> \n> \n> \t\t\t\t\t\t&nbsp;&nbsp;&nbsp; eof {\r> \n> \n> \t\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; catch wait result\r> \n> \n> \t\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; exit [lindex $result 3]\r> \n> \n> \t\t\t\t\t\t&nbsp;&nbsp;&nbsp; }\r> \n> \n> \t\t\t\t\t\t&nbsp;&nbsp;&nbsp; -re . {\r> \n> \n> \t\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; exp_continue\r> \n> \n> \t\t\t\t\t\t&nbsp;&nbsp;&nbsp; }\r> \n> \n> \t\t\t\t\t\t}\r> \n> \n> \t\t\t\t</td>\r> \n> \t\t\t</tr>\r> \n> \t\t</tbody>\r> \n> \t</table>","source":"_posts/linux-process-shell.md","raw":"title: Shell \ntags:\n  - Linux\n  - Shell\nid: 656\ncategories:\n  - \ndate: 2013-01-22 21:57:57\n---\n\n**4.0 ******\n\n\t\n\n\t<!--more-->\n\n\t**4.1 ******\n\n\tOS\n\n> **BTW:** \n\n\t**:**\n\n\t&amp;&amp;ctrl+zbg(backgroud)\n\n<table border=\"1\" cellpadding=\"0\" cellspacing=\"0\" width=\"632\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td valign=\"top\" width=\"630\">\n\n\t\t\t\t\t&nbsp; &gt;&gt; $ /bin/sh your.sh &amp;\n\n\t\t\t\t\t&nbsp; [1]&nbsp;&nbsp;&nbsp; pid&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # pid\n\n\t\t\t\t\t&nbsp; &gt;&gt; $ /bin/sh your.sh&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # ctrl + z\n\n\t\t\t\t\t&nbsp; [1]+&nbsp; Stopped&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /bin/sh your.sh\n\n\t\t\t\t\t&nbsp; &gt;&gt; $ bg %1&nbsp;&nbsp; # %1 \n\n\t\t\t\t\t&nbsp; [1]+&nbsp; /bin/sh your.sh &amp;\n\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n> **TIPS:** The plus sign shows the most recently invoked job; the minus sign shows the next most recently invoked job.- &lt;Learning the Korn Shell, 2nd Edition&gt;\r> \n> \n> \t\t**WARNING:**  $ /bin/sh your.sh &gt; ./your.log 2&gt;&amp;1 &amp;\n\n\t****\n\n\tfg(foreground)\n\n<table border=\"1\" cellpadding=\"0\" cellspacing=\"0\" width=\"632\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td valign=\"top\" width=\"630\">\n\n\t\t\t\t\t&nbsp; &gt;&gt; $ vim your_file&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # ctrl + z\n\n\t\t\t\t\t&nbsp; [1]+&nbsp;&nbsp; Stopped&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; vim your_file\n\n\t\t\t\t\t&nbsp; &gt;&gt; $ fg %1&nbsp;\n\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n\t****\n\n\tnohup\n\n<table border=\"1\" cellpadding=\"0\" cellspacing=\"0\" width=\"631\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td valign=\"top\" width=\"629\">\n\n\t\t\t\t\t&nbsp; &gt;&gt; $ nohup /bin/sh your.sh &amp;\n\n\t\t\t\t\t&nbsp; [1]&nbsp;&nbsp;&nbsp; pid\n\n\t\t\t\t\t&nbsp; nohup: appending output to &lsquo;nohup.out&#39;\n\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n\t<span style=\"line-height: 1.6em;\">disown</span>\n\n<table border=\"1\" cellpadding=\"0\" cellspacing=\"0\" width=\"631\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td valign=\"top\" width=\"629\">\n\n\t\t\t\t\t&nbsp; &gt;&gt; $ /bin/sh your.sh &amp;\n\n\t\t\t\t\t&nbsp; [1]&nbsp;&nbsp;&nbsp; pid\n\n\t\t\t\t\t&nbsp; &gt;&gt; disown %1\n\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n> **REFE:** [**Linux******](http://www.ibm.com/developerworks/cn/linux/l-cn-nohup/)****\n\n\t**screen:**\n\n\tscreenscreen  ANSI/VT100 screentmux\n\n\tscreenscreenalias\n\n<table border=\"1\" cellpadding=\"0\" cellspacing=\"0\" width=\"631\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td valign=\"top\" width=\"629\">\n\n\t\t\t\t\talias s=&quot;screen&quot;\n\n\t\t\t\t\talias sr=&quot;screen -r&quot;&nbsp;&nbsp;&nbsp;&nbsp; # \n\n\t\t\t\t\talias sl=&quot;screen -ls&quot;&nbsp;&nbsp;&nbsp;&nbsp; # \n\n\t\t\t\t\talias sl=&quot;screen -d&quot;&nbsp;&nbsp;&nbsp;&nbsp; # \n\n\t\t\t\t\tctrl+a :sessionname MyName&nbsp;&nbsp; # screen\n\n\t\t\t\t\tctrl+a :kill&nbsp;&nbsp;&nbsp; # \n\n\t\t\t\t\tctrl+a :encoding gbk&nbsp;&nbsp;&nbsp;&nbsp; # screen\n\n\t\t\t\t\tctrl+a d&nbsp;&nbsp;&nbsp;&nbsp; # detached\n\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n> **TIPS**: screenlsscreenecho $TERMscreenscreen.linux/etc/DIR_COLORS/etc/DIR_COLORS~/.dir_colors&quot;TERM screen&quot;\n\n\t**jobs:**\n\n\t\n\n\t**ps:**\n\n\t\n\n\t**top:**\n\n\twinload averageLoad AverageCPULoad CPUCPUCPU CPUload average: 0.06, 0.60, 0.48 1515load average\n\n\t**Load Average &lt; CPU *  *0.7**\n\n\t\n\n<table border=\"1\" cellpadding=\"0\" cellspacing=\"0\" width=\"635\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td valign=\"top\" width=\"633\">\n\n\t\t\t\t\t&nbsp; &gt;&gt; $ top\n\n\t\t\t\t\t&nbsp; ...\n\n\t\t\t\t\t&nbsp; ...\n\n\t\t\t\t\t&nbsp; &gt;&gt; $ top -p pid [-p pid2 ...]\n\n\t\t\t\t\t&nbsp; ...&nbsp;&nbsp;&nbsp; # pid\n\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n\t**crontab:**\n\n\t\n\n<table border=\"1\" cellpadding=\"0\" cellspacing=\"0\" width=\"635\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td valign=\"top\" width=\"633\">\n\n\t\t\t\t\t&gt;&gt; $ crontab -e&nbsp;&nbsp;&nbsp; # \n\n\t\t\t\t\t* * * * * cmd &gt; /dev/null 2&gt;&amp;1&nbsp;&nbsp;&nbsp;&nbsp; # 5*/dev/null\n\n\t\t\t\t\t*/2 * * * * cmd &gt; /dev/null 2&gt;&amp;1&nbsp;&nbsp;&nbsp;&nbsp; # cmd\n\n\t\t\t\t\t&gt;&gt; $ crontab -l&nbsp;&nbsp;&nbsp; # \n\n\t\t\t\t\t&gt;&gt; $ crontab -r&nbsp;&nbsp;&nbsp; # - -\n\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n> **REFE:** [Crontab ](http://www.cnblogs.com/cosiray/archive/2012/03/09/2387361.html)\n\n\t**history:**\n\n\t\n\n<table border=\"1\" cellpadding=\"0\" cellspacing=\"0\" width=\"635\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td valign=\"top\" width=\"633\">\n\n\t\t\t\t\t&gt;&gt; $ history | more\n\n\t\t\t\t\t&gt;&gt; $ history | grep ls\n\n\t\t\t\t\t&gt;&gt; $ vi ~/.bashrc\n\n\t\t\t\t\tHISTFILESIZE=2000&nbsp;&nbsp;&nbsp;&nbsp; # history \n\n\t\t\t\t\tHISTTIMEFORMAT=&#39;%F %T &#39;&nbsp;&nbsp;&nbsp;&nbsp; # \n\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n> **TIPS1:** history&hellip;&hellip;\r> \n> \n> \t\t**TIPS2:** ctrl + rctrl+r\n\n\t**ssh:**\n\n\tssh&hellip;&hellip;\n\n<table border=\"1\" cellpadding=\"0\" cellspacing=\"0\" width=\"634\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td valign=\"top\" width=\"632\">\n\n\t\t\t\t\t&gt;&gt; $ ssh -l user ip [-p port]\n\n\t\t\t\t\t&gt;&gt; $ ssh user@ip\n\n\t\t\t\t\t&gt;&gt; $ scp user@ip:/src/dir/or/file user@ip:/dest/dir/or/file\n\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n> **FINAL TIPS:** expectpushpull\r> \n> \n> \t\t&nbsp;\r> \n> \n> \t<table border=\"1\" cellpadding=\"0\" cellspacing=\"0\" width=\"605\">\r> \n> \t\t<tbody>\r> \n> \t\t\t<tr>\r> \n> \t\t\t\t<td valign=\"top\" width=\"603\">\r> \n> \n> \t\t\t\t\t\t#!/usr/bin/expect\r> \n> \n> \t\t\t\t\t\tset user [lindex $argv 0]\r> \n> \n> \t\t\t\t\t\tset passwd [lindex $argv 1]\r> \n> \n> \t\t\t\t\t\tset ip [lindex $argv 2]\r> \n> \n> \t\t\t\t\t\tset src [lindex $argv 3]\r> \n> \n> \t\t\t\t\t\tset des [lindex $argv 4]\r> \n> \n> \t\t\t\t\t\tset timeout 60\r> \n> \n> \t\t\t\t\t\tspawn /usr/local/bin/scp -r ${src} ${user}@${ip}:${des}\r> \n> \n> \t\t\t\t\t\texpect {\r> \n> \n> \t\t\t\t\t\t&nbsp;&nbsp;&nbsp; &quot;*assword:&quot; {\r> \n> \n> \t\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp; send &quot;${passwd}\\n&quot;\r> \n> \n> \t\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp; exp_continue\r> \n> \n> \t\t\t\t\t\t&nbsp;&nbsp;&nbsp; }\r> \n> \n> \t\t\t\t\t\t&nbsp;&nbsp;&nbsp; &quot;fcr_parse_raw&quot; {\r> \n> \n> \t\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; close\r> \n> \n> \t\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; exit -2\r> \n> \n> \t\t\t\t\t\t&nbsp;&nbsp;&nbsp; }\r> \n> \n> \t\t\t\t\t\t&nbsp;&nbsp;&nbsp; timeout {\r> \n> \n> \t\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; close\r> \n> \n> \t\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; exit -1\r> \n> \n> \t\t\t\t\t\t&nbsp;&nbsp;&nbsp; }\r> \n> \n> \t\t\t\t\t\t&nbsp;&nbsp;&nbsp; eof {\r> \n> \n> \t\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; catch wait result\r> \n> \n> \t\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; exit [lindex $result 3]\r> \n> \n> \t\t\t\t\t\t&nbsp;&nbsp;&nbsp; }\r> \n> \n> \t\t\t\t\t\t&nbsp;&nbsp;&nbsp; -re . {\r> \n> \n> \t\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; exp_continue\r> \n> \n> \t\t\t\t\t\t&nbsp;&nbsp;&nbsp; }\r> \n> \n> \t\t\t\t\t\t}\r> \n> \n> \t\t\t\t</td>\r> \n> \t\t\t</tr>\r> \n> \t\t</tbody>\r> \n> \t</table>","slug":"linux-process-shell","published":1,"updated":"2015-12-29T13:31:03.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciirfw70v005msv8f4lu6q842"},{"title":"Shell /","id":"637","date":"2013-01-18T12:38:24.000Z","_content":"\n**2.1 ******\n\n\tls(list), cd(change directory), rm(remove), touch, mkdir(make directory), rmdir(remove directory), pwd(print working dir)\n\n> **TIPS: **cd - \r> \n> \n> \t\t**WARNING:** rm -rf *rm\n\n\t<!--more-->\n\n\t&nbsp;\n\n\t**2.2 ******\n\n\t**find**find\n\n<table border=\"1\" cellpadding=\"0\" cellspacing=\"0\" width=\"631\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td valign=\"top\" width=\"629\">\n\n\t\t\t\t\t&nbsp; &gt;&gt; $ find -help\n\n\t\t\t\t\t&nbsp; Usage: find [path] [expression](&lt;option&gt; &lt;action&gt;) # commented by wikie\n\n\t\t\t\t\t&nbsp; &gt;&gt; $ find . -name &quot;*.txt&quot;&nbsp;&nbsp;&nbsp; # &quot;*.txt&quot;\n\n\t\t\t\t\t&nbsp; &gt;&gt; $ find . -type f|d|l&nbsp;&nbsp;&nbsp; # ||\n\n\t\t\t\t\t&nbsp; &gt;&gt; $ find . -size 1024(c)&nbsp;&nbsp;&nbsp; # 1024\n\n\t\t\t\t\t&nbsp; &gt;&gt; $ find . -maxdepth 1 -name &quot;*.txt&quot;&nbsp;&nbsp;&nbsp; # 1\n\n\t\t\t\t\t&nbsp; &gt;&gt; $ find . -a(m)time -1&nbsp;&nbsp;&nbsp; # 24\n\n\t\t\t\t\t&nbsp; &gt;&gt; $ find . -name &quot;*.tmp&quot; -exec(-ok) rm {} \\;&nbsp;&nbsp; # tmp-ok\n\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n> **TIPS1:** -exec find . | while read line; do do_sth to $line; done;\r> \n> \n> \t\t**TIPS2:** man find\n\n\t**locate******\n\n\tlocate&ldquo;find -name&rdquo;/var/lib/locatedbLinuxlocatelocateupdatedbroot\n\n<table border=\"1\" cellpadding=\"0\" cellspacing=\"0\" width=\"631\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td valign=\"top\" width=\"629\">\n\n\t\t\t\t\t&nbsp; &gt;&gt; $ locate your_file\n\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n\t**whereis:**\n\n\twhereis-bman-m-s\n\n<table border=\"1\" cellpadding=\"0\" cellspacing=\"0\" width=\"632\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td valign=\"top\" width=\"630\">\n\n\t\t\t\t\t&nbsp; &gt;&gt; $ whereis whereis\n\n\t\t\t\t\t&nbsp; whereis: /usr/bin/whereis /usr/share/man/man1/whereis.1.gz\n\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n\t**which:**\n\n\twhichPATHwhich\n\n<table border=\"1\" cellpadding=\"0\" cellspacing=\"0\" width=\"633\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td valign=\"top\" width=\"631\">\n\n\t\t\t\t\t&nbsp; &gt;&gt; $ which gcc\n\n\t\t\t\t\t&nbsp; /usr/bin/gcc\n\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n> **REFE: ** - [Linux](http://www.ruanyifeng.com/blog/2009/10/5_ways_to_search_for_files_using_the_terminal.html)\n\n\t&nbsp;\n\n\t**2.3 ******\n\n\tdu(disk usage)df(disk free)-hhuman-readable\n\n<table border=\"1\" cellpadding=\"0\" cellspacing=\"0\" width=\"634\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td valign=\"top\" width=\"632\">\n\n\t\t\t\t\t&nbsp; &gt;&gt; $ du -sh .&nbsp;&nbsp;&nbsp;&nbsp; # -s summay\n\n\t\t\t\t\t&nbsp; 10G&nbsp;&nbsp;&nbsp;&nbsp; .\n\n\t\t\t\t\t&nbsp; &gt;&gt; $ df -h\n\n\t\t\t\t\t&nbsp; Filesystem&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Size&nbsp;&nbsp; Used&nbsp;&nbsp; Avail&nbsp;&nbsp; Use%&nbsp;&nbsp; Mounted on\n\n\t\t\t\t\t&nbsp; /dev/hda1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 62G&nbsp;&nbsp;&nbsp; 21G&nbsp;&nbsp;&nbsp; 42G&nbsp;&nbsp;&nbsp; 34%&nbsp;&nbsp;&nbsp;&nbsp; /\n\n\t\t\t\t\t&nbsp; tmpfs&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 502M&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp;&nbsp; 502M&nbsp;&nbsp;&nbsp; 0%&nbsp;&nbsp;&nbsp;&nbsp; /dev/shm\n\n\t\t\t\t\t&nbsp; &gt;&gt; $ df -ih&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # -i inode usage\n\n\t\t\t\t\t&nbsp; Filesystem&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Inodes&nbsp;&nbsp; IUsed&nbsp;&nbsp; IFree&nbsp;&nbsp; IUse%&nbsp;&nbsp; Mounted on\n\n\t\t\t\t\t&nbsp; /dev/hda1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 63M&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 197K&nbsp;&nbsp;&nbsp; 62M&nbsp;&nbsp;&nbsp; 1%&nbsp;&nbsp; /\n\n\t\t\t\t\t&nbsp; tmpfs&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 126K&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 126K&nbsp;&nbsp;&nbsp; 1%&nbsp;&nbsp; /dev/shm\n\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n> **WARNING: **85%T_T&hellip;&hellip;\r> \n> \n> \t\t**TIPS:** dfstatfsdfdudf -h | grep mounted_disk | awk &#39;{print $4}&#39;\n\n\t&nbsp;\n\n\t**2.4 ******\n\n\tchmod(change mode), chown(change owner)\n\n\tchmod +x file\n\n\t&nbsp;\n\n\t**2.5 ******\n\n\ttarziptar\n\n<table border=\"1\" cellpadding=\"0\" cellspacing=\"0\" width=\"630\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td valign=\"top\" width=\"628\">\n\n\t\t\t\t\t&nbsp; &gt;&gt; $ tar zcvf file.tar.gz file&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # z gzip&nbsp; c \n\n\t\t\t\t\t&nbsp; &gt;&gt; $ tar zxvf file.tar.gz [-C untar_dir]\n\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n> **WARNING: **gzipcpu\r> \n> \n> \t\t**TIPS: **scpscp\n\n<table border=\"1\" cellpadding=\"0\" cellspacing=\"0\" width=\"632\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td valign=\"top\" width=\"630\">\n\n\t\t\t\t\t&nbsp; &gt;&gt; $ split --help\n\n\t\t\t\t\t&nbsp; Usage: split [OPTION] [INPUT [PREFIX]]\n\n\t\t\t\t\t&nbsp; &gt;&gt; $ split -b 1024b(k)(m) filename (splited_filename)&nbsp;&nbsp; # \n\n\t\t\t\t\t&nbsp; &gt;&gt; $ split -l 1000 filename (splited_filename)&nbsp;&nbsp; # \n\n\t\t\t\t\t&nbsp; &gt;&gt; $ cat splited_filename* &gt; filename&nbsp;&nbsp; # \n\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>","source":"_posts/linux-file-directory-shell.md","raw":"title: Shell /\ntags:\n  - Linux\n  - Shell\nid: 637\ncategories:\n  - \ndate: 2013-01-18 20:38:24\n---\n\n**2.1 ******\n\n\tls(list), cd(change directory), rm(remove), touch, mkdir(make directory), rmdir(remove directory), pwd(print working dir)\n\n> **TIPS: **cd - \r> \n> \n> \t\t**WARNING:** rm -rf *rm\n\n\t<!--more-->\n\n\t&nbsp;\n\n\t**2.2 ******\n\n\t**find**find\n\n<table border=\"1\" cellpadding=\"0\" cellspacing=\"0\" width=\"631\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td valign=\"top\" width=\"629\">\n\n\t\t\t\t\t&nbsp; &gt;&gt; $ find -help\n\n\t\t\t\t\t&nbsp; Usage: find [path] [expression](&lt;option&gt; &lt;action&gt;) # commented by wikie\n\n\t\t\t\t\t&nbsp; &gt;&gt; $ find . -name &quot;*.txt&quot;&nbsp;&nbsp;&nbsp; # &quot;*.txt&quot;\n\n\t\t\t\t\t&nbsp; &gt;&gt; $ find . -type f|d|l&nbsp;&nbsp;&nbsp; # ||\n\n\t\t\t\t\t&nbsp; &gt;&gt; $ find . -size 1024(c)&nbsp;&nbsp;&nbsp; # 1024\n\n\t\t\t\t\t&nbsp; &gt;&gt; $ find . -maxdepth 1 -name &quot;*.txt&quot;&nbsp;&nbsp;&nbsp; # 1\n\n\t\t\t\t\t&nbsp; &gt;&gt; $ find . -a(m)time -1&nbsp;&nbsp;&nbsp; # 24\n\n\t\t\t\t\t&nbsp; &gt;&gt; $ find . -name &quot;*.tmp&quot; -exec(-ok) rm {} \\;&nbsp;&nbsp; # tmp-ok\n\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n> **TIPS1:** -exec find . | while read line; do do_sth to $line; done;\r> \n> \n> \t\t**TIPS2:** man find\n\n\t**locate******\n\n\tlocate&ldquo;find -name&rdquo;/var/lib/locatedbLinuxlocatelocateupdatedbroot\n\n<table border=\"1\" cellpadding=\"0\" cellspacing=\"0\" width=\"631\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td valign=\"top\" width=\"629\">\n\n\t\t\t\t\t&nbsp; &gt;&gt; $ locate your_file\n\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n\t**whereis:**\n\n\twhereis-bman-m-s\n\n<table border=\"1\" cellpadding=\"0\" cellspacing=\"0\" width=\"632\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td valign=\"top\" width=\"630\">\n\n\t\t\t\t\t&nbsp; &gt;&gt; $ whereis whereis\n\n\t\t\t\t\t&nbsp; whereis: /usr/bin/whereis /usr/share/man/man1/whereis.1.gz\n\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n\t**which:**\n\n\twhichPATHwhich\n\n<table border=\"1\" cellpadding=\"0\" cellspacing=\"0\" width=\"633\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td valign=\"top\" width=\"631\">\n\n\t\t\t\t\t&nbsp; &gt;&gt; $ which gcc\n\n\t\t\t\t\t&nbsp; /usr/bin/gcc\n\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n> **REFE: ** - [Linux](http://www.ruanyifeng.com/blog/2009/10/5_ways_to_search_for_files_using_the_terminal.html)\n\n\t&nbsp;\n\n\t**2.3 ******\n\n\tdu(disk usage)df(disk free)-hhuman-readable\n\n<table border=\"1\" cellpadding=\"0\" cellspacing=\"0\" width=\"634\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td valign=\"top\" width=\"632\">\n\n\t\t\t\t\t&nbsp; &gt;&gt; $ du -sh .&nbsp;&nbsp;&nbsp;&nbsp; # -s summay\n\n\t\t\t\t\t&nbsp; 10G&nbsp;&nbsp;&nbsp;&nbsp; .\n\n\t\t\t\t\t&nbsp; &gt;&gt; $ df -h\n\n\t\t\t\t\t&nbsp; Filesystem&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Size&nbsp;&nbsp; Used&nbsp;&nbsp; Avail&nbsp;&nbsp; Use%&nbsp;&nbsp; Mounted on\n\n\t\t\t\t\t&nbsp; /dev/hda1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 62G&nbsp;&nbsp;&nbsp; 21G&nbsp;&nbsp;&nbsp; 42G&nbsp;&nbsp;&nbsp; 34%&nbsp;&nbsp;&nbsp;&nbsp; /\n\n\t\t\t\t\t&nbsp; tmpfs&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 502M&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp;&nbsp; 502M&nbsp;&nbsp;&nbsp; 0%&nbsp;&nbsp;&nbsp;&nbsp; /dev/shm\n\n\t\t\t\t\t&nbsp; &gt;&gt; $ df -ih&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # -i inode usage\n\n\t\t\t\t\t&nbsp; Filesystem&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Inodes&nbsp;&nbsp; IUsed&nbsp;&nbsp; IFree&nbsp;&nbsp; IUse%&nbsp;&nbsp; Mounted on\n\n\t\t\t\t\t&nbsp; /dev/hda1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 63M&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 197K&nbsp;&nbsp;&nbsp; 62M&nbsp;&nbsp;&nbsp; 1%&nbsp;&nbsp; /\n\n\t\t\t\t\t&nbsp; tmpfs&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 126K&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 126K&nbsp;&nbsp;&nbsp; 1%&nbsp;&nbsp; /dev/shm\n\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n> **WARNING: **85%T_T&hellip;&hellip;\r> \n> \n> \t\t**TIPS:** dfstatfsdfdudf -h | grep mounted_disk | awk &#39;{print $4}&#39;\n\n\t&nbsp;\n\n\t**2.4 ******\n\n\tchmod(change mode), chown(change owner)\n\n\tchmod +x file\n\n\t&nbsp;\n\n\t**2.5 ******\n\n\ttarziptar\n\n<table border=\"1\" cellpadding=\"0\" cellspacing=\"0\" width=\"630\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td valign=\"top\" width=\"628\">\n\n\t\t\t\t\t&nbsp; &gt;&gt; $ tar zcvf file.tar.gz file&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # z gzip&nbsp; c \n\n\t\t\t\t\t&nbsp; &gt;&gt; $ tar zxvf file.tar.gz [-C untar_dir]\n\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n> **WARNING: **gzipcpu\r> \n> \n> \t\t**TIPS: **scpscp\n\n<table border=\"1\" cellpadding=\"0\" cellspacing=\"0\" width=\"632\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td valign=\"top\" width=\"630\">\n\n\t\t\t\t\t&nbsp; &gt;&gt; $ split --help\n\n\t\t\t\t\t&nbsp; Usage: split [OPTION] [INPUT [PREFIX]]\n\n\t\t\t\t\t&nbsp; &gt;&gt; $ split -b 1024b(k)(m) filename (splited_filename)&nbsp;&nbsp; # \n\n\t\t\t\t\t&nbsp; &gt;&gt; $ split -l 1000 filename (splited_filename)&nbsp;&nbsp; # \n\n\t\t\t\t\t&nbsp; &gt;&gt; $ cat splited_filename* &gt; filename&nbsp;&nbsp; # \n\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>","slug":"linux-file-directory-shell","published":1,"updated":"2015-12-29T13:31:03.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciirfw70x005qsv8fdhjjwt7c"},{"title":"Les Miserables - Do You Hear the People Sing?","id":"688","date":"2013-03-05T13:41:21.000Z","_content":"\nDo you hear the people sing?\n\n\tSinging a song of angry men?\n\n\tIt is the music of a people\n\n\tWho will not be slaves again!\n\n\tWhen the beating of your heart\n\n\tEchoes the beating of the drums\n\n\tThere is a life about to start\n\n\tWhen tomorrow comes!\n\n<!--more-->\n\n\tWill you join in our crusade?\n\n\tWho will be strong and stand with me?\n\n\tBeyond the barricade\n\n\tIs there a world you long to see?\n\n\tThen join in the fight\n\n\tThat will give you the right to be free!\n\n\tDo you hear the people sing?\n\n\tSinging a song of angry men?\n\n\tIt is the music of a people\n\n\tWho will not be slaves again!\n\n\tWhen the beating of your heart\n\n\tEchoes the beating of the drums\n\n\tThere is a life about to start\n\n\tWhen tomorrow comes!\n\n\tWill you give all you can give\n\n\tSo that our banner may advance\n\n\tSome will fall and some will live\n\n\tWill you stand up and take your chance?\n\n\tThe blood of the martyrs\n\n\tWill water the meadows of France!\n\n\tDo you hear the people sing?\n\n\tSinging a song of angry men?\n\n\tIt is the music of a people\n\n\tWho will not be slaves again!\n\n\tWhen the beating of your heart\n\n\tEchoes the beating of the drums\n\n\tThere is a life about to start\n\n\tWhen tomorrow comes!\n\n\t<object classid=\"clsid:d27cdb6e-ae6d-11cf-96b8-444553540000\" codebase=\"http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0\" height=\"33\" hspace=\"0\" vspace=\"0\" width=\"257\"><param name=\"quality\" value=\"high\" /><param name=\"movie\" value=\"http://www.xiami.com/widget/8564659_1769015591/singlePlayer.swf\" /><embed height=\"33\" hspace=\"0\" pluginspage=\"http://www.macromedia.com/go/getflashplayer\" quality=\"high\" src=\"http://www.xiami.com/widget/8564659_1769015591/singlePlayer.swf\" type=\"application/x-shockwave-flash\" vspace=\"0\" width=\"257\"></embed></object>","source":"_posts/les-miserables-lrc.md","raw":"title: Les Miserables - Do You Hear the People Sing?\ntags:\n  - \n  - \nid: 688\ncategories:\n  - \ndate: 2013-03-05 21:41:21\n---\n\nDo you hear the people sing?\n\n\tSinging a song of angry men?\n\n\tIt is the music of a people\n\n\tWho will not be slaves again!\n\n\tWhen the beating of your heart\n\n\tEchoes the beating of the drums\n\n\tThere is a life about to start\n\n\tWhen tomorrow comes!\n\n<!--more-->\n\n\tWill you join in our crusade?\n\n\tWho will be strong and stand with me?\n\n\tBeyond the barricade\n\n\tIs there a world you long to see?\n\n\tThen join in the fight\n\n\tThat will give you the right to be free!\n\n\tDo you hear the people sing?\n\n\tSinging a song of angry men?\n\n\tIt is the music of a people\n\n\tWho will not be slaves again!\n\n\tWhen the beating of your heart\n\n\tEchoes the beating of the drums\n\n\tThere is a life about to start\n\n\tWhen tomorrow comes!\n\n\tWill you give all you can give\n\n\tSo that our banner may advance\n\n\tSome will fall and some will live\n\n\tWill you stand up and take your chance?\n\n\tThe blood of the martyrs\n\n\tWill water the meadows of France!\n\n\tDo you hear the people sing?\n\n\tSinging a song of angry men?\n\n\tIt is the music of a people\n\n\tWho will not be slaves again!\n\n\tWhen the beating of your heart\n\n\tEchoes the beating of the drums\n\n\tThere is a life about to start\n\n\tWhen tomorrow comes!\n\n\t<object classid=\"clsid:d27cdb6e-ae6d-11cf-96b8-444553540000\" codebase=\"http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0\" height=\"33\" hspace=\"0\" vspace=\"0\" width=\"257\"><param name=\"quality\" value=\"high\" /><param name=\"movie\" value=\"http://www.xiami.com/widget/8564659_1769015591/singlePlayer.swf\" /><embed height=\"33\" hspace=\"0\" pluginspage=\"http://www.macromedia.com/go/getflashplayer\" quality=\"high\" src=\"http://www.xiami.com/widget/8564659_1769015591/singlePlayer.swf\" type=\"application/x-shockwave-flash\" vspace=\"0\" width=\"257\"></embed></object>","slug":"les-miserables-lrc","published":1,"updated":"2015-12-29T13:31:03.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciirfw70z005usv8fqpbhebuw"},{"title":"JVM","id":"270","date":"2012-02-13T05:25:40.000Z","_content":"\n**1****JVM**\n\n_The Java__ __Virtual Machine Specification_JVMRuntime Data Area\n\n1The pc Register2Java Virtual Machine Stacks3Heap4Method Area5Runtime Constant Pool6Native Method Stacks\n\nSun JDKJVMPC\n <!--more-->  \n\n\n\n[![clip_image002[6]](http://www.hongweiyi.com/wp-content/uploads/2012/02/clip_image0026_thumb.jpg \"clip_image002[6]\")](http://www.hongweiyi.com/wp-content/uploads/2012/02/clip_image0026.jpg)\n\n**2******\n\n**1PCJVM**\n\nPCJVMPCCPUOSJVMOC\n\nJVMPCNativePCStackOverflowErrorOutOfMemoryErrorJVM-Xssk\n\n**2**\n\nJVMnativeSun JDKJVM\n\n**3**\n\nfianlFieldClassgetName()getFields()Runtime Constant Pool\n\nJVMSun JDKPermanet Generation16MB64MB-XX:PermSize-XX:MaxPermSizeOutOfMemoryError\n\n**4**\n\nnewGC\n\n322GB64-Xms-Xmx-XmsJVM1/641GB-XmxJVM1/41GB40%JVM-Xmx-XX:MinHeapFreeRatio=70%-Xms-XX:MaxHeapFreeRatio=-Xms-Xmx\n\nSun JDK1.2\n\n[![clip_image004[6]](http://www.hongweiyi.com/wp-content/uploads/2012/02/clip_image0046_thumb.jpg \"clip_image004[6]\")](http://www.hongweiyi.com/wp-content/uploads/2012/02/clip_image0046.jpg)\n\n**4.1) New Generation**\n\nEden SpaceSurvivor SpaceS0S1FromTo\n\n-Xmn-XX:SurvivorRatioEdenS Space\n\n**4.2Old Generation**\n\nCache-XX:PretenureSizeThreshold = 1024 (byte, default = 0)\n\n-Xmx--Xmn\n\n**3****JVM**     <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>       <tr>         <td valign=\"top\" width=\"223\">           <p>****\n         </td>          <td valign=\"top\" width=\"301\">           \n\n****\n         </td>       </tr>        <tr>         <td valign=\"top\" width=\"223\">           \n\n-Xssk\n         </td>          <td valign=\"top\" width=\"301\">           \n\n\n         </td>       </tr>        <tr>         <td valign=\"top\" width=\"223\">           \n\n-XX:PermSize\n         </td>          <td valign=\"top\" width=\"301\">           \n\n\n         </td>       </tr>        <tr>         <td valign=\"top\" width=\"223\">           \n\n-XX:MaxPermSize\n         </td>          <td valign=\"top\" width=\"301\">           \n\n\n         </td>       </tr>        <tr>         <td valign=\"top\" width=\"223\">           \n\n-Xms\n         </td>          <td valign=\"top\" width=\"301\">           \n\nJVM\n         </td>       </tr>        <tr>         <td valign=\"top\" width=\"223\">           \n\n-Xmx\n         </td>          <td valign=\"top\" width=\"301\">           \n\nJVM\n         </td>       </tr>        <tr>         <td valign=\"top\" width=\"223\">           \n\n-XX:MinHeapFreeRatio=\n         </td>          <td valign=\"top\" width=\"301\">           \n\n40%\n         </td>       </tr>        <tr>         <td valign=\"top\" width=\"223\">           \n\n-XX:MaxHeapFreeRatio=\n         </td>          <td valign=\"top\" width=\"301\">           \n\n70%\n         </td>       </tr>        <tr>         <td valign=\"top\" width=\"223\">           \n\n-Xmn\n         </td>          <td valign=\"top\" width=\"301\">           \n\n\n         </td>       </tr>        <tr>         <td valign=\"top\" width=\"223\">           \n\n-XX:NewRatio=\n         </td>          <td valign=\"top\" width=\"301\">           \n\n414\n         </td>       </tr>        <tr>         <td valign=\"top\" width=\"223\">           \n\n-XX:SurvivorRatio=\n         </td>          <td valign=\"top\" width=\"301\">           \n\nS0/S1\n         </td>       </tr>        <tr>         <td valign=\"top\" width=\"223\">           \n\n-XX:PretenureSizeThreshold=\n         </td>          <td valign=\"top\" width=\"301\">           \n\n\n         </td>       </tr>        <tr>         <td valign=\"top\" width=\"223\">           \n\n-XX:MaxTenuringThreshold=\n         </td>          <td valign=\"top\" width=\"301\">           \n\n0SGC\n         </td>       </tr>     </tbody></table> </p>  \n\n**4**\n\nalloc\n\nJVMGC&lt;The Java Virtual Machine Specification&gt;&lt;Java&gt;","source":"_posts/jvm-structure.md","raw":"title: JVM\ntags:\n  - JVM\nid: 270\ncategories:\n  - \ndate: 2012-02-13 13:25:40\n---\n\n**1****JVM**\n\n_The Java__ __Virtual Machine Specification_JVMRuntime Data Area\n\n1The pc Register2Java Virtual Machine Stacks3Heap4Method Area5Runtime Constant Pool6Native Method Stacks\n\nSun JDKJVMPC\n <!--more-->  \n\n\n\n[![clip_image002[6]](http://www.hongweiyi.com/wp-content/uploads/2012/02/clip_image0026_thumb.jpg \"clip_image002[6]\")](http://www.hongweiyi.com/wp-content/uploads/2012/02/clip_image0026.jpg)\n\n**2******\n\n**1PCJVM**\n\nPCJVMPCCPUOSJVMOC\n\nJVMPCNativePCStackOverflowErrorOutOfMemoryErrorJVM-Xssk\n\n**2**\n\nJVMnativeSun JDKJVM\n\n**3**\n\nfianlFieldClassgetName()getFields()Runtime Constant Pool\n\nJVMSun JDKPermanet Generation16MB64MB-XX:PermSize-XX:MaxPermSizeOutOfMemoryError\n\n**4**\n\nnewGC\n\n322GB64-Xms-Xmx-XmsJVM1/641GB-XmxJVM1/41GB40%JVM-Xmx-XX:MinHeapFreeRatio=70%-Xms-XX:MaxHeapFreeRatio=-Xms-Xmx\n\nSun JDK1.2\n\n[![clip_image004[6]](http://www.hongweiyi.com/wp-content/uploads/2012/02/clip_image0046_thumb.jpg \"clip_image004[6]\")](http://www.hongweiyi.com/wp-content/uploads/2012/02/clip_image0046.jpg)\n\n**4.1) New Generation**\n\nEden SpaceSurvivor SpaceS0S1FromTo\n\n-Xmn-XX:SurvivorRatioEdenS Space\n\n**4.2Old Generation**\n\nCache-XX:PretenureSizeThreshold = 1024 (byte, default = 0)\n\n-Xmx--Xmn\n\n**3****JVM**     <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>       <tr>         <td valign=\"top\" width=\"223\">           <p>****\n         </td>          <td valign=\"top\" width=\"301\">           \n\n****\n         </td>       </tr>        <tr>         <td valign=\"top\" width=\"223\">           \n\n-Xssk\n         </td>          <td valign=\"top\" width=\"301\">           \n\n\n         </td>       </tr>        <tr>         <td valign=\"top\" width=\"223\">           \n\n-XX:PermSize\n         </td>          <td valign=\"top\" width=\"301\">           \n\n\n         </td>       </tr>        <tr>         <td valign=\"top\" width=\"223\">           \n\n-XX:MaxPermSize\n         </td>          <td valign=\"top\" width=\"301\">           \n\n\n         </td>       </tr>        <tr>         <td valign=\"top\" width=\"223\">           \n\n-Xms\n         </td>          <td valign=\"top\" width=\"301\">           \n\nJVM\n         </td>       </tr>        <tr>         <td valign=\"top\" width=\"223\">           \n\n-Xmx\n         </td>          <td valign=\"top\" width=\"301\">           \n\nJVM\n         </td>       </tr>        <tr>         <td valign=\"top\" width=\"223\">           \n\n-XX:MinHeapFreeRatio=\n         </td>          <td valign=\"top\" width=\"301\">           \n\n40%\n         </td>       </tr>        <tr>         <td valign=\"top\" width=\"223\">           \n\n-XX:MaxHeapFreeRatio=\n         </td>          <td valign=\"top\" width=\"301\">           \n\n70%\n         </td>       </tr>        <tr>         <td valign=\"top\" width=\"223\">           \n\n-Xmn\n         </td>          <td valign=\"top\" width=\"301\">           \n\n\n         </td>       </tr>        <tr>         <td valign=\"top\" width=\"223\">           \n\n-XX:NewRatio=\n         </td>          <td valign=\"top\" width=\"301\">           \n\n414\n         </td>       </tr>        <tr>         <td valign=\"top\" width=\"223\">           \n\n-XX:SurvivorRatio=\n         </td>          <td valign=\"top\" width=\"301\">           \n\nS0/S1\n         </td>       </tr>        <tr>         <td valign=\"top\" width=\"223\">           \n\n-XX:PretenureSizeThreshold=\n         </td>          <td valign=\"top\" width=\"301\">           \n\n\n         </td>       </tr>        <tr>         <td valign=\"top\" width=\"223\">           \n\n-XX:MaxTenuringThreshold=\n         </td>          <td valign=\"top\" width=\"301\">           \n\n0SGC\n         </td>       </tr>     </tbody></table> </p>  \n\n**4**\n\nalloc\n\nJVMGC&lt;The Java Virtual Machine Specification&gt;&lt;Java&gt;","slug":"jvm-structure","published":1,"updated":"2015-12-29T13:31:03.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciirfw710005ysv8fm46zf8to"},{"title":"Java  ","date":"2015-09-01T15:40:00.000Z","_content":"\n## \n\n\n### 1\n\n demo \n\n### 2\n\n\n\n### 3\n\n\n\n<!-- more -->\n## \n\n###  Debug\n\n Debug  Debug \n\n* TomcatHadoop ->  main  ->  Debug\n* FastJSONSpring ->  -> \n\n###  Debug\n\n lib \n\n*  Debug Jar  Debug\n\n* \n\n\n### \n\n Intellij IDEA \n\n\n*  Java \n*  Diagrams\n*  Show Diagrams\n\n\n### \n\n Intellij IDEA  Mac OS X \n\n* Alt + F7 (Find Usage)\n* Ctrl + Alt + H (Call Hierarchy)\n\n\n### \n\n\n\n Intellij IDEA \n\n* Ctrl + Shift + F (Find in path)\n\n>  Custom -> Project and Libraries\n\n Eclipse  Jar  source  = =\n\n\n\n## \n\nHadoopSpringNetty\n","source":"_posts/java-source-code-practice.md","raw":"title: Java  \ndate: 2015-09-01 23:40:00\ncategories: \ntags: Java, \n---\n\n## \n\n\n### 1\n\n demo \n\n### 2\n\n\n\n### 3\n\n\n\n<!-- more -->\n## \n\n###  Debug\n\n Debug  Debug \n\n* TomcatHadoop ->  main  ->  Debug\n* FastJSONSpring ->  -> \n\n###  Debug\n\n lib \n\n*  Debug Jar  Debug\n\n* \n\n\n### \n\n Intellij IDEA \n\n\n*  Java \n*  Diagrams\n*  Show Diagrams\n\n\n### \n\n Intellij IDEA  Mac OS X \n\n* Alt + F7 (Find Usage)\n* Ctrl + Alt + H (Call Hierarchy)\n\n\n### \n\n\n\n Intellij IDEA \n\n* Ctrl + Shift + F (Find in path)\n\n>  Custom -> Project and Libraries\n\n Eclipse  Jar  source  = =\n\n\n\n## \n\nHadoopSpringNetty\n","slug":"java-source-code-practice","published":1,"updated":"2015-12-29T13:30:15.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciirfw7120061sv8fy0cd9ngd"},{"title":"Java","id":"127","date":"2011-03-17T14:32:43.000Z","_content":"\n**HJH**\n> Java********\r> \n> \n> 0-99\r> \n> \n> java.util.Random ran=new java.util.Random();\r> \n> \n> int ConnectID=ran.nextInt(100);\r> \n> \n> 0-99\n**Random****Random****nextInt()**************\n\n**<!--more-->**\n<div class=\"dp-highlighter\">\n\n1.  <span><span>java.util.Randomran= </span><span class=\"keyword\">new</span><span> java.util.Random(); </span></span>\n2.  <span> </span><span class=\"keyword\">int</span><span> connectID; </span>\n3.  <span class=\"keyword\">int</span><span>[]ids= </span><span class=\"keyword\">new</span><span> </span><span class=\"keyword\">int</span><span>[</span><span class=\"number\">100</span><span>]; </span>\n4.  <span class=\"keyword\">for</span><span> (</span><span class=\"keyword\">int</span><span> i= </span><span class=\"number\">0</span><span>;i&lt; </span><span class=\"number\">100</span><span>;i++){ </span>\n5.  <span> ids[i]= </span><span class=\"number\">0</span><span>; </span>\n6.  <span>} </span>\n7.  <span class=\"keyword\">for</span><span> (</span><span class=\"keyword\">int</span><span> i= </span><span class=\"number\">0</span><span>;i&lt; </span><span class=\"number\">10000000</span><span>;i++){ </span>\n8.  <span> connectID=ran.nextInt(</span><span class=\"number\">100</span><span>); </span>\n9.  <span> ids[connectID]++; </span>\n10.  <span>} </span>\n11.  <span class=\"keyword\">for</span><span> (</span><span class=\"keyword\">int</span><span> i= </span><span class=\"number\">0</span><span>;i&lt; </span><span class=\"number\">100</span><span>;i++){ </span>\n12.  <span> System.out.println(i+ </span><span class=\"string\">\":\"</span><span> +ids[i]); </span>\n13.  <span>} </span>\n</div>\n****\n> 0: 99127\r> \n> \n> 1: 99941\r> \n> \n> 2: 100295\r> \n> \n> 3: 100187\r> \n> \n> 4: 100255\r> \n> \n> 5: 100266\r> \n> \n> 6: 100280\r> \n> \n> 7: 99840\r> \n> \n> 8: 100466\r> \n> \n> 9: 99616\r> \n> \n> 10: 100016\n9010****JDK","source":"_posts/java-probability.md","raw":"title: Java\ntags:\n  - java\nid: 127\ncategories:\n  - \ndate: 2011-03-17 22:32:43\n---\n\n**HJH**\n> Java********\r> \n> \n> 0-99\r> \n> \n> java.util.Random ran=new java.util.Random();\r> \n> \n> int ConnectID=ran.nextInt(100);\r> \n> \n> 0-99\n**Random****Random****nextInt()**************\n\n**<!--more-->**\n<div class=\"dp-highlighter\">\n\n1.  <span><span>java.util.Randomran= </span><span class=\"keyword\">new</span><span> java.util.Random(); </span></span>\n2.  <span> </span><span class=\"keyword\">int</span><span> connectID; </span>\n3.  <span class=\"keyword\">int</span><span>[]ids= </span><span class=\"keyword\">new</span><span> </span><span class=\"keyword\">int</span><span>[</span><span class=\"number\">100</span><span>]; </span>\n4.  <span class=\"keyword\">for</span><span> (</span><span class=\"keyword\">int</span><span> i= </span><span class=\"number\">0</span><span>;i&lt; </span><span class=\"number\">100</span><span>;i++){ </span>\n5.  <span> ids[i]= </span><span class=\"number\">0</span><span>; </span>\n6.  <span>} </span>\n7.  <span class=\"keyword\">for</span><span> (</span><span class=\"keyword\">int</span><span> i= </span><span class=\"number\">0</span><span>;i&lt; </span><span class=\"number\">10000000</span><span>;i++){ </span>\n8.  <span> connectID=ran.nextInt(</span><span class=\"number\">100</span><span>); </span>\n9.  <span> ids[connectID]++; </span>\n10.  <span>} </span>\n11.  <span class=\"keyword\">for</span><span> (</span><span class=\"keyword\">int</span><span> i= </span><span class=\"number\">0</span><span>;i&lt; </span><span class=\"number\">100</span><span>;i++){ </span>\n12.  <span> System.out.println(i+ </span><span class=\"string\">\":\"</span><span> +ids[i]); </span>\n13.  <span>} </span>\n</div>\n****\n> 0: 99127\r> \n> \n> 1: 99941\r> \n> \n> 2: 100295\r> \n> \n> 3: 100187\r> \n> \n> 4: 100255\r> \n> \n> 5: 100266\r> \n> \n> 6: 100280\r> \n> \n> 7: 99840\r> \n> \n> 8: 100466\r> \n> \n> 9: 99616\r> \n> \n> 10: 100016\n9010****JDK","slug":"java-probability","published":1,"updated":"2015-12-29T13:31:03.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciirfw7140065sv8f79uw52n1"},{"title":"Java ","date":"2015-08-28T14:32:00.000Z","_content":"\n* [](/upload/java-at-alibaba.pptx)","source":"_posts/java-practice.md","raw":"title: Java \ndate: 2015-08-28 22:32:00\ncategories: \ntags: [Java]\n---\n\n* [](/upload/java-at-alibaba.pptx)","slug":"java-practice","published":1,"updated":"2015-12-29T13:30:15.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciirfw7150068sv8fjdc8tiw8"},{"title":"Java/","id":"409","date":"2012-03-03T17:07:14.000Z","_content":"\n\n<!--more--><div class=\"dp-highlighter\">   <div class=\"bar\"></div>    \n\n1.  <span><span>Integer num1 = </span><span class=\"number\">128</span><span>;&#160;&#160; </span></span>\n2.  <span>Integer num2 = </span><span class=\"number\">128</span><span>;&#160;&#160; </span></span>\n3.  <span></span><span class=\"keyword\">int</span><span> num3 = </span><span class=\"number\">128</span><span>;&#160;&#160; </span></span>\n4.  <span></span><span class=\"keyword\">int</span><span> num4 = </span><span class=\"number\">128</span><span>;&#160;&#160; </span></span>\n5.  <span>System.out.println(num1 == num2);&#160;&#160; </span>\n6.  <span>System.out.println(num1 == num3);&#160;&#160; </span>\n7.  <span>System.out.println(num2 == num3);&#160;&#160; </span>\n8.  <span>System.out.println(num3 == num4);&#160;&#160; </span>\n9.  <span>System.out.println(</span><span class=\"string\">&quot;============&quot;</span><span>);&#160;&#160; </span></span>\n10.  <span>Integer num5 = </span><span class=\"number\">12</span><span>;&#160;&#160; </span></span>\n11.  <span>Integer num6 = </span><span class=\"number\">12</span><span>;&#160;&#160; </span></span>\n12.  <span></span><span class=\"keyword\">int</span><span> num7 = </span><span class=\"number\">12</span><span>;&#160;&#160; </span></span>\n13.  <span></span><span class=\"keyword\">int</span><span> num8 = </span><span class=\"number\">12</span><span>;&#160;&#160; </span></span>\n14.  <span>System.out.println(num5 == num6);&#160;&#160; </span>\n15.  <span>System.out.println(num5 == num7);&#160;&#160; </span>\n16.  <span>System.out.println(num6 == num7);&#160;&#160; </span>\n17.  <span>System.out.println(num7 == num8);&#160; </span> </div>  \n\nfalsetrue\n\nnum3==num4num7==num8\n\nIntegerintInteger/Objective-CJavaCompiler SugarJava\n\n[![image](http://www.hongweiyi.com/wp-content/uploads/2012/03/image_thumb.png \"image\")](http://www.hongweiyi.com/wp-content/uploads/2012/03/image.png) \n\nJavaIntegerInteger.valueOfInteger\n\n[![image](http://www.hongweiyi.com/wp-content/uploads/2012/03/image_thumb1.png \"image\")](http://www.hongweiyi.com/wp-content/uploads/2012/03/image1.png) int\n\n128num1 != num212[128, 127]Integer\n\n=new Integer(value);\n  > **P.S.: ** javap c ClassName.class","source":"_posts/java-boxing.md","raw":"title: Java/\ntags:\n  - java\nid: 409\ncategories:\n  - \ndate: 2012-03-04 01:07:14\n---\n\n\n<!--more--><div class=\"dp-highlighter\">   <div class=\"bar\"></div>    \n\n1.  <span><span>Integer num1 = </span><span class=\"number\">128</span><span>;&#160;&#160; </span></span>\n2.  <span>Integer num2 = </span><span class=\"number\">128</span><span>;&#160;&#160; </span></span>\n3.  <span></span><span class=\"keyword\">int</span><span> num3 = </span><span class=\"number\">128</span><span>;&#160;&#160; </span></span>\n4.  <span></span><span class=\"keyword\">int</span><span> num4 = </span><span class=\"number\">128</span><span>;&#160;&#160; </span></span>\n5.  <span>System.out.println(num1 == num2);&#160;&#160; </span>\n6.  <span>System.out.println(num1 == num3);&#160;&#160; </span>\n7.  <span>System.out.println(num2 == num3);&#160;&#160; </span>\n8.  <span>System.out.println(num3 == num4);&#160;&#160; </span>\n9.  <span>System.out.println(</span><span class=\"string\">&quot;============&quot;</span><span>);&#160;&#160; </span></span>\n10.  <span>Integer num5 = </span><span class=\"number\">12</span><span>;&#160;&#160; </span></span>\n11.  <span>Integer num6 = </span><span class=\"number\">12</span><span>;&#160;&#160; </span></span>\n12.  <span></span><span class=\"keyword\">int</span><span> num7 = </span><span class=\"number\">12</span><span>;&#160;&#160; </span></span>\n13.  <span></span><span class=\"keyword\">int</span><span> num8 = </span><span class=\"number\">12</span><span>;&#160;&#160; </span></span>\n14.  <span>System.out.println(num5 == num6);&#160;&#160; </span>\n15.  <span>System.out.println(num5 == num7);&#160;&#160; </span>\n16.  <span>System.out.println(num6 == num7);&#160;&#160; </span>\n17.  <span>System.out.println(num7 == num8);&#160; </span> </div>  \n\nfalsetrue\n\nnum3==num4num7==num8\n\nIntegerintInteger/Objective-CJavaCompiler SugarJava\n\n[![image](http://www.hongweiyi.com/wp-content/uploads/2012/03/image_thumb.png \"image\")](http://www.hongweiyi.com/wp-content/uploads/2012/03/image.png) \n\nJavaIntegerInteger.valueOfInteger\n\n[![image](http://www.hongweiyi.com/wp-content/uploads/2012/03/image_thumb1.png \"image\")](http://www.hongweiyi.com/wp-content/uploads/2012/03/image1.png) int\n\n128num1 != num212[128, 127]Integer\n\n=new Integer(value);\n  > **P.S.: ** javap c ClassName.class","slug":"java-boxing","published":1,"updated":"2015-12-29T13:31:03.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciirfw717006bsv8f7zbwyh0n"},{"title":"MapReduce","id":"250","date":"2012-02-08T15:11:00.000Z","_content":"\n**Mapreduce**\n\nMapReducemapreducemapreducemapHDFS\n <!--more-->  \n\n(k, v) -&gt; map -&gt; (k1, v1), (k1, v2), (k2,v3) -&gt; sort&amp;shuffle -&gt; (k1, list(v1, v2)), (k2, v3)\n\nMapReduceMapReduceMR\n\nPageRankPageRankGoogleMRPRPR\n\nPageRank    <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>       <tr>         <td valign=\"top\" width=\"123\">           <p>**URL**\n         </td>          <td valign=\"top\" width=\"66\">           \n\n**RANK**\n         </td>          <td valign=\"top\" width=\"76\">           \n\n         </td>          <td valign=\"top\" width=\"132\">           \n\n**URL**\n         </td>          <td valign=\"top\" width=\"123\">           \n\n**OUT_LINK**\n         </td>       </tr>        <tr>         <td valign=\"top\" width=\"123\">           \n\nwww.a.com\n         </td>          <td valign=\"top\" width=\"66\">           \n\n1\n         </td>          <td valign=\"top\" width=\"76\">&#160;</td>          <td valign=\"top\" width=\"132\">           \n\nwww.a.com\n         </td>          <td valign=\"top\" width=\"123\">           \n\nwww.b.com\n         </td>       </tr>        <tr>         <td valign=\"top\" width=\"123\">           \n\nwww.b.com\n         </td>          <td valign=\"top\" width=\"66\">           \n\n1\n         </td>          <td valign=\"top\" width=\"76\">&#160;</td>          <td valign=\"top\" width=\"132\">           \n\nwww.a.com\n         </td>          <td valign=\"top\" width=\"123\">           \n\nwww.c.com\n         </td>       </tr>        <tr>         <td valign=\"top\" width=\"123\">           \n\nwww.c.com\n         </td>          <td valign=\"top\" width=\"66\">           \n\n1\n         </td>          <td valign=\"top\" width=\"76\">&#160;</td>          <td valign=\"top\" width=\"132\">           \n\nwww.b.com\n         </td>          <td valign=\"top\" width=\"123\">           \n\nwww.a.com\n         </td>       </tr>        <tr>         <td valign=\"top\" width=\"123\">           \n\nwww.d.com\n         </td>          <td valign=\"top\" width=\"66\">           \n\n1\n         </td>          <td valign=\"top\" width=\"76\">&#160;</td>          <td valign=\"top\" width=\"132\">           \n\nwww.b.com\n         </td>          <td valign=\"top\" width=\"123\">           \n\nwww.c.com\n         </td>       </tr>        <tr>         <td valign=\"top\" width=\"123\">&#160;</td>          <td valign=\"top\" width=\"66\">&#160;</td>          <td valign=\"top\" width=\"76\">&#160;</td>          <td valign=\"top\" width=\"132\">           \n\nwww.c.com\n         </td>          <td valign=\"top\" width=\"123\">           \n\nwww.d.com\n         </td>       </tr>        <tr>         <td valign=\"top\" width=\"123\">&#160;</td>          <td valign=\"top\" width=\"66\">&#160;</td>          <td valign=\"top\" width=\"76\">&#160;</td>          <td valign=\"top\" width=\"132\">           \n\nwww.d.com\n         </td>          <td valign=\"top\" width=\"123\">           \n\nwww.b.com\n         </td>       </tr>     </tbody></table> </p>  \n\n_&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; PR__&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; _\n\n****\n\n[](http://dongxicheng.org/mapreduce/iterative-mapreduce-intro/)****\n\nPageRankPRPR\n\n[](http://blog.xebia.com/2011/09/27/wiki-pagerank-with-hadoop/)(mapper)-&gt;(mapper)-&gt;(reducer)-&gt;(reducer)\n\n[![image](http://www.hongweiyi.com/wp-content/uploads/2012/02/image_thumb.png \"image\")](http://www.hongweiyi.com/wp-content/uploads/2012/02/image.png)&#160;\n\nIO100w10003.22G8.5M100M20\n\n3.22Gmapperreducermapper3.22GtaskTracker100M10M/s3.22G1024 / 10 = 330s = 5.5min205.520 = 110min = 1.8h3G3.22GTBPB\n\n****\n\n\n\n1 \n\n2 \n\nmapPRmapMemocachedRedisMapReduceDistributed Cache[Mapreduce API](http://hadoop.apache.org/common/docs/r0.20.203.0/api/org/apache/hadoop/filecache/DistributedCache.html)\n\nHaoopDistributedCachemap taskreduce taskDistributedCacheread-only\n\n\n\n1\\. \n\nDistributedCache.addCacheFile(new Path(args[0]).toUri(), conf);&#160; \n\n2\\. mappercache\n\nDistributedCache.getLocalCacheFiles(conf);\n\n3\\. ReducerDistributedCache\n\nIO\n\n****\n\nMapreducepagerankSSSPSingle Source Shortest Path&lt;[](http://dongxicheng.org/mapreduce/iterative-mapreduce-intro/)&gt;\n\n**1 tasktasktask pool**\n\n hadooptask JVM reuseJobjobjob \n\n**2 **\n\nPageRankPRReducerDistributedCachePR\n\nPRMR\n\n**3**\n\n100W3.22G64Msplit522W500&lt;URL_ID AER_PR&gt;150M140M3.227G+\n\n7G300M\n\n**4DistributedCache API**\n\nHadoopAPIDistributedCache APIjar\n\nMapReduceApache[Mahout](http://mahout.apache.org/)Google&lt;Pregel: A System for Large-Scale Graph Processing&gt;[](http://blog.csdn.net/ae86_fc/article/details/5796640)[](http://kowshik.github.com/JPregel/pregel_paper.pdf)\n  > ****\n> \n> [MapReduce](http://dongxicheng.org/mapreduce/iterative-mapreduce-intro/)\n> \n> [MapReduce Tutorial](http://hadoop.apache.org/common/docs/r0.20.203.0/mapred_tutorial.html)","source":"_posts/iterative-mapred.md","raw":"title: MapReduce\ntags:\n  - Hadoop\n  - MapReduce\nid: 250\ncategories:\n  - \ndate: 2012-02-08 23:11:00\n---\n\n**Mapreduce**\n\nMapReducemapreducemapreducemapHDFS\n <!--more-->  \n\n(k, v) -&gt; map -&gt; (k1, v1), (k1, v2), (k2,v3) -&gt; sort&amp;shuffle -&gt; (k1, list(v1, v2)), (k2, v3)\n\nMapReduceMapReduceMR\n\nPageRankPageRankGoogleMRPRPR\n\nPageRank    <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>       <tr>         <td valign=\"top\" width=\"123\">           <p>**URL**\n         </td>          <td valign=\"top\" width=\"66\">           \n\n**RANK**\n         </td>          <td valign=\"top\" width=\"76\">           \n\n         </td>          <td valign=\"top\" width=\"132\">           \n\n**URL**\n         </td>          <td valign=\"top\" width=\"123\">           \n\n**OUT_LINK**\n         </td>       </tr>        <tr>         <td valign=\"top\" width=\"123\">           \n\nwww.a.com\n         </td>          <td valign=\"top\" width=\"66\">           \n\n1\n         </td>          <td valign=\"top\" width=\"76\">&#160;</td>          <td valign=\"top\" width=\"132\">           \n\nwww.a.com\n         </td>          <td valign=\"top\" width=\"123\">           \n\nwww.b.com\n         </td>       </tr>        <tr>         <td valign=\"top\" width=\"123\">           \n\nwww.b.com\n         </td>          <td valign=\"top\" width=\"66\">           \n\n1\n         </td>          <td valign=\"top\" width=\"76\">&#160;</td>          <td valign=\"top\" width=\"132\">           \n\nwww.a.com\n         </td>          <td valign=\"top\" width=\"123\">           \n\nwww.c.com\n         </td>       </tr>        <tr>         <td valign=\"top\" width=\"123\">           \n\nwww.c.com\n         </td>          <td valign=\"top\" width=\"66\">           \n\n1\n         </td>          <td valign=\"top\" width=\"76\">&#160;</td>          <td valign=\"top\" width=\"132\">           \n\nwww.b.com\n         </td>          <td valign=\"top\" width=\"123\">           \n\nwww.a.com\n         </td>       </tr>        <tr>         <td valign=\"top\" width=\"123\">           \n\nwww.d.com\n         </td>          <td valign=\"top\" width=\"66\">           \n\n1\n         </td>          <td valign=\"top\" width=\"76\">&#160;</td>          <td valign=\"top\" width=\"132\">           \n\nwww.b.com\n         </td>          <td valign=\"top\" width=\"123\">           \n\nwww.c.com\n         </td>       </tr>        <tr>         <td valign=\"top\" width=\"123\">&#160;</td>          <td valign=\"top\" width=\"66\">&#160;</td>          <td valign=\"top\" width=\"76\">&#160;</td>          <td valign=\"top\" width=\"132\">           \n\nwww.c.com\n         </td>          <td valign=\"top\" width=\"123\">           \n\nwww.d.com\n         </td>       </tr>        <tr>         <td valign=\"top\" width=\"123\">&#160;</td>          <td valign=\"top\" width=\"66\">&#160;</td>          <td valign=\"top\" width=\"76\">&#160;</td>          <td valign=\"top\" width=\"132\">           \n\nwww.d.com\n         </td>          <td valign=\"top\" width=\"123\">           \n\nwww.b.com\n         </td>       </tr>     </tbody></table> </p>  \n\n_&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; PR__&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; _\n\n****\n\n[](http://dongxicheng.org/mapreduce/iterative-mapreduce-intro/)****\n\nPageRankPRPR\n\n[](http://blog.xebia.com/2011/09/27/wiki-pagerank-with-hadoop/)(mapper)-&gt;(mapper)-&gt;(reducer)-&gt;(reducer)\n\n[![image](http://www.hongweiyi.com/wp-content/uploads/2012/02/image_thumb.png \"image\")](http://www.hongweiyi.com/wp-content/uploads/2012/02/image.png)&#160;\n\nIO100w10003.22G8.5M100M20\n\n3.22Gmapperreducermapper3.22GtaskTracker100M10M/s3.22G1024 / 10 = 330s = 5.5min205.520 = 110min = 1.8h3G3.22GTBPB\n\n****\n\n\n\n1 \n\n2 \n\nmapPRmapMemocachedRedisMapReduceDistributed Cache[Mapreduce API](http://hadoop.apache.org/common/docs/r0.20.203.0/api/org/apache/hadoop/filecache/DistributedCache.html)\n\nHaoopDistributedCachemap taskreduce taskDistributedCacheread-only\n\n\n\n1\\. \n\nDistributedCache.addCacheFile(new Path(args[0]).toUri(), conf);&#160; \n\n2\\. mappercache\n\nDistributedCache.getLocalCacheFiles(conf);\n\n3\\. ReducerDistributedCache\n\nIO\n\n****\n\nMapreducepagerankSSSPSingle Source Shortest Path&lt;[](http://dongxicheng.org/mapreduce/iterative-mapreduce-intro/)&gt;\n\n**1 tasktasktask pool**\n\n hadooptask JVM reuseJobjobjob \n\n**2 **\n\nPageRankPRReducerDistributedCachePR\n\nPRMR\n\n**3**\n\n100W3.22G64Msplit522W500&lt;URL_ID AER_PR&gt;150M140M3.227G+\n\n7G300M\n\n**4DistributedCache API**\n\nHadoopAPIDistributedCache APIjar\n\nMapReduceApache[Mahout](http://mahout.apache.org/)Google&lt;Pregel: A System for Large-Scale Graph Processing&gt;[](http://blog.csdn.net/ae86_fc/article/details/5796640)[](http://kowshik.github.com/JPregel/pregel_paper.pdf)\n  > ****\n> \n> [MapReduce](http://dongxicheng.org/mapreduce/iterative-mapreduce-intro/)\n> \n> [MapReduce Tutorial](http://hadoop.apache.org/common/docs/r0.20.203.0/mapred_tutorial.html)","slug":"iterative-mapred","published":1,"updated":"2015-12-29T13:31:03.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciirfw718006esv8ftbl3i6o1"},{"title":"MapReduce","id":"401","date":"2012-02-29T15:14:46.000Z","_content":"\n**1******\n\n[](http://www.hongweiyi.com/2012/02/mapred-optimize/)[](http://www.hongweiyi.com/2012/02/iterative-mapred-distcache/)Invariant DataMapreduceMapreducetaskIOMapreduceHaloop\n\n<!--more-->\n\n**2****&amp;**\n\nHaloop\n\n1IOCPUHaloopThe first problem is that even though much of the data may be unchanged from iteration to iteration, the data must be re-loaded and re-processed at each iteration, wasting I/O, network bandwidth, and CPU resources\n\n10G-&gt;0.25GIOIOmap taskreadnodeHaloop\n\n2HaloopThe second problem is that the termination condition may involve detecting when a fixpoint has been reached\n\nPagerankPRSSSPmap task\n\n3tasktasktask pool[](http://dongxicheng.org/mapreduce/iterative-mapreduce-intro/)HaloopMapreduceJobtask pool\n\n**3****Haloop**\n\n**[![clip_image002](http://www.hongweiyi.com/wp-content/uploads/2012/02/clip_image002_thumb4.jpg \"clip_image002\")](http://www.hongweiyi.com/wp-content/uploads/2012/02/clip_image0024.jpg)**\n\n_Haloop___\n\n[![clip_image004](http://www.hongweiyi.com/wp-content/uploads/2012/02/clip_image004_thumb3.jpg \"clip_image004\")](http://www.hongweiyi.com/wp-content/uploads/2012/02/clip_image0043.jpg)\n\n_Haloop___\n\nHaloop\n\n**1******\n\nHaloop\n  > SetFixedPointThreshold\n> \n> ResultDistance\n> \n> setMaxNumOfIterations\n> \n> setIterationInput\n> \n> AddInvariantTable  \n\nMR\n\n**2**** master nodejobtrackermap-reduce**\n\nHaloopHaloopjobjobmap/reducejobjobmap/reducejobjob\n\n**3****Task Schedulerdata locality**\n\nHaloopLoop-aware Halooptasklocality\n\n**4****task trackercacheindex**\n\nMap taskReduce taskHaloop\n\n**4******\n\nMapreducehaloopYahoo!Mapreduce[The Next Generation of Apache Hadoop MapReduce](http://developer.yahoo.com/blogs/hadoop/posts/2011/02/mapreduce-nextgen/)\n  > ****\n> \n> 1\\. Haloop[http://code.google.com/p/haloop/](http://code.google.com/p/haloop/)\n> \n> 2\\. [http://dongxicheng.org/mapreduce/iterative-mapreduce-intro/](http://dongxicheng.org/mapreduce/iterative-mapreduce-intro/)","source":"_posts/iterative-mapred-summary-haloop.md","raw":"title: MapReduce\ntags:\n  - Hadoop\n  - Haloop\n  - MapReduce\nid: 401\ncategories:\n  - \ndate: 2012-02-29 23:14:46\n---\n\n**1******\n\n[](http://www.hongweiyi.com/2012/02/mapred-optimize/)[](http://www.hongweiyi.com/2012/02/iterative-mapred-distcache/)Invariant DataMapreduceMapreducetaskIOMapreduceHaloop\n\n<!--more-->\n\n**2****&amp;**\n\nHaloop\n\n1IOCPUHaloopThe first problem is that even though much of the data may be unchanged from iteration to iteration, the data must be re-loaded and re-processed at each iteration, wasting I/O, network bandwidth, and CPU resources\n\n10G-&gt;0.25GIOIOmap taskreadnodeHaloop\n\n2HaloopThe second problem is that the termination condition may involve detecting when a fixpoint has been reached\n\nPagerankPRSSSPmap task\n\n3tasktasktask pool[](http://dongxicheng.org/mapreduce/iterative-mapreduce-intro/)HaloopMapreduceJobtask pool\n\n**3****Haloop**\n\n**[![clip_image002](http://www.hongweiyi.com/wp-content/uploads/2012/02/clip_image002_thumb4.jpg \"clip_image002\")](http://www.hongweiyi.com/wp-content/uploads/2012/02/clip_image0024.jpg)**\n\n_Haloop___\n\n[![clip_image004](http://www.hongweiyi.com/wp-content/uploads/2012/02/clip_image004_thumb3.jpg \"clip_image004\")](http://www.hongweiyi.com/wp-content/uploads/2012/02/clip_image0043.jpg)\n\n_Haloop___\n\nHaloop\n\n**1******\n\nHaloop\n  > SetFixedPointThreshold\n> \n> ResultDistance\n> \n> setMaxNumOfIterations\n> \n> setIterationInput\n> \n> AddInvariantTable  \n\nMR\n\n**2**** master nodejobtrackermap-reduce**\n\nHaloopHaloopjobjobmap/reducejobjobmap/reducejobjob\n\n**3****Task Schedulerdata locality**\n\nHaloopLoop-aware Halooptasklocality\n\n**4****task trackercacheindex**\n\nMap taskReduce taskHaloop\n\n**4******\n\nMapreducehaloopYahoo!Mapreduce[The Next Generation of Apache Hadoop MapReduce](http://developer.yahoo.com/blogs/hadoop/posts/2011/02/mapreduce-nextgen/)\n  > ****\n> \n> 1\\. Haloop[http://code.google.com/p/haloop/](http://code.google.com/p/haloop/)\n> \n> 2\\. [http://dongxicheng.org/mapreduce/iterative-mapreduce-intro/](http://dongxicheng.org/mapreduce/iterative-mapreduce-intro/)","slug":"iterative-mapred-summary-haloop","published":1,"updated":"2015-12-29T13:31:03.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciirfw719006isv8fgcyt5xwq"},{"title":"MapReduce DistributedCache","id":"337","date":"2012-02-23T08:01:52.000Z","_content":"\n**1****DistributedCache In Hadoop**\n\n[](http://www.hongweiyi.com/?p=250)Hadoop\n\nMapReduceDistributedCachemap taskreduce taskclasspathHadoopmapred.temp.dir\n\n <!--more-->  \n\n**2****DistributedCache**\n\nDistributedCacheConfiguratonmapred.cache.{files|archives}DistributedCache\n\n    <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>       <tr>         <td valign=\"top\" width=\"568\">           <p>conf.set(&quot;mapred.cache.files&quot;, &quot;/data/data&quot;);\n\nconf.set(&quot;mapred.cache. archives&quot;, &quot;/data/data.zip&quot;);\n         </td>       </tr>     </tbody></table> </p>  \n\n    <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>       <tr>         <td valign=\"top\" width=\"568\">           <p>[DistributedCache](http://hadoop.apache.org/common/docs/current/api/org/apache/hadoop/filecache/DistributedCache.html). `**[addCacheFile](http://hadoop.apache.org/common/docs/current/api/org/apache/hadoop/filecache/DistributedCache.html#addCacheFile(java.net.URI, org.apache.hadoop.conf.Configuration))**``([URI](http://java.sun.com/javase/6/docs/api/java/net/URI.html?is-external=true),` `[Configuration](http://hadoop.apache.org/common/docs/current/api/org/apache/hadoop/conf/Configuration.html))`\n\n[DistributedCache](http://hadoop.apache.org/common/docs/current/api/org/apache/hadoop/filecache/DistributedCache.html).`**[addArchiveToClassPath](http://hadoop.apache.org/common/docs/current/api/org/apache/hadoop/filecache/DistributedCache.html#addArchiveToClassPath(org.apache.hadoop.fs.Path, org.apache.hadoop.conf.Configuration, org.apache.hadoop.fs.FileSystem))**``([Path](http://hadoop.apache.org/common/docs/current/api/org/apache/hadoop/fs/Path.html),` `[Configuration](http://hadoop.apache.org/common/docs/current/api/org/apache/hadoop/conf/Configuration.html),` `[FileSystem](http://hadoop.apache.org/common/docs/current/api/org/apache/hadoop/fs/FileSystem.html))`\n         </td>       </tr>     </tbody></table> </p>  \n\nJobJobConfigurationJobContext\n\nMapReduce0.21org.apache.hadoop.mapreduceorg.apache.hadoop.mapredconfigureMapReduceBasemapmapperreducereducerconfiguresetupcachemap/reduce tasksetupcache    <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>       <tr>         <td valign=\"top\" width=\"568\">           <div class=\"dp-highlighter\">             <div class=\"bar\"></div>              \n\n1.  <span><span class=\"annotation\">@Override</span><span>&#160; </span></span>\n2.  <span></span><span class=\"keyword\">protected</span><span>&#160;</span><span class=\"keyword\">void</span><span> setup(Context context) </span><span class=\"keyword\">throws</span><span> IOException,&#160;&#160; </span></span>\n3.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; InterruptedException {&#160;&#160; </span>\n4.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">super</span><span>.setup(context);&#160;&#160; </span></span>\n5.  <span>&#160;&#160;&#160; URI[] uris = DistributedCache.getCacheFiles(context&#160;&#160; </span>\n6.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; .getConfiguration());&#160;&#160; </span>\n7.  <span>&#160;&#160;&#160; Path[] paths = DistributedCache.getLocalCacheFiles(context&#160;&#160; </span>\n8.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; .getConfiguration());&#160;&#160; </span>\n9.  <span>&#160;&#160;&#160; </span><span class=\"comment\">// TODO </span><span>&#160; </span></span>\n10.  <span>}&#160;&#160; </span>           </div>         </td>       </tr>     </tbody></table> \n\nhdfsclasspath    <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>       <tr>         <td valign=\"top\" width=\"568\">           <p>DistributedCache.addArchiveToClassPath(new Path(&quot;/data/test.jar&quot;), conf);\n         </td>       </tr>     </tbody></table> </p>  \n\n**3symlink**\n\nSymlinkhdfs#linknametasklinkname    <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>       <tr>         <td valign=\"top\" width=\"568\">           <p>conf.set(&quot;mapred.cache.files&quot;, &quot;/data/data#mData&quot;);\n\nconf.set(&quot;mapred.cache. archives&quot;, &quot;/data/data.zip#mDataZip&quot;);\n         </td>       </tr>        <tr>         <td valign=\"top\" width=\"568\">           <div class=\"dp-highlighter\">             <div class=\"bar\"></div>              \n\n1.  <span><span class=\"annotation\">@Override</span><span>&#160; </span></span>\n2.  <span></span><span class=\"keyword\">protected</span><span>&#160;</span><span class=\"keyword\">void</span><span> setup(Context context) </span><span class=\"keyword\">throws</span><span> IOException,&#160;&#160; </span></span>\n3.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; InterruptedException {&#160;&#160; </span>\n4.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">super</span><span>.setup(context);&#160;&#160; </span></span>\n5.  <span>&#160;&#160;&#160; FileReader reader = </span><span class=\"keyword\">new</span><span> FileReader(</span><span class=\"keyword\">new</span><span> File(</span><span class=\"string\">&quot;mData&quot;</span><span>));&#160;&#160; </span></span>\n6.  <span>&#160;&#160;&#160; BufferedReader bReader = </span><span class=\"keyword\">new</span><span> BufferedReader(reader);&#160;&#160; </span></span>\n7.  <span>&#160;&#160;&#160; </span><span class=\"comment\">// TODO </span><span>&#160; </span></span>\n8.  <span>}&#160; </span>           </div>         </td>       </tr>     </tbody></table> </p>  \n\nsymlinkhadoop    <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>       <tr>         <td valign=\"top\" width=\"568\">           <p>conf.set(&quot;mapred.create.symlink&quot;, &quot;yes&quot;); // yestrue\n         </td>       </tr>        <tr>         <td valign=\"top\" width=\"568\">           \n\n[DistributedCache.createSymlink(Configuration)](http://www.hongweiyi.com/wp-content/uploads/2012/02/DistributedCache.html)\n         </td>       </tr>     </tbody></table> </p>  \n\n**4**\n\n1HDFS\n\n2\n\n3read-only","source":"_posts/iterative-mapred-distcache.md","raw":"title: MapReduce DistributedCache\ntags:\n  - Hadoop\n  - MapReduce\nid: 337\ncategories:\n  - \ndate: 2012-02-23 16:01:52\n---\n\n**1****DistributedCache In Hadoop**\n\n[](http://www.hongweiyi.com/?p=250)Hadoop\n\nMapReduceDistributedCachemap taskreduce taskclasspathHadoopmapred.temp.dir\n\n <!--more-->  \n\n**2****DistributedCache**\n\nDistributedCacheConfiguratonmapred.cache.{files|archives}DistributedCache\n\n    <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>       <tr>         <td valign=\"top\" width=\"568\">           <p>conf.set(&quot;mapred.cache.files&quot;, &quot;/data/data&quot;);\n\nconf.set(&quot;mapred.cache. archives&quot;, &quot;/data/data.zip&quot;);\n         </td>       </tr>     </tbody></table> </p>  \n\n    <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>       <tr>         <td valign=\"top\" width=\"568\">           <p>[DistributedCache](http://hadoop.apache.org/common/docs/current/api/org/apache/hadoop/filecache/DistributedCache.html). `**[addCacheFile](http://hadoop.apache.org/common/docs/current/api/org/apache/hadoop/filecache/DistributedCache.html#addCacheFile(java.net.URI, org.apache.hadoop.conf.Configuration))**``([URI](http://java.sun.com/javase/6/docs/api/java/net/URI.html?is-external=true),` `[Configuration](http://hadoop.apache.org/common/docs/current/api/org/apache/hadoop/conf/Configuration.html))`\n\n[DistributedCache](http://hadoop.apache.org/common/docs/current/api/org/apache/hadoop/filecache/DistributedCache.html).`**[addArchiveToClassPath](http://hadoop.apache.org/common/docs/current/api/org/apache/hadoop/filecache/DistributedCache.html#addArchiveToClassPath(org.apache.hadoop.fs.Path, org.apache.hadoop.conf.Configuration, org.apache.hadoop.fs.FileSystem))**``([Path](http://hadoop.apache.org/common/docs/current/api/org/apache/hadoop/fs/Path.html),` `[Configuration](http://hadoop.apache.org/common/docs/current/api/org/apache/hadoop/conf/Configuration.html),` `[FileSystem](http://hadoop.apache.org/common/docs/current/api/org/apache/hadoop/fs/FileSystem.html))`\n         </td>       </tr>     </tbody></table> </p>  \n\nJobJobConfigurationJobContext\n\nMapReduce0.21org.apache.hadoop.mapreduceorg.apache.hadoop.mapredconfigureMapReduceBasemapmapperreducereducerconfiguresetupcachemap/reduce tasksetupcache    <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>       <tr>         <td valign=\"top\" width=\"568\">           <div class=\"dp-highlighter\">             <div class=\"bar\"></div>              \n\n1.  <span><span class=\"annotation\">@Override</span><span>&#160; </span></span>\n2.  <span></span><span class=\"keyword\">protected</span><span>&#160;</span><span class=\"keyword\">void</span><span> setup(Context context) </span><span class=\"keyword\">throws</span><span> IOException,&#160;&#160; </span></span>\n3.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; InterruptedException {&#160;&#160; </span>\n4.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">super</span><span>.setup(context);&#160;&#160; </span></span>\n5.  <span>&#160;&#160;&#160; URI[] uris = DistributedCache.getCacheFiles(context&#160;&#160; </span>\n6.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; .getConfiguration());&#160;&#160; </span>\n7.  <span>&#160;&#160;&#160; Path[] paths = DistributedCache.getLocalCacheFiles(context&#160;&#160; </span>\n8.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; .getConfiguration());&#160;&#160; </span>\n9.  <span>&#160;&#160;&#160; </span><span class=\"comment\">// TODO </span><span>&#160; </span></span>\n10.  <span>}&#160;&#160; </span>           </div>         </td>       </tr>     </tbody></table> \n\nhdfsclasspath    <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>       <tr>         <td valign=\"top\" width=\"568\">           <p>DistributedCache.addArchiveToClassPath(new Path(&quot;/data/test.jar&quot;), conf);\n         </td>       </tr>     </tbody></table> </p>  \n\n**3symlink**\n\nSymlinkhdfs#linknametasklinkname    <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>       <tr>         <td valign=\"top\" width=\"568\">           <p>conf.set(&quot;mapred.cache.files&quot;, &quot;/data/data#mData&quot;);\n\nconf.set(&quot;mapred.cache. archives&quot;, &quot;/data/data.zip#mDataZip&quot;);\n         </td>       </tr>        <tr>         <td valign=\"top\" width=\"568\">           <div class=\"dp-highlighter\">             <div class=\"bar\"></div>              \n\n1.  <span><span class=\"annotation\">@Override</span><span>&#160; </span></span>\n2.  <span></span><span class=\"keyword\">protected</span><span>&#160;</span><span class=\"keyword\">void</span><span> setup(Context context) </span><span class=\"keyword\">throws</span><span> IOException,&#160;&#160; </span></span>\n3.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; InterruptedException {&#160;&#160; </span>\n4.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">super</span><span>.setup(context);&#160;&#160; </span></span>\n5.  <span>&#160;&#160;&#160; FileReader reader = </span><span class=\"keyword\">new</span><span> FileReader(</span><span class=\"keyword\">new</span><span> File(</span><span class=\"string\">&quot;mData&quot;</span><span>));&#160;&#160; </span></span>\n6.  <span>&#160;&#160;&#160; BufferedReader bReader = </span><span class=\"keyword\">new</span><span> BufferedReader(reader);&#160;&#160; </span></span>\n7.  <span>&#160;&#160;&#160; </span><span class=\"comment\">// TODO </span><span>&#160; </span></span>\n8.  <span>}&#160; </span>           </div>         </td>       </tr>     </tbody></table> </p>  \n\nsymlinkhadoop    <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>       <tr>         <td valign=\"top\" width=\"568\">           <p>conf.set(&quot;mapred.create.symlink&quot;, &quot;yes&quot;); // yestrue\n         </td>       </tr>        <tr>         <td valign=\"top\" width=\"568\">           \n\n[DistributedCache.createSymlink(Configuration)](http://www.hongweiyi.com/wp-content/uploads/2012/02/DistributedCache.html)\n         </td>       </tr>     </tbody></table> </p>  \n\n**4**\n\n1HDFS\n\n2\n\n3read-only","slug":"iterative-mapred-distcache","published":1,"updated":"2015-12-29T13:31:03.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciirfw71b006osv8fl1nhk9pq"},{"title":" REMOTE","date":"2014-10-21T15:23:00.000Z","_content":"\n<!--more-->\n\n\n\n\n\n80%\n\n50%153\n\n5%\n\n1080%\n\n\n\n> REMOTE\n","source":"_posts/i-need-an-answer-now-from-remote.md","raw":"title:  REMOTE\ndate: 2014-10-21 23:23:00\ncategories: \ntags: Remote, , \n---\n\n<!--more-->\n\n\n\n\n\n80%\n\n50%153\n\n5%\n\n1080%\n\n\n\n> REMOTE\n","slug":"i-need-an-answer-now-from-remote","published":1,"updated":"2015-12-29T13:30:15.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciirfw71d006ssv8fzupk1lbr"},{"title":"Sina APP Engine","id":"210","date":"2011-11-12T14:38:57.000Z","_content":"\n** ******[**Sina APP Engine**](http://sae.sina.com.cn)****\n\nSina App EngineSAE200982009113Alphahttp://sae.sina.com.cnSAE<!--more-->\n\nSAEGoogleAmazonSAEWebPHPWebLinux/Mac/WindowsSVN[SDK](http://sae.sina.com.cn/?m=sdk)WebSAESAESAECPU\n\nSAEWeb\n\n** ******\n\nSAEGoogle APP EngineGAEWeb AppGAEPaaS\n\nSAEWeb Service ToolPHP+HTTPSAESAE\n\nSAESAEweb1 SAE\n\nSAESAESAEwebSAESAESAEweb\n\n\n\n** ****SAE****GAE**\n<table border=\"1\" cellspacing=\"0\" cellpadding=\"0\">\n<tbody>\n<tr>\n<td width=\"94\" valign=\"top\"></td>\n<td width=\"184\" valign=\"top\">**Sina App Engine**</td>\n<td width=\"200\" valign=\"top\">**Google App Engine**</td>\n</tr>\n<tr>\n<td width=\"94\" valign=\"top\">****</td>\n<td width=\"184\" valign=\"top\">PaaS</td>\n<td width=\"200\" valign=\"top\">PaaS</td>\n</tr>\n<tr>\n<td width=\"94\" valign=\"top\">****</td>\n<td width=\"184\" valign=\"top\">PHP</td>\n<td width=\"200\" valign=\"top\">JavaPythonGo</td>\n</tr>\n<tr>\n<td width=\"94\" valign=\"top\">****</td>\n<td width=\"184\" valign=\"top\">MySQL 5GB</td>\n<td width=\"200\" valign=\"top\"></td>\n</tr>\n<tr>\n<td width=\"94\" valign=\"top\">**app******</td>\n<td width=\"184\" valign=\"top\">10</td>\n<td width=\"200\" valign=\"top\">10</td>\n</tr>\n<tr>\n<td width=\"94\" valign=\"top\">**app******</td>\n<td width=\"184\" valign=\"top\">10GB4M</td>\n<td width=\"200\" valign=\"top\">1GB</td>\n</tr>\n<tr>\n<td width=\"94\" valign=\"top\">****</td>\n<td width=\"184\" valign=\"top\">100Mapp50M</td>\n<td width=\"200\" valign=\"top\">app150MB</td>\n</tr>\n<tr>\n<td width=\"94\" valign=\"top\">****</td>\n<td width=\"184\" valign=\"top\"></td>\n<td width=\"200\" valign=\"top\"></td>\n</tr>\n<tr>\n<td width=\"94\" valign=\"top\">****</td>\n<td width=\"184\" valign=\"top\">\n\n500\n\n2000</td>\n<td width=\"200\" valign=\"top\">6.5 CPU-hours1GB1GB</td>\n</tr>\n<tr>\n<td width=\"94\" valign=\"top\">****</td>\n<td width=\"184\" valign=\"top\">1=100\n\n</td>\n<td width=\"200\" valign=\"top\">0.1/GB\n0.12/GB\nCPU 0.1/CPU\n0.15/GB </td>\n</tr>\n</tbody>\n</table>\n** ****SAE******\n\nWordPressSina APP EngineSAE\n\nPhpWeb AppJavaPython\n\n********\n\n**SAE******\n\nSAE\n\nSAEweb developerweb\n\nSAEweb\n\nSAEsinaappSAEcname\n\nSLAService Level AgreementSAESLAweb\n\nSAEweb\n\n[http://sae.sina.com.cn](http://sae.sina.com.cn/)","source":"_posts/hello-sae.md","raw":"title: Sina APP Engine\ntags:\n  - SAE\nid: 210\ncategories:\n  - \ndate: 2011-11-12 22:38:57\n---\n\n** ******[**Sina APP Engine**](http://sae.sina.com.cn)****\n\nSina App EngineSAE200982009113Alphahttp://sae.sina.com.cnSAE<!--more-->\n\nSAEGoogleAmazonSAEWebPHPWebLinux/Mac/WindowsSVN[SDK](http://sae.sina.com.cn/?m=sdk)WebSAESAESAECPU\n\nSAEWeb\n\n** ******\n\nSAEGoogle APP EngineGAEWeb AppGAEPaaS\n\nSAEWeb Service ToolPHP+HTTPSAESAE\n\nSAESAEweb1 SAE\n\nSAESAESAEwebSAESAESAEweb\n\n\n\n** ****SAE****GAE**\n<table border=\"1\" cellspacing=\"0\" cellpadding=\"0\">\n<tbody>\n<tr>\n<td width=\"94\" valign=\"top\"></td>\n<td width=\"184\" valign=\"top\">**Sina App Engine**</td>\n<td width=\"200\" valign=\"top\">**Google App Engine**</td>\n</tr>\n<tr>\n<td width=\"94\" valign=\"top\">****</td>\n<td width=\"184\" valign=\"top\">PaaS</td>\n<td width=\"200\" valign=\"top\">PaaS</td>\n</tr>\n<tr>\n<td width=\"94\" valign=\"top\">****</td>\n<td width=\"184\" valign=\"top\">PHP</td>\n<td width=\"200\" valign=\"top\">JavaPythonGo</td>\n</tr>\n<tr>\n<td width=\"94\" valign=\"top\">****</td>\n<td width=\"184\" valign=\"top\">MySQL 5GB</td>\n<td width=\"200\" valign=\"top\"></td>\n</tr>\n<tr>\n<td width=\"94\" valign=\"top\">**app******</td>\n<td width=\"184\" valign=\"top\">10</td>\n<td width=\"200\" valign=\"top\">10</td>\n</tr>\n<tr>\n<td width=\"94\" valign=\"top\">**app******</td>\n<td width=\"184\" valign=\"top\">10GB4M</td>\n<td width=\"200\" valign=\"top\">1GB</td>\n</tr>\n<tr>\n<td width=\"94\" valign=\"top\">****</td>\n<td width=\"184\" valign=\"top\">100Mapp50M</td>\n<td width=\"200\" valign=\"top\">app150MB</td>\n</tr>\n<tr>\n<td width=\"94\" valign=\"top\">****</td>\n<td width=\"184\" valign=\"top\"></td>\n<td width=\"200\" valign=\"top\"></td>\n</tr>\n<tr>\n<td width=\"94\" valign=\"top\">****</td>\n<td width=\"184\" valign=\"top\">\n\n500\n\n2000</td>\n<td width=\"200\" valign=\"top\">6.5 CPU-hours1GB1GB</td>\n</tr>\n<tr>\n<td width=\"94\" valign=\"top\">****</td>\n<td width=\"184\" valign=\"top\">1=100\n\n</td>\n<td width=\"200\" valign=\"top\">0.1/GB\n0.12/GB\nCPU 0.1/CPU\n0.15/GB </td>\n</tr>\n</tbody>\n</table>\n** ****SAE******\n\nWordPressSina APP EngineSAE\n\nPhpWeb AppJavaPython\n\n********\n\n**SAE******\n\nSAE\n\nSAEweb developerweb\n\nSAEweb\n\nSAEsinaappSAEcname\n\nSLAService Level AgreementSAESLAweb\n\nSAEweb\n\n[http://sae.sina.com.cn](http://sae.sina.com.cn/)","slug":"hello-sae","published":1,"updated":"2015-12-29T13:31:03.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciirfw71e006wsv8fedmjidbb"},{"title":"Hadoop","id":"413","date":"2012-03-04T16:21:13.000Z","_content":"\nHadoopHadoopHadoopHadoop\n<!--more-->> 1\\.   [Nutch](http://nutch.apache.org/) \n> \n> 2\\.   [HDFS](http://hadoop.apache.org/hdfs/) \n> \n> 3\\.  - MapReduce \n> \n> 4\\.   [fuse](http://fuse.sourceforge.net/),[webdav](http://www.webdav.org/), [chukwa](http://incubator.apache.org/chukwa/), [flume](https://github.com/cloudera/flume/wiki), [Scribe](https://github.com/facebook/scribe) \n> \n> 5\\. HDFSRDBSMHDFS  [Hiho](https://github.com/sonalgoyal/hiho), [sqoop](http://www.cloudera.com/downloads/sqoop/) \n> \n> 6\\. MapReduceHadoop  [Pig](http://pig.apache.org/), [Hive](http://hive.apache.org/), [Jaql](http://code.google.com/p/jaql/) \n> \n> 7\\.   drilldown, [Intellicus](http://www.intellicus.com/) \n> \n> 8\\.   [oozie](http://yahoo.github.com/oozie/), [Cascading](http://www.cascading.org/) \n> \n> 9\\. Hadoop  [Hue](https://github.com/cloudera/hue), [karmasphere](http://karmasphere.com/), [eclipse plugin](http://wiki.apache.org/hadoop/EclipsePlugIn), [cacti](http://www.cacti.net/), [ganglia](http://ganglia.sourceforge.net/) \n> \n> 10\\.   [Avro](http://avro.apache.org/), [Zookeeper](http://zookeeper.apache.org/) \n> \n> 11\\. Hadoop  [Mahout](http://mahout.apache.org/), [Elastic map Reduce](http://aws.amazon.com/elasticmapreduce/) \n> \n> 12\\. OLTP  [Hbase](http://hbase.apache.org/)  \n\n![](http://pic.yupoo.com/iammutex/BKBq9XAQ/POqWJ.png)\n  > \n> \n> NoSQLFan[Hadoop](http://blog.nosqlfan.com/html/3675.html)","source":"_posts/hadoop-related.md","raw":"title: Hadoop\ntags:\n  - Hadoop\nid: 413\ncategories:\n  - \ndate: 2012-03-05 00:21:13\n---\n\nHadoopHadoopHadoopHadoop\n<!--more-->> 1\\.   [Nutch](http://nutch.apache.org/) \n> \n> 2\\.   [HDFS](http://hadoop.apache.org/hdfs/) \n> \n> 3\\.  - MapReduce \n> \n> 4\\.   [fuse](http://fuse.sourceforge.net/),[webdav](http://www.webdav.org/), [chukwa](http://incubator.apache.org/chukwa/), [flume](https://github.com/cloudera/flume/wiki), [Scribe](https://github.com/facebook/scribe) \n> \n> 5\\. HDFSRDBSMHDFS  [Hiho](https://github.com/sonalgoyal/hiho), [sqoop](http://www.cloudera.com/downloads/sqoop/) \n> \n> 6\\. MapReduceHadoop  [Pig](http://pig.apache.org/), [Hive](http://hive.apache.org/), [Jaql](http://code.google.com/p/jaql/) \n> \n> 7\\.   drilldown, [Intellicus](http://www.intellicus.com/) \n> \n> 8\\.   [oozie](http://yahoo.github.com/oozie/), [Cascading](http://www.cascading.org/) \n> \n> 9\\. Hadoop  [Hue](https://github.com/cloudera/hue), [karmasphere](http://karmasphere.com/), [eclipse plugin](http://wiki.apache.org/hadoop/EclipsePlugIn), [cacti](http://www.cacti.net/), [ganglia](http://ganglia.sourceforge.net/) \n> \n> 10\\.   [Avro](http://avro.apache.org/), [Zookeeper](http://zookeeper.apache.org/) \n> \n> 11\\. Hadoop  [Mahout](http://mahout.apache.org/), [Elastic map Reduce](http://aws.amazon.com/elasticmapreduce/) \n> \n> 12\\. OLTP  [Hbase](http://hbase.apache.org/)  \n\n![](http://pic.yupoo.com/iammutex/BKBq9XAQ/POqWJ.png)\n  > \n> \n> NoSQLFan[Hadoop](http://blog.nosqlfan.com/html/3675.html)","slug":"hadoop-related","published":1,"updated":"2015-12-29T13:31:03.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciirfw71j0070sv8f6lw04ye1"},{"title":"Hadoop Pipes","id":"533","date":"2012-05-12T15:04:42.000Z","_content":"\n**1****Hadoop Pipes******\n\nHadoop PipesHadoop MapReduceC++mapreduceStreamingPipesSocketTaskTrackerC++\n\n<!--more-->\n\n**2****Hadoop Pipes******\n\nHadoop PipesRecordReaderMapperPartitionerReducerRecordWriterCombiner\n\nHadoop PipesWordCountWordCountHadoop$HADOOP_HOME/src/examples/pipes/impl\n\nPipes\n  > $HADOOP_HOME/c++/Linux-i386oramd64-32/include/hadoop/  \n\nPipes.hhJobConfTaskContextCloseableFactory\n\n**TaskContext******contextkeyvalueprogressinputSplitemitHadoop FrameworkTaskContextMapContextReduceContext \n  <div class=\"dp-highlighter\">   <div class=\"bar\"></div>    \n\n1.  <span><span class=\"keyword\">class</span><span> TaskContext {&#160;&#160; </span></span>\n2.  <span></span><span class=\"keyword\">public</span><span>:&#160;&#160; </span></span>\n3.  <span>&#160; </span><span class=\"keyword\">class</span><span> Counter {&#160;&#160; </span></span>\n4.  <span>&#160; </span><span class=\"keyword\">private</span><span>:&#160;&#160; </span></span>\n5.  <span>&#160;&#160;&#160; </span><span class=\"datatypes\">int</span><span> id;&#160;&#160; </span></span>\n6.  <span>&#160; </span><span class=\"keyword\">public</span><span>:&#160;&#160; </span></span>\n7.  <span>&#160;&#160;&#160; Counter(</span><span class=\"datatypes\">int</span><span> counterId) : id(counterId) {}&#160;&#160; </span></span>\n8.  <span>&#160;&#160;&#160; Counter(</span><span class=\"keyword\">const</span><span> Counter&amp; counter) : id(counter.id) {}&#160;&#160; </span></span>\n9.  <span>&#160;&#160;&#160; </span><span class=\"datatypes\">int</span><span> getId() </span><span class=\"keyword\">const</span><span> { </span><span class=\"keyword\">return</span><span> id; }&#160;&#160; </span></span>\n10.  <span>&#160; };&#160;&#160; </span>\n11.  <span>&#160;&#160;&#160;&#160; </span>\n12.  <span>&#160; </span><span class=\"keyword\">virtual</span><span>&#160;</span><span class=\"keyword\">const</span><span> JobConf* getJobConf() = 0;&#160;&#160; </span></span>\n13.  <span>&#160; </span><span class=\"keyword\">virtual</span><span>&#160;</span><span class=\"keyword\">const</span><span> std::string&amp; getInputKey() = 0;&#160;&#160;&#160; </span></span>\n14.  <span>&#160; </span><span class=\"keyword\">virtual</span><span>&#160;</span><span class=\"keyword\">const</span><span> std::string&amp; getInputValue() = 0;&#160;&#160;&#160;&#160; </span></span>\n15.  <span>&#160; </span><span class=\"keyword\">virtual</span><span>&#160;</span><span class=\"keyword\">void</span><span> emit(</span><span class=\"keyword\">const</span><span> std::string&amp; key, </span><span class=\"keyword\">const</span><span> std::string&amp; value) = 0;&#160;&#160;&#160;&#160; </span></span>\n16.  <span>&#160; </span><span class=\"keyword\">virtual</span><span>&#160;</span><span class=\"keyword\">void</span><span> progress() = 0;&#160;&#160;&#160;&#160; </span></span>\n17.  <span>&#160; </span><span class=\"keyword\">virtual</span><span>&#160;</span><span class=\"keyword\">void</span><span> setStatus(</span><span class=\"keyword\">const</span><span> std::string&amp; status) = 0;&#160;&#160; </span></span>\n18.  <span>&#160; </span><span class=\"keyword\">virtual</span><span> Counter*&#160;&#160;&#160; </span></span>\n19.  <span>getCounter(</span><span class=\"keyword\">const</span><span> std::string&amp; group, </span><span class=\"keyword\">const</span><span> std::string&amp; name) = 0;&#160;&#160; </span></span>\n20.  <span>&#160; </span><span class=\"keyword\">virtual</span><span>&#160;</span><span class=\"keyword\">void</span><span> incrementCounter(</span><span class=\"keyword\">const</span><span> Counter* counter, uint64_t amount) = 0;&#160;&#160; </span></span>\n21.  <span>&#160; </span><span class=\"keyword\">virtual</span><span> ~TaskContext() {}&#160;&#160; </span></span>\n22.  <span>};&#160;&#160; </span>\n23.  <span>&#160; </span>\n24.  <span></span><span class=\"keyword\">class</span><span> MapContext: </span><span class=\"keyword\">public</span><span> TaskContext {&#160;&#160; </span></span>\n25.  <span></span><span class=\"keyword\">public</span><span>:&#160;&#160; </span></span>\n26.  <span>&#160; </span><span class=\"keyword\">virtual</span><span>&#160;</span><span class=\"keyword\">const</span><span> std::string&amp; getInputSplit() = 0;&#160;&#160; </span></span>\n27.  <span>&#160; </span><span class=\"keyword\">virtual</span><span>&#160;</span><span class=\"keyword\">const</span><span> std::string&amp; getInputKeyClass() = 0;&#160;&#160; </span></span>\n28.  <span>&#160; </span><span class=\"keyword\">virtual</span><span>&#160;</span><span class=\"keyword\">const</span><span> std::string&amp; getInputValueClass() = 0;&#160;&#160; </span></span>\n29.  <span>};&#160;&#160; </span>\n30.  <span>&#160; </span>\n31.  <span></span><span class=\"keyword\">class</span><span> ReduceContext: </span><span class=\"keyword\">public</span><span> TaskContext {&#160;&#160; </span></span>\n32.  <span></span><span class=\"keyword\">public</span><span>:&#160;&#160; </span></span>\n33.  <span>&#160; </span><span class=\"keyword\">virtual</span><span>&#160;</span><span class=\"datatypes\">bool</span><span> nextValue() = 0;&#160;&#160; </span></span>\n34.  <span>};&#160;&#160; </span> </div>    \n\n**JobConf** \n  <div class=\"dp-highlighter\">   <div class=\"bar\"></div>    \n\n1.  <span><span class=\"keyword\">class</span><span> JobConf {&#160;&#160; </span></span>\n2.  <span></span><span class=\"keyword\">public</span><span>:&#160;&#160; </span></span>\n3.  <span>&#160; </span><span class=\"keyword\">virtual</span><span>&#160;</span><span class=\"datatypes\">bool</span><span> hasKey(</span><span class=\"keyword\">const</span><span> std::string&amp; key) </span><span class=\"keyword\">const</span><span> = 0;&#160;&#160; </span></span>\n4.  <span>&#160; </span><span class=\"keyword\">virtual</span><span>&#160;</span><span class=\"keyword\">const</span><span> std::string&amp; get(</span><span class=\"keyword\">const</span><span> std::string&amp; key) </span><span class=\"keyword\">const</span><span> = 0;&#160;&#160; </span></span>\n5.  <span>&#160; </span><span class=\"keyword\">virtual</span><span>&#160;</span><span class=\"datatypes\">int</span><span> getInt(</span><span class=\"keyword\">const</span><span> std::string&amp; key) </span><span class=\"keyword\">const</span><span> = 0;&#160;&#160; </span></span>\n6.  <span>&#160; </span><span class=\"keyword\">virtual</span><span>&#160;</span><span class=\"datatypes\">float</span><span> getFloat(</span><span class=\"keyword\">const</span><span> std::string&amp; key) </span><span class=\"keyword\">const</span><span> = 0;&#160;&#160; </span></span>\n7.  <span>&#160; </span><span class=\"keyword\">virtual</span><span>&#160;</span><span class=\"datatypes\">bool</span><span> getBoolean(</span><span class=\"keyword\">const</span><span> std::string&amp;key) </span><span class=\"keyword\">const</span><span> = 0;&#160;&#160; </span></span>\n8.  <span>&#160; </span><span class=\"keyword\">virtual</span><span> ~JobConf() {}&#160;&#160; </span></span>\n9.  <span>};&#160;&#160; </span> </div>    \n\n**Closeable**close()Java\n\n**Factory**TemplateFactory.hhrunTaskFactory\n\n**3****Hadoop Pipes******\n\nMapReduceexampleswordcount-simple.cc\n\n**wordcount-simple.cc -&gt; Mapper &amp; Reducer** \n  <div class=\"dp-highlighter\">   <div class=\"bar\"></div>    \n\n1.  <span><span class=\"keyword\">class</span><span> WordCountMap: </span><span class=\"keyword\">public</span><span> HadoopPipes::Mapper {&#160;&#160; </span></span>\n2.  <span></span><span class=\"keyword\">public</span><span>:&#160;&#160; </span></span>\n3.  <span>&#160; HadoopPipes::TaskContext::Counter* inputWords;&#160;&#160; </span>\n4.  <span>&#160;&#160;&#160;&#160; </span>\n5.  <span>&#160; WordCountMap(HadoopPipes::TaskContext&amp; context) {&#160;&#160; </span>\n6.  <span>&#160;&#160;&#160; inputWords = context.getCounter(WORDCOUNT, INPUT_WORDS);&#160;&#160; </span>\n7.  <span>&#160; }&#160;&#160; </span>\n8.  <span>&#160;&#160;&#160;&#160; </span>\n9.  <span>&#160; </span><span class=\"keyword\">void</span><span> map(HadoopPipes::MapContext&amp; context) {&#160;&#160; </span></span>\n10.  <span>&#160;&#160;&#160; std::vector&lt;std::string&gt; words =&#160;&#160;&#160; </span>\n11.  <span>&#160;&#160;&#160;&#160;&#160; HadoopUtils::splitString(context.getInputValue(), </span><span class=\"string\">&quot; &quot;</span><span>);&#160;&#160; </span></span>\n12.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">for</span><span>(unsigned </span><span class=\"datatypes\">int</span><span> i=0; i &lt; words.size(); ++i) {&#160;&#160; </span></span>\n13.  <span>&#160;&#160;&#160;&#160;&#160; context.emit(words[i], </span><span class=\"string\">&quot;1&quot;</span><span>);&#160;&#160; </span></span>\n14.  <span>&#160;&#160;&#160; }&#160;&#160; </span>\n15.  <span>&#160;&#160;&#160; context.incrementCounter(inputWords, words.size());&#160;&#160; </span>\n16.  <span>&#160; }&#160;&#160; </span>\n17.  <span>};&#160;&#160; </span>\n18.  <span>&#160; </span>\n19.  <span></span><span class=\"keyword\">class</span><span> WordCountReduce: </span><span class=\"keyword\">public</span><span> HadoopPipes::Reducer {&#160;&#160; </span></span>\n20.  <span></span><span class=\"keyword\">public</span><span>:&#160;&#160; </span></span>\n21.  <span>&#160; HadoopPipes::TaskContext::Counter* outputWords;&#160;&#160; </span>\n22.  <span>&#160; </span>\n23.  <span>&#160; WordCountReduce(HadoopPipes::TaskContext&amp; context) {&#160;&#160; </span>\n24.  <span>&#160;&#160;&#160; outputWords = context.getCounter(WORDCOUNT, OUTPUT_WORDS);&#160;&#160; </span>\n25.  <span>&#160; }&#160;&#160; </span>\n26.  <span>&#160; </span>\n27.  <span>&#160; </span><span class=\"keyword\">void</span><span> reduce(HadoopPipes::ReduceContext&amp; context) {&#160;&#160; </span></span>\n28.  <span>&#160;&#160;&#160; </span><span class=\"datatypes\">int</span><span> sum = 0;&#160;&#160; </span></span>\n29.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">while</span><span> (context.nextValue()) {&#160;&#160; </span></span>\n30.  <span>&#160;&#160;&#160;&#160;&#160; sum += HadoopUtils::toInt(context.getInputValue());&#160;&#160; </span>\n31.  <span>&#160;&#160;&#160; }&#160;&#160; </span>\n32.  <span>&#160;&#160;&#160; context.emit(context.getInputKey(), HadoopUtils::toString(sum));&#160;&#160; </span>\n33.  <span>&#160;&#160;&#160; context.incrementCounter(outputWords, 1);&#160;&#160;&#160; </span>\n34.  <span>&#160; }&#160;&#160; </span>\n35.  <span>};&#160; </span> </div>    \n\nmapperreducer \n  <div class=\"dp-highlighter\">   <div class=\"bar\"></div>    \n\n1.  <span><span class=\"keyword\">class</span><span> Mapper: </span><span class=\"keyword\">public</span><span> Closable {&#160;&#160; </span></span>\n2.  <span></span><span class=\"keyword\">public</span><span>:&#160;&#160; </span></span>\n3.  <span>&#160; </span><span class=\"keyword\">virtual</span><span>&#160;</span><span class=\"keyword\">void</span><span> map(MapContext&amp; context) = 0;&#160;&#160; </span></span>\n4.  <span>};&#160;&#160; </span>\n5.  <span>&#160; </span>\n6.  <span></span><span class=\"keyword\">class</span><span> Reducer: </span><span class=\"keyword\">public</span><span> Closable {&#160;&#160; </span></span>\n7.  <span></span><span class=\"keyword\">public</span><span>:&#160;&#160; </span></span>\n8.  <span>&#160; </span><span class=\"keyword\">virtual</span><span>&#160;</span><span class=\"keyword\">void</span><span> reduce(ReduceContext&amp; context) = 0;&#160;&#160; </span></span>\n9.  <span>};&#160;&#160; </span> </div>    \n\ncontextkey/valuecontext.emit(key, value)\n\n\n\n1FactoryContextTaskContext\n\n2Hadoop Pipesmapreducekey/valueTextC++stringHadoopstringStringUtils.hh\n\n3Counterweb\n\n**wordcount-part.cc -&gt; Partitioner** \n  <div class=\"dp-highlighter\">   <div class=\"bar\"></div>    \n\n1.  <span><span class=\"keyword\">class</span><span> WordCountPartitioner: </span><span class=\"keyword\">public</span><span> HadoopPipes::Partitioner {&#160;&#160; </span></span>2.  <span></span><span class=\"keyword\">public</span><span>:&#160;&#160; </span></span>3.  <span>&#160; WordCountPartitioner(HadoopPipes::TaskContext&amp; context){}&#160;&#160; </span>4.  <span>&#160; </span><span class=\"keyword\">virtual</span><span>&#160;</span><span class=\"datatypes\">int</span><span> partition(</span><span class=\"keyword\">const</span><span> std::string&amp; key, </span><span class=\"datatypes\">int</span><span> numOfReduces) {&#160;&#160; </span></span>5.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">return</span><span> 0;&#160;&#160; </span></span>6.  <span>&#160; }&#160;&#160; </span>7.  <span>};&#160;&#160; </span> </div>    \n\nMapperReducerPartitionerreducePartitionermapper/reducerHadoopPipes:: RecordWriterTaskContext \n  <div class=\"dp-highlighter\">   <div class=\"bar\"></div>    \n\n1.  <span><span class=\"keyword\">class</span><span> Partitioner {&#160;&#160; </span></span>2.  <span></span><span class=\"keyword\">public</span><span>:&#160;&#160; </span></span>3.  <span>&#160; </span><span class=\"keyword\">virtual</span><span>&#160;</span><span class=\"datatypes\">int</span><span> partition(</span><span class=\"keyword\">const</span><span> std::string&amp; key, </span><span class=\"datatypes\">int</span><span> numOfReduces) = 0;&#160;&#160; </span></span>4.  <span>&#160; </span><span class=\"keyword\">virtual</span><span> ~Partitioner() {}&#160;&#160; </span></span>5.  <span>};&#160; </span> </div>    \n\nPartitionerJavapartitionkeyreduce tasknumOfReduces0~ numOfReduces-1\n\n**wordcount-nopipe.cc -&gt; RecordReader &amp; RecordWriter**\n\nnopipenopartPartitionerRecordReaderRecordWriterJavaRecordWriterInputSplitPipesC++ TaskTaskRecordRecordPipesHDFSlibhdfsPipes\n\nRecordReader/RecordWriter \n  <div class=\"dp-highlighter\">   <div class=\"bar\"></div>    \n\n1.  <span><span class=\"keyword\">class</span><span> RecordReader: </span><span class=\"keyword\">public</span><span> Closable {&#160;&#160; </span></span>2.  <span></span><span class=\"keyword\">public</span><span>:&#160;&#160; </span></span>3.  <span>&#160; </span><span class=\"keyword\">virtual</span><span>&#160;</span><span class=\"datatypes\">bool</span><span> next(std::string&amp; key, std::string&amp; value) = 0;&#160;&#160; </span></span>4.  <span>&#160; </span><span class=\"comment\">//  </span><span>&#160; </span></span>5.  <span>&#160; </span><span class=\"keyword\">virtual</span><span>&#160;</span><span class=\"datatypes\">float</span><span> getProgress() = 0;&#160;&#160; </span></span>6.  <span>};&#160;&#160; </span>7.  <span>&#160; </span>8.  <span></span><span class=\"keyword\">class</span><span> RecordWriter: </span><span class=\"keyword\">public</span><span> Closable {&#160;&#160; </span></span>9.  <span></span><span class=\"keyword\">public</span><span>:&#160;&#160; </span></span>10.  <span>&#160; </span><span class=\"keyword\">virtual</span><span>&#160;</span><span class=\"keyword\">void</span><span> emit(</span><span class=\"keyword\">const</span><span> std::string&amp; key,&#160;&#160; </span></span>11.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">const</span><span> std::string&amp; value) = 0;&#160;&#160; </span></span>12.  <span>};&#160; </span> </div>    \n\nRecordReaderHadoopPipes::MapContextTaskContextgetInputSplit()InpuSplitJavaInputFormatInputSplitInpuSplitInputSplitlibhdfsnext\n\nRecordWriterTaskContextgetJobConf()HadoopPipes::JobConfreduce taskreduce taskreduce taskemit\n\n**4****Hadoop Pipes******\n\nHadoop PipesHadoop\n\nhadoop pipes [-conf &lt;path&gt;] [-D &lt;key=value&gt;, &lt;key=value&gt;, ...] [-input &lt;path&gt;] [-output &lt;path&gt;] [-jar &lt;jar file&gt;] [-inputformat &lt;class&gt;] [-map &lt;class&gt;] [-partitioner &lt;class&gt;] [-reduce &lt;class&gt;] [-writer &lt;class&gt;] [-program &lt;executable&gt;]    <table border=\"0\" cellspacing=\"1\" cellpadding=\"0\"><tbody>       <tr>         <td valign=\"top\" width=\"254\">           <p>****** ******\n         </td>          <td valign=\"top\" width=\"292\">           \n\n****** ******\n         </td>       </tr>        <tr>         <td valign=\"top\" width=\"254\">           \n\n-conf &lt;path&gt;\n         </td>          <td valign=\"top\" width=\"292\">           \n\n\n         </td>       </tr>        <tr>         <td valign=\"top\" width=\"254\">           \n\n-D &lt;key=value&gt;\n         </td>          <td valign=\"top\" width=\"292\">           \n\n\n         </td>       </tr>        <tr>         <td valign=\"top\" width=\"254\">           \n\n-input &lt;path&gt;\n         </td>          <td valign=\"top\" width=\"292\">           \n\n\n         </td>       </tr>        <tr>         <td valign=\"top\" width=\"254\">           \n\n-output &lt;path&gt;\n         </td>          <td valign=\"top\" width=\"292\">           \n\n\n         </td>       </tr>        <tr>         <td valign=\"top\" width=\"254\">           \n\n-jar &lt;jar file&gt;\n         </td>          <td valign=\"top\" width=\"292\">           \n\njar\n         </td>       </tr>        <tr>         <td valign=\"top\" width=\"254\">           \n\n-inputformat class\n         </td>          <td valign=\"top\" width=\"292\">           \n\n#JavaInputFormat\n         </td>       </tr>        <tr>         <td valign=\"top\" width=\"254\">           \n\n-map &lt;class&gt;\n         </td>          <td valign=\"top\" width=\"292\">           \n\nJavaMapper\n         </td>       </tr>        <tr>         <td valign=\"top\" width=\"254\">           \n\n-partitioner &lt;class&gt;\n         </td>          <td valign=\"top\" width=\"292\">           \n\nJavaPartitioner\n         </td>       </tr>        <tr>         <td valign=\"top\" width=\"254\">           \n\n-reduce &lt;class&gt;\n         </td>          <td valign=\"top\" width=\"292\">           \n\nJavaReducer\n         </td>       </tr>        <tr>         <td valign=\"top\" width=\"254\">           \n\n-writer &lt;class&gt;\n         </td>          <td valign=\"top\" width=\"292\">           \n\nJava RecordWriter\n         </td>       </tr>        <tr>         <td valign=\"top\" width=\"254\">           \n\n-program &lt;executable&gt;\n         </td>          <td valign=\"top\" width=\"292\">           \n\nC++\n         </td>       </tr>     </tbody></table> </p>  \n\n-filesDistributedCachedatanode[DistributedCache](http://www.hongweiyi.com/2012/02/iterative-mapred-distcache/)\n  > **shell**: bin/hadoop pipes  -files dict.txt\n> \n> **c**: file = fopen(dict.txt, r); //   \n\n**5******\n\nHadoop PipesHadoop Pipes\n\nRecordReaderRecordWriterJavaHadoopHadoopC++libhdfsJNIJavalibhdfs\n\n&#160;\n  > ****\n> \n> : [Hadoop pipes](http://dongxicheng.org/mapreduce/hadoop-pipes-programming/)\n> \n> Hadoop","source":"_posts/hadoop-pipes.md","raw":"title: Hadoop Pipes\ntags:\n  - Hadoop\n  - Hadoop Pipes\n  - MapReduce\nid: 533\ncategories:\n  - \ndate: 2012-05-12 23:04:42\n---\n\n**1****Hadoop Pipes******\n\nHadoop PipesHadoop MapReduceC++mapreduceStreamingPipesSocketTaskTrackerC++\n\n<!--more-->\n\n**2****Hadoop Pipes******\n\nHadoop PipesRecordReaderMapperPartitionerReducerRecordWriterCombiner\n\nHadoop PipesWordCountWordCountHadoop$HADOOP_HOME/src/examples/pipes/impl\n\nPipes\n  > $HADOOP_HOME/c++/Linux-i386oramd64-32/include/hadoop/  \n\nPipes.hhJobConfTaskContextCloseableFactory\n\n**TaskContext******contextkeyvalueprogressinputSplitemitHadoop FrameworkTaskContextMapContextReduceContext \n  <div class=\"dp-highlighter\">   <div class=\"bar\"></div>    \n\n1.  <span><span class=\"keyword\">class</span><span> TaskContext {&#160;&#160; </span></span>\n2.  <span></span><span class=\"keyword\">public</span><span>:&#160;&#160; </span></span>\n3.  <span>&#160; </span><span class=\"keyword\">class</span><span> Counter {&#160;&#160; </span></span>\n4.  <span>&#160; </span><span class=\"keyword\">private</span><span>:&#160;&#160; </span></span>\n5.  <span>&#160;&#160;&#160; </span><span class=\"datatypes\">int</span><span> id;&#160;&#160; </span></span>\n6.  <span>&#160; </span><span class=\"keyword\">public</span><span>:&#160;&#160; </span></span>\n7.  <span>&#160;&#160;&#160; Counter(</span><span class=\"datatypes\">int</span><span> counterId) : id(counterId) {}&#160;&#160; </span></span>\n8.  <span>&#160;&#160;&#160; Counter(</span><span class=\"keyword\">const</span><span> Counter&amp; counter) : id(counter.id) {}&#160;&#160; </span></span>\n9.  <span>&#160;&#160;&#160; </span><span class=\"datatypes\">int</span><span> getId() </span><span class=\"keyword\">const</span><span> { </span><span class=\"keyword\">return</span><span> id; }&#160;&#160; </span></span>\n10.  <span>&#160; };&#160;&#160; </span>\n11.  <span>&#160;&#160;&#160;&#160; </span>\n12.  <span>&#160; </span><span class=\"keyword\">virtual</span><span>&#160;</span><span class=\"keyword\">const</span><span> JobConf* getJobConf() = 0;&#160;&#160; </span></span>\n13.  <span>&#160; </span><span class=\"keyword\">virtual</span><span>&#160;</span><span class=\"keyword\">const</span><span> std::string&amp; getInputKey() = 0;&#160;&#160;&#160; </span></span>\n14.  <span>&#160; </span><span class=\"keyword\">virtual</span><span>&#160;</span><span class=\"keyword\">const</span><span> std::string&amp; getInputValue() = 0;&#160;&#160;&#160;&#160; </span></span>\n15.  <span>&#160; </span><span class=\"keyword\">virtual</span><span>&#160;</span><span class=\"keyword\">void</span><span> emit(</span><span class=\"keyword\">const</span><span> std::string&amp; key, </span><span class=\"keyword\">const</span><span> std::string&amp; value) = 0;&#160;&#160;&#160;&#160; </span></span>\n16.  <span>&#160; </span><span class=\"keyword\">virtual</span><span>&#160;</span><span class=\"keyword\">void</span><span> progress() = 0;&#160;&#160;&#160;&#160; </span></span>\n17.  <span>&#160; </span><span class=\"keyword\">virtual</span><span>&#160;</span><span class=\"keyword\">void</span><span> setStatus(</span><span class=\"keyword\">const</span><span> std::string&amp; status) = 0;&#160;&#160; </span></span>\n18.  <span>&#160; </span><span class=\"keyword\">virtual</span><span> Counter*&#160;&#160;&#160; </span></span>\n19.  <span>getCounter(</span><span class=\"keyword\">const</span><span> std::string&amp; group, </span><span class=\"keyword\">const</span><span> std::string&amp; name) = 0;&#160;&#160; </span></span>\n20.  <span>&#160; </span><span class=\"keyword\">virtual</span><span>&#160;</span><span class=\"keyword\">void</span><span> incrementCounter(</span><span class=\"keyword\">const</span><span> Counter* counter, uint64_t amount) = 0;&#160;&#160; </span></span>\n21.  <span>&#160; </span><span class=\"keyword\">virtual</span><span> ~TaskContext() {}&#160;&#160; </span></span>\n22.  <span>};&#160;&#160; </span>\n23.  <span>&#160; </span>\n24.  <span></span><span class=\"keyword\">class</span><span> MapContext: </span><span class=\"keyword\">public</span><span> TaskContext {&#160;&#160; </span></span>\n25.  <span></span><span class=\"keyword\">public</span><span>:&#160;&#160; </span></span>\n26.  <span>&#160; </span><span class=\"keyword\">virtual</span><span>&#160;</span><span class=\"keyword\">const</span><span> std::string&amp; getInputSplit() = 0;&#160;&#160; </span></span>\n27.  <span>&#160; </span><span class=\"keyword\">virtual</span><span>&#160;</span><span class=\"keyword\">const</span><span> std::string&amp; getInputKeyClass() = 0;&#160;&#160; </span></span>\n28.  <span>&#160; </span><span class=\"keyword\">virtual</span><span>&#160;</span><span class=\"keyword\">const</span><span> std::string&amp; getInputValueClass() = 0;&#160;&#160; </span></span>\n29.  <span>};&#160;&#160; </span>\n30.  <span>&#160; </span>\n31.  <span></span><span class=\"keyword\">class</span><span> ReduceContext: </span><span class=\"keyword\">public</span><span> TaskContext {&#160;&#160; </span></span>\n32.  <span></span><span class=\"keyword\">public</span><span>:&#160;&#160; </span></span>\n33.  <span>&#160; </span><span class=\"keyword\">virtual</span><span>&#160;</span><span class=\"datatypes\">bool</span><span> nextValue() = 0;&#160;&#160; </span></span>\n34.  <span>};&#160;&#160; </span> </div>    \n\n**JobConf** \n  <div class=\"dp-highlighter\">   <div class=\"bar\"></div>    \n\n1.  <span><span class=\"keyword\">class</span><span> JobConf {&#160;&#160; </span></span>\n2.  <span></span><span class=\"keyword\">public</span><span>:&#160;&#160; </span></span>\n3.  <span>&#160; </span><span class=\"keyword\">virtual</span><span>&#160;</span><span class=\"datatypes\">bool</span><span> hasKey(</span><span class=\"keyword\">const</span><span> std::string&amp; key) </span><span class=\"keyword\">const</span><span> = 0;&#160;&#160; </span></span>\n4.  <span>&#160; </span><span class=\"keyword\">virtual</span><span>&#160;</span><span class=\"keyword\">const</span><span> std::string&amp; get(</span><span class=\"keyword\">const</span><span> std::string&amp; key) </span><span class=\"keyword\">const</span><span> = 0;&#160;&#160; </span></span>\n5.  <span>&#160; </span><span class=\"keyword\">virtual</span><span>&#160;</span><span class=\"datatypes\">int</span><span> getInt(</span><span class=\"keyword\">const</span><span> std::string&amp; key) </span><span class=\"keyword\">const</span><span> = 0;&#160;&#160; </span></span>\n6.  <span>&#160; </span><span class=\"keyword\">virtual</span><span>&#160;</span><span class=\"datatypes\">float</span><span> getFloat(</span><span class=\"keyword\">const</span><span> std::string&amp; key) </span><span class=\"keyword\">const</span><span> = 0;&#160;&#160; </span></span>\n7.  <span>&#160; </span><span class=\"keyword\">virtual</span><span>&#160;</span><span class=\"datatypes\">bool</span><span> getBoolean(</span><span class=\"keyword\">const</span><span> std::string&amp;key) </span><span class=\"keyword\">const</span><span> = 0;&#160;&#160; </span></span>\n8.  <span>&#160; </span><span class=\"keyword\">virtual</span><span> ~JobConf() {}&#160;&#160; </span></span>\n9.  <span>};&#160;&#160; </span> </div>    \n\n**Closeable**close()Java\n\n**Factory**TemplateFactory.hhrunTaskFactory\n\n**3****Hadoop Pipes******\n\nMapReduceexampleswordcount-simple.cc\n\n**wordcount-simple.cc -&gt; Mapper &amp; Reducer** \n  <div class=\"dp-highlighter\">   <div class=\"bar\"></div>    \n\n1.  <span><span class=\"keyword\">class</span><span> WordCountMap: </span><span class=\"keyword\">public</span><span> HadoopPipes::Mapper {&#160;&#160; </span></span>\n2.  <span></span><span class=\"keyword\">public</span><span>:&#160;&#160; </span></span>\n3.  <span>&#160; HadoopPipes::TaskContext::Counter* inputWords;&#160;&#160; </span>\n4.  <span>&#160;&#160;&#160;&#160; </span>\n5.  <span>&#160; WordCountMap(HadoopPipes::TaskContext&amp; context) {&#160;&#160; </span>\n6.  <span>&#160;&#160;&#160; inputWords = context.getCounter(WORDCOUNT, INPUT_WORDS);&#160;&#160; </span>\n7.  <span>&#160; }&#160;&#160; </span>\n8.  <span>&#160;&#160;&#160;&#160; </span>\n9.  <span>&#160; </span><span class=\"keyword\">void</span><span> map(HadoopPipes::MapContext&amp; context) {&#160;&#160; </span></span>\n10.  <span>&#160;&#160;&#160; std::vector&lt;std::string&gt; words =&#160;&#160;&#160; </span>\n11.  <span>&#160;&#160;&#160;&#160;&#160; HadoopUtils::splitString(context.getInputValue(), </span><span class=\"string\">&quot; &quot;</span><span>);&#160;&#160; </span></span>\n12.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">for</span><span>(unsigned </span><span class=\"datatypes\">int</span><span> i=0; i &lt; words.size(); ++i) {&#160;&#160; </span></span>\n13.  <span>&#160;&#160;&#160;&#160;&#160; context.emit(words[i], </span><span class=\"string\">&quot;1&quot;</span><span>);&#160;&#160; </span></span>\n14.  <span>&#160;&#160;&#160; }&#160;&#160; </span>\n15.  <span>&#160;&#160;&#160; context.incrementCounter(inputWords, words.size());&#160;&#160; </span>\n16.  <span>&#160; }&#160;&#160; </span>\n17.  <span>};&#160;&#160; </span>\n18.  <span>&#160; </span>\n19.  <span></span><span class=\"keyword\">class</span><span> WordCountReduce: </span><span class=\"keyword\">public</span><span> HadoopPipes::Reducer {&#160;&#160; </span></span>\n20.  <span></span><span class=\"keyword\">public</span><span>:&#160;&#160; </span></span>\n21.  <span>&#160; HadoopPipes::TaskContext::Counter* outputWords;&#160;&#160; </span>\n22.  <span>&#160; </span>\n23.  <span>&#160; WordCountReduce(HadoopPipes::TaskContext&amp; context) {&#160;&#160; </span>\n24.  <span>&#160;&#160;&#160; outputWords = context.getCounter(WORDCOUNT, OUTPUT_WORDS);&#160;&#160; </span>\n25.  <span>&#160; }&#160;&#160; </span>\n26.  <span>&#160; </span>\n27.  <span>&#160; </span><span class=\"keyword\">void</span><span> reduce(HadoopPipes::ReduceContext&amp; context) {&#160;&#160; </span></span>\n28.  <span>&#160;&#160;&#160; </span><span class=\"datatypes\">int</span><span> sum = 0;&#160;&#160; </span></span>\n29.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">while</span><span> (context.nextValue()) {&#160;&#160; </span></span>\n30.  <span>&#160;&#160;&#160;&#160;&#160; sum += HadoopUtils::toInt(context.getInputValue());&#160;&#160; </span>\n31.  <span>&#160;&#160;&#160; }&#160;&#160; </span>\n32.  <span>&#160;&#160;&#160; context.emit(context.getInputKey(), HadoopUtils::toString(sum));&#160;&#160; </span>\n33.  <span>&#160;&#160;&#160; context.incrementCounter(outputWords, 1);&#160;&#160;&#160; </span>\n34.  <span>&#160; }&#160;&#160; </span>\n35.  <span>};&#160; </span> </div>    \n\nmapperreducer \n  <div class=\"dp-highlighter\">   <div class=\"bar\"></div>    \n\n1.  <span><span class=\"keyword\">class</span><span> Mapper: </span><span class=\"keyword\">public</span><span> Closable {&#160;&#160; </span></span>\n2.  <span></span><span class=\"keyword\">public</span><span>:&#160;&#160; </span></span>\n3.  <span>&#160; </span><span class=\"keyword\">virtual</span><span>&#160;</span><span class=\"keyword\">void</span><span> map(MapContext&amp; context) = 0;&#160;&#160; </span></span>\n4.  <span>};&#160;&#160; </span>\n5.  <span>&#160; </span>\n6.  <span></span><span class=\"keyword\">class</span><span> Reducer: </span><span class=\"keyword\">public</span><span> Closable {&#160;&#160; </span></span>\n7.  <span></span><span class=\"keyword\">public</span><span>:&#160;&#160; </span></span>\n8.  <span>&#160; </span><span class=\"keyword\">virtual</span><span>&#160;</span><span class=\"keyword\">void</span><span> reduce(ReduceContext&amp; context) = 0;&#160;&#160; </span></span>\n9.  <span>};&#160;&#160; </span> </div>    \n\ncontextkey/valuecontext.emit(key, value)\n\n\n\n1FactoryContextTaskContext\n\n2Hadoop Pipesmapreducekey/valueTextC++stringHadoopstringStringUtils.hh\n\n3Counterweb\n\n**wordcount-part.cc -&gt; Partitioner** \n  <div class=\"dp-highlighter\">   <div class=\"bar\"></div>    \n\n1.  <span><span class=\"keyword\">class</span><span> WordCountPartitioner: </span><span class=\"keyword\">public</span><span> HadoopPipes::Partitioner {&#160;&#160; </span></span>2.  <span></span><span class=\"keyword\">public</span><span>:&#160;&#160; </span></span>3.  <span>&#160; WordCountPartitioner(HadoopPipes::TaskContext&amp; context){}&#160;&#160; </span>4.  <span>&#160; </span><span class=\"keyword\">virtual</span><span>&#160;</span><span class=\"datatypes\">int</span><span> partition(</span><span class=\"keyword\">const</span><span> std::string&amp; key, </span><span class=\"datatypes\">int</span><span> numOfReduces) {&#160;&#160; </span></span>5.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">return</span><span> 0;&#160;&#160; </span></span>6.  <span>&#160; }&#160;&#160; </span>7.  <span>};&#160;&#160; </span> </div>    \n\nMapperReducerPartitionerreducePartitionermapper/reducerHadoopPipes:: RecordWriterTaskContext \n  <div class=\"dp-highlighter\">   <div class=\"bar\"></div>    \n\n1.  <span><span class=\"keyword\">class</span><span> Partitioner {&#160;&#160; </span></span>2.  <span></span><span class=\"keyword\">public</span><span>:&#160;&#160; </span></span>3.  <span>&#160; </span><span class=\"keyword\">virtual</span><span>&#160;</span><span class=\"datatypes\">int</span><span> partition(</span><span class=\"keyword\">const</span><span> std::string&amp; key, </span><span class=\"datatypes\">int</span><span> numOfReduces) = 0;&#160;&#160; </span></span>4.  <span>&#160; </span><span class=\"keyword\">virtual</span><span> ~Partitioner() {}&#160;&#160; </span></span>5.  <span>};&#160; </span> </div>    \n\nPartitionerJavapartitionkeyreduce tasknumOfReduces0~ numOfReduces-1\n\n**wordcount-nopipe.cc -&gt; RecordReader &amp; RecordWriter**\n\nnopipenopartPartitionerRecordReaderRecordWriterJavaRecordWriterInputSplitPipesC++ TaskTaskRecordRecordPipesHDFSlibhdfsPipes\n\nRecordReader/RecordWriter \n  <div class=\"dp-highlighter\">   <div class=\"bar\"></div>    \n\n1.  <span><span class=\"keyword\">class</span><span> RecordReader: </span><span class=\"keyword\">public</span><span> Closable {&#160;&#160; </span></span>2.  <span></span><span class=\"keyword\">public</span><span>:&#160;&#160; </span></span>3.  <span>&#160; </span><span class=\"keyword\">virtual</span><span>&#160;</span><span class=\"datatypes\">bool</span><span> next(std::string&amp; key, std::string&amp; value) = 0;&#160;&#160; </span></span>4.  <span>&#160; </span><span class=\"comment\">//  </span><span>&#160; </span></span>5.  <span>&#160; </span><span class=\"keyword\">virtual</span><span>&#160;</span><span class=\"datatypes\">float</span><span> getProgress() = 0;&#160;&#160; </span></span>6.  <span>};&#160;&#160; </span>7.  <span>&#160; </span>8.  <span></span><span class=\"keyword\">class</span><span> RecordWriter: </span><span class=\"keyword\">public</span><span> Closable {&#160;&#160; </span></span>9.  <span></span><span class=\"keyword\">public</span><span>:&#160;&#160; </span></span>10.  <span>&#160; </span><span class=\"keyword\">virtual</span><span>&#160;</span><span class=\"keyword\">void</span><span> emit(</span><span class=\"keyword\">const</span><span> std::string&amp; key,&#160;&#160; </span></span>11.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">const</span><span> std::string&amp; value) = 0;&#160;&#160; </span></span>12.  <span>};&#160; </span> </div>    \n\nRecordReaderHadoopPipes::MapContextTaskContextgetInputSplit()InpuSplitJavaInputFormatInputSplitInpuSplitInputSplitlibhdfsnext\n\nRecordWriterTaskContextgetJobConf()HadoopPipes::JobConfreduce taskreduce taskreduce taskemit\n\n**4****Hadoop Pipes******\n\nHadoop PipesHadoop\n\nhadoop pipes [-conf &lt;path&gt;] [-D &lt;key=value&gt;, &lt;key=value&gt;, ...] [-input &lt;path&gt;] [-output &lt;path&gt;] [-jar &lt;jar file&gt;] [-inputformat &lt;class&gt;] [-map &lt;class&gt;] [-partitioner &lt;class&gt;] [-reduce &lt;class&gt;] [-writer &lt;class&gt;] [-program &lt;executable&gt;]    <table border=\"0\" cellspacing=\"1\" cellpadding=\"0\"><tbody>       <tr>         <td valign=\"top\" width=\"254\">           <p>****** ******\n         </td>          <td valign=\"top\" width=\"292\">           \n\n****** ******\n         </td>       </tr>        <tr>         <td valign=\"top\" width=\"254\">           \n\n-conf &lt;path&gt;\n         </td>          <td valign=\"top\" width=\"292\">           \n\n\n         </td>       </tr>        <tr>         <td valign=\"top\" width=\"254\">           \n\n-D &lt;key=value&gt;\n         </td>          <td valign=\"top\" width=\"292\">           \n\n\n         </td>       </tr>        <tr>         <td valign=\"top\" width=\"254\">           \n\n-input &lt;path&gt;\n         </td>          <td valign=\"top\" width=\"292\">           \n\n\n         </td>       </tr>        <tr>         <td valign=\"top\" width=\"254\">           \n\n-output &lt;path&gt;\n         </td>          <td valign=\"top\" width=\"292\">           \n\n\n         </td>       </tr>        <tr>         <td valign=\"top\" width=\"254\">           \n\n-jar &lt;jar file&gt;\n         </td>          <td valign=\"top\" width=\"292\">           \n\njar\n         </td>       </tr>        <tr>         <td valign=\"top\" width=\"254\">           \n\n-inputformat class\n         </td>          <td valign=\"top\" width=\"292\">           \n\n#JavaInputFormat\n         </td>       </tr>        <tr>         <td valign=\"top\" width=\"254\">           \n\n-map &lt;class&gt;\n         </td>          <td valign=\"top\" width=\"292\">           \n\nJavaMapper\n         </td>       </tr>        <tr>         <td valign=\"top\" width=\"254\">           \n\n-partitioner &lt;class&gt;\n         </td>          <td valign=\"top\" width=\"292\">           \n\nJavaPartitioner\n         </td>       </tr>        <tr>         <td valign=\"top\" width=\"254\">           \n\n-reduce &lt;class&gt;\n         </td>          <td valign=\"top\" width=\"292\">           \n\nJavaReducer\n         </td>       </tr>        <tr>         <td valign=\"top\" width=\"254\">           \n\n-writer &lt;class&gt;\n         </td>          <td valign=\"top\" width=\"292\">           \n\nJava RecordWriter\n         </td>       </tr>        <tr>         <td valign=\"top\" width=\"254\">           \n\n-program &lt;executable&gt;\n         </td>          <td valign=\"top\" width=\"292\">           \n\nC++\n         </td>       </tr>     </tbody></table> </p>  \n\n-filesDistributedCachedatanode[DistributedCache](http://www.hongweiyi.com/2012/02/iterative-mapred-distcache/)\n  > **shell**: bin/hadoop pipes  -files dict.txt\n> \n> **c**: file = fopen(dict.txt, r); //   \n\n**5******\n\nHadoop PipesHadoop Pipes\n\nRecordReaderRecordWriterJavaHadoopHadoopC++libhdfsJNIJavalibhdfs\n\n&#160;\n  > ****\n> \n> : [Hadoop pipes](http://dongxicheng.org/mapreduce/hadoop-pipes-programming/)\n> \n> Hadoop","slug":"hadoop-pipes","published":1,"updated":"2015-12-29T13:31:03.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciirfw71l0073sv8ff1p3gmks"},{"title":"Hadoop Pipes","id":"541","date":"2012-05-13T06:20:19.000Z","_content":"\n**1******\n\nHadoop PipesC++MapReduceC++JavaSocket\n\nHadoop PipesHadoop Pipes**[Hadoop Pipes](http://www.hongweiyi.com/2012/05/hadoop-pipes/)**\n\n<!--more-->\n\n**2****Hadoop Pipes******\n\n[![image](http://www.hongweiyi.com/wp-content/uploads/2012/05/image_thumb.png \"image\")](http://www.hongweiyi.com/wp-content/uploads/2012/05/image.png) \n\n**3****Hadoop******\n\nHadooporg.apache.hadoop.mapred.pipes\n\nApplicationJVMPipesMapRunnerPipesReducerPipesPartitionerPipesNonJavaInputFormatC++MapperReducerPartitionerRecordReaderRecordWriterC++DownwardProtocol/BinaryProtocolUpwardProtocol/OutputProtocolJavaC++\n\n[![image](http://www.hongweiyi.com/wp-content/uploads/2012/05/image_thumb1.png \"image\")](http://www.hongweiyi.com/wp-content/uploads/2012/05/image1.png)\n\n$HADOOP_HOME/bin/hadoop pipesSubmitter    <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>       <tr>         <td valign=\"top\" width=\"568\">           <p>1 \n\n2 setupPipes(job)\n\n2.1 MapperPartitionerReducerRecordWriterjavaPipesMapRunnerPipesPartitionerPipesReducerNullOutputFormat/dev/null\n\n2.2 map/reducekey/value classText.class\n\n2.3 RecordReaderjavaPipesNonJavaInputFormat\n\n2.4 debug\n\n3 JobClient.submitJob(job);\n         </td>       </tr>     </tbody></table> </p>  \n\nJobClientPipesTaskTaskTrackerJVMRunnerPipesMapRunner    <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>       <tr>         <td valign=\"top\" width=\"568\">           <p>1 Application\n\n1.1 ServerSocket\n\n1.2 \n\n1.3 chmod +x\n\n1.4 java.lang.ProcessBuilder\n\n1.5 DownwardProcotol\n\n1.5.1 UplinkReaderThread\n\n1.5.2 \n\n1.6 downlink.start()\n\n2 JavaRecordReaderInputSplitSplitInputSplitsplitrecordKVP\n         </td>       </tr>     </tbody></table> </p>  \n\nPipesReducerPipesMapRunner    <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>       <tr>         <td valign=\"top\" width=\"568\">           <p>1 ApplicationMap\n\n2 keyvalue\n         </td>       </tr>     </tbody></table> </p>  \n\nHadoopC++Java$HADOOP_HOME/src/c++/pipes/impl/HadoopPipes.cc\n\nProcessBuilderC++main \n  <div class=\"dp-highlighter\">   <div class=\"bar\"></div>    \n\n1.  <span><span class=\"datatypes\">int</span><span> main(</span><span class=\"datatypes\">int</span><span> argc, </span><span class=\"datatypes\">char</span><span> *argv[]) {&#160;&#160; </span></span>2.  <span>&#160; </span><span class=\"keyword\">return</span><span> HadoopPipes::runTask(HadoopPipes::TemplateFactory&lt;WordCountMap,&#160;&#160;&#160; </span></span>3.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; WordCountReduce&gt;());&#160;&#160; </span>4.  <span>}&#160;&#160; </span> </div>    \n\nHadoopUtils::runTask(factory)    <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>       <tr>         <td valign=\"top\" width=\"568\">           <p>1 \n\n2 socketsocket\n\n3 ping5s\n\n4 \n\n5 done\n\n6 Hadoop\n         </td>       </tr>     </tbody></table> </p>  \n\n**4****Hadoop Pipes******\n\nHadoop PipesRPCHadoopC++HadoopC++DownwardProtocolC++HadoopUpwardProtocolSerialUtils.cc\n\nC++HadoopPipes BrokenApache[howToDebugMapReducePrograms](http://wiki.apache.org/hadoop/HowToDebugMapReducePrograms)\n\n&#160;\n\n  > ****\n> \n> [](http://dongxicheng.org/mapreduce/hadoop-pipes-architecture/)\n> \n> Hadoop","source":"_posts/hadoop-pipes-src.md","raw":"title: Hadoop Pipes\ntags:\n  - Hadoop\n  - Hadoop Pipes\n  - MapReduce\nid: 541\ncategories:\n  - \ndate: 2012-05-13 14:20:19\n---\n\n**1******\n\nHadoop PipesC++MapReduceC++JavaSocket\n\nHadoop PipesHadoop Pipes**[Hadoop Pipes](http://www.hongweiyi.com/2012/05/hadoop-pipes/)**\n\n<!--more-->\n\n**2****Hadoop Pipes******\n\n[![image](http://www.hongweiyi.com/wp-content/uploads/2012/05/image_thumb.png \"image\")](http://www.hongweiyi.com/wp-content/uploads/2012/05/image.png) \n\n**3****Hadoop******\n\nHadooporg.apache.hadoop.mapred.pipes\n\nApplicationJVMPipesMapRunnerPipesReducerPipesPartitionerPipesNonJavaInputFormatC++MapperReducerPartitionerRecordReaderRecordWriterC++DownwardProtocol/BinaryProtocolUpwardProtocol/OutputProtocolJavaC++\n\n[![image](http://www.hongweiyi.com/wp-content/uploads/2012/05/image_thumb1.png \"image\")](http://www.hongweiyi.com/wp-content/uploads/2012/05/image1.png)\n\n$HADOOP_HOME/bin/hadoop pipesSubmitter    <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>       <tr>         <td valign=\"top\" width=\"568\">           <p>1 \n\n2 setupPipes(job)\n\n2.1 MapperPartitionerReducerRecordWriterjavaPipesMapRunnerPipesPartitionerPipesReducerNullOutputFormat/dev/null\n\n2.2 map/reducekey/value classText.class\n\n2.3 RecordReaderjavaPipesNonJavaInputFormat\n\n2.4 debug\n\n3 JobClient.submitJob(job);\n         </td>       </tr>     </tbody></table> </p>  \n\nJobClientPipesTaskTaskTrackerJVMRunnerPipesMapRunner    <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>       <tr>         <td valign=\"top\" width=\"568\">           <p>1 Application\n\n1.1 ServerSocket\n\n1.2 \n\n1.3 chmod +x\n\n1.4 java.lang.ProcessBuilder\n\n1.5 DownwardProcotol\n\n1.5.1 UplinkReaderThread\n\n1.5.2 \n\n1.6 downlink.start()\n\n2 JavaRecordReaderInputSplitSplitInputSplitsplitrecordKVP\n         </td>       </tr>     </tbody></table> </p>  \n\nPipesReducerPipesMapRunner    <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>       <tr>         <td valign=\"top\" width=\"568\">           <p>1 ApplicationMap\n\n2 keyvalue\n         </td>       </tr>     </tbody></table> </p>  \n\nHadoopC++Java$HADOOP_HOME/src/c++/pipes/impl/HadoopPipes.cc\n\nProcessBuilderC++main \n  <div class=\"dp-highlighter\">   <div class=\"bar\"></div>    \n\n1.  <span><span class=\"datatypes\">int</span><span> main(</span><span class=\"datatypes\">int</span><span> argc, </span><span class=\"datatypes\">char</span><span> *argv[]) {&#160;&#160; </span></span>2.  <span>&#160; </span><span class=\"keyword\">return</span><span> HadoopPipes::runTask(HadoopPipes::TemplateFactory&lt;WordCountMap,&#160;&#160;&#160; </span></span>3.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; WordCountReduce&gt;());&#160;&#160; </span>4.  <span>}&#160;&#160; </span> </div>    \n\nHadoopUtils::runTask(factory)    <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>       <tr>         <td valign=\"top\" width=\"568\">           <p>1 \n\n2 socketsocket\n\n3 ping5s\n\n4 \n\n5 done\n\n6 Hadoop\n         </td>       </tr>     </tbody></table> </p>  \n\n**4****Hadoop Pipes******\n\nHadoop PipesRPCHadoopC++HadoopC++DownwardProtocolC++HadoopUpwardProtocolSerialUtils.cc\n\nC++HadoopPipes BrokenApache[howToDebugMapReducePrograms](http://wiki.apache.org/hadoop/HowToDebugMapReducePrograms)\n\n&#160;\n\n  > ****\n> \n> [](http://dongxicheng.org/mapreduce/hadoop-pipes-architecture/)\n> \n> Hadoop","slug":"hadoop-pipes-src","published":1,"updated":"2015-12-29T13:31:03.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciirfw71m0079sv8fnugzhjkc"},{"title":"Hadoop - ipc.Server","id":"387","date":"2012-02-27T04:57:25.000Z","_content":"\n**1******\n\nipcRPCClientipc.ServerServerHadoop\n\n<!--more-->\n\n**2****Server**\n\nServer\n\n**1****Call**\n\nBlockQueue\n\n**2****Listener**\n\nListenerListener.ReaderReader\n\n**3****Responder**\n\nRPCResponder\n\n**4****Connection**\n\n\n\n**5****Handler**\n\nblockQueueCallcallQueuecall\n\n**3****Server**\n\n[](http://www.hongweiyi.com/2012/02/hadoop-ipc-rpc/)ServerRPC.getServergetServerRPC.ServerNamenodeRPCServerRPC.Server     <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>       <tr>         <td valign=\"top\" width=\"568\">           <div class=\"dp-highlighter\">             <div class=\"bar\"></div>              \n\n1.  <span><span class=\"keyword\">private</span><span>&#160;</span><span class=\"keyword\">void</span><span> initialize(Configuration conf) </span><span class=\"keyword\">throws</span><span> IOException {&#160;&#160; </span></span>\n2.  <span>&#160;&#160;&#160; &#160;&#160; </span>\n3.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">this</span><span>.serviceRpcServer = RPC.getServer(</span><span class=\"keyword\">this</span><span>, dnSocketAddr.getHostName(),&#160;&#160;&#160; </span></span>\n4.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; dnSocketAddr.getPort(), serviceHandlerCount,&#160;&#160; </span>\n5.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">false</span><span>, conf, namesystem.getDelegationTokenSecretManager());&#160;&#160; </span></span>\n6.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">this</span><span>.serviceRpcServer.start(); </span><span class=\"comment\">//  </span><span>&#160; </span></span>\n7.  <span>}&#160;&#160; </span>           </div>         </td>       </tr>        <tr>         <td valign=\"top\" width=\"568\">           <div class=\"dp-highlighter\">             <div class=\"bar\"></div>              \n\n1.  <span><span class=\"keyword\">public</span><span> Server(Object instance, Configuration conf, String bindAddress,&#160; </span><span class=\"keyword\">int</span><span> port,&#160;&#160; </span></span>\n2.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">int</span><span> numHandlers, </span><span class=\"keyword\">boolean</span><span> verbose,&#160;&#160;&#160; </span></span>\n3.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SecretManager&lt;? </span><span class=\"keyword\">extends</span><span> TokenIdentifier&gt; secretManager)&#160;&#160;&#160; </span></span>\n4.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">throws</span><span> IOException {&#160;&#160; </span></span>\n5.  <span>&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">super</span><span>(bindAddress, port, Invocation.</span><span class=\"keyword\">class</span><span>, numHandlers, conf,&#160;&#160; </span></span>\n6.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; classNameBase(instance.getClass().getName()), secretManager);&#160;&#160; </span>\n7.  <span>&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">this</span><span>.instance = instance;&#160;&#160; </span></span>\n8.  <span>&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">this</span><span>.verbose = verbose;&#160;&#160; </span></span>\n9.  <span>&#160;&#160;&#160; }&#160;&#160; </span>           </div>            <p>\n         </td>       </tr>     </tbody></table> </p>  \n\n    <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>       <tr>         <td valign=\"top\" width=\"568\">           <div class=\"dp-highlighter\">             <div class=\"bar\"></div>              \n\n1.  <span><span class=\"keyword\">protected</span><span> Server(String bindAddress, </span><span class=\"keyword\">int</span><span> port,&#160;&#160;&#160; </span></span>\n2.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Class&lt;? </span><span class=\"keyword\">extends</span><span> Writable&gt; paramClass, </span><span class=\"keyword\">int</span><span> handlerCount,&#160;&#160;&#160; </span></span>\n3.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Configuration conf, String serverName, SecretManager&lt;? </span><span class=\"keyword\">extends</span><span> TokenIdentifier&gt; secretManager)&#160;&#160;&#160; </span></span>\n4.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">throws</span><span> IOException {&#160;&#160; </span></span>\n5.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">this</span><span>.bindAddress = bindAddress;&#160;&#160; </span></span>\n6.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">this</span><span>.conf = conf;&#160;&#160; </span></span>\n7.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">this</span><span>.port = port;&#160;&#160; </span></span>\n8.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">this</span><span>.paramClass = paramClass;&#160;&#160; </span></span>\n9.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">this</span><span>.handlerCount = handlerCount;&#160;&#160; </span></span>\n10.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">this</span><span>.socketSendBufferSize = </span><span class=\"number\">0</span><span>;&#160;&#160; </span></span>\n11.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">this</span><span>.maxQueueSize = handlerCount * conf.getInt(&#160;&#160; </span></span>\n12.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; IPC_SERVER_HANDLER_QUEUE_SIZE_KEY,&#160;&#160; </span>\n13.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; IPC_SERVER_HANDLER_QUEUE_SIZE_DEFAULT);&#160;&#160; </span>\n14.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">this</span><span>.maxRespSize = conf.getInt(IPC_SERVER_RPC_MAX_RESPONSE_SIZE_KEY,&#160;&#160; </span></span>\n15.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; IPC_SERVER_RPC_MAX_RESPONSE_SIZE_DEFAULT);&#160;&#160; </span>\n16.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">this</span><span>.readThreads = conf.getInt(&#160;&#160; </span></span>\n17.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; IPC_SERVER_RPC_READ_THREADS_KEY,&#160;&#160; </span>\n18.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; IPC_SERVER_RPC_READ_THREADS_DEFAULT);&#160;&#160; </span>\n19.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">this</span><span>.callQueue&#160; = </span><span class=\"keyword\">new</span><span> LinkedBlockingQueue&lt;Call&gt;(maxQueueSize);&#160;&#160;&#160; </span></span>\n20.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">this</span><span>.maxIdleTime = </span><span class=\"number\">2</span><span>*conf.getInt(</span><span class=\"string\">&quot;ipc.client.connection.maxidletime&quot;</span><span>, </span><span class=\"number\">1000</span><span>);&#160;&#160; </span></span>\n21.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">this</span><span>.maxConnectionsToNuke = conf.getInt(</span><span class=\"string\">&quot;ipc.client.kill.max&quot;</span><span>, </span><span class=\"number\">10</span><span>);&#160;&#160; </span></span>\n22.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">this</span><span>.thresholdIdleConnections = conf.getInt(</span><span class=\"string\">&quot;ipc.client.idlethreshold&quot;</span><span>, </span><span class=\"number\">4000</span><span>);&#160;&#160; </span></span>\n23.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">this</span><span>.secretManager = (SecretManager&lt;TokenIdentifier&gt;) secretManager;&#160;&#160; </span></span>\n24.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">this</span><span>.authorize =&#160;&#160;&#160; </span></span>\n25.  <span>&#160;&#160;&#160;&#160;&#160; conf.getBoolean(HADOOP_SECURITY_AUTHORIZATION, </span><span class=\"keyword\">false</span><span>);&#160;&#160; </span></span>\n26.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">this</span><span>.isSecurityEnabled = UserGroupInformation.isSecurityEnabled();&#160;&#160; </span></span>\n27.  <span>&#160;&#160;&#160;&#160;&#160;&#160; </span>\n28.  <span>&#160;&#160;&#160; </span><span class=\"comment\">// Start the listener here and let it bind to the port </span><span>&#160; </span></span>\n29.  <span>&#160;&#160;&#160; listener = </span><span class=\"keyword\">new</span><span> Listener();&#160;&#160; </span></span>\n30.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">this</span><span>.port = listener.getAddress().getPort();&#160;&#160;&#160;&#160;&#160;&#160; </span></span>\n31.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">this</span><span>.rpcMetrics = RpcInstrumentation.create(serverName, </span><span class=\"keyword\">this</span><span>.port);&#160;&#160; </span></span>\n32.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">this</span><span>.tcpNoDelay = conf.getBoolean(</span><span class=\"string\">&quot;ipc.server.tcpnodelay&quot;</span><span>, </span><span class=\"keyword\">false</span><span>);&#160;&#160; </span></span>\n33.  <span>&#160; </span>\n34.  <span>&#160;&#160;&#160; </span><span class=\"comment\">// Create the responder here </span><span>&#160; </span></span>\n35.  <span>&#160;&#160;&#160; responder = </span><span class=\"keyword\">new</span><span> Responder();&#160;&#160; </span></span>\n36.  <span>&#160;&#160;&#160;&#160;&#160;&#160; </span>\n37.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">if</span><span> (isSecurityEnabled) {&#160;&#160; </span></span>\n38.  <span>&#160;&#160;&#160;&#160;&#160; SaslRpcServer.init(conf);&#160;&#160; </span>\n39.  <span>&#160;&#160;&#160; }&#160;&#160; </span>\n40.  <span>&#160; }&#160;&#160; </span>           </div>         </td>       </tr>     </tbody></table> \n\n\n\n**4Server**\n\nRpcServer.start()Server    <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>       <tr>         <td valign=\"top\" width=\"568\">           <div class=\"dp-highlighter\">             <div class=\"bar\"></div>              \n\n1.  <span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">synchronized</span><span>&#160;</span><span class=\"keyword\">void</span><span> start() {&#160;&#160; </span></span>\n2.  <span>&#160;&#160;&#160; responder.start();&#160;&#160; </span>\n3.  <span>&#160;&#160;&#160; listener.start();&#160;&#160; </span>\n4.  <span>&#160;&#160;&#160; handlers = </span><span class=\"keyword\">new</span><span> Handler[handlerCount];&#160;&#160; </span></span>\n5.  <span>&#160;&#160;&#160;&#160;&#160;&#160; </span>\n6.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">for</span><span> (</span><span class=\"keyword\">int</span><span> i = </span><span class=\"number\">0</span><span>; i &lt; handlerCount; i++) {&#160;&#160; </span></span>\n7.  <span>&#160;&#160;&#160;&#160;&#160; handlers[i] = </span><span class=\"keyword\">new</span><span> Handler(i);&#160;&#160; </span></span>\n8.  <span>&#160;&#160;&#160;&#160;&#160; handlers[i].start();&#160;&#160; </span>\n9.  <span>&#160;&#160;&#160; }&#160;&#160; </span>\n10.  <span>&#160; }&#160;&#160; </span>           </div>         </td>       </tr>     </tbody></table> \n\nresponderlistenerhandlersselector.select()handlercallQueue.take()Responder15listenerReader\n\n**4Server**\n\n**1******\n\nListenerSelectionKeydoAccept(key)listconnectionkeyreaderconneReader    <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>       <tr>         <td valign=\"top\" width=\"568\">           <div class=\"dp-highlighter\">             <div class=\"bar\"></div>              \n\n1.  <span><span class=\"keyword\">void</span><span> doAccept(SelectionKey key) </span><span class=\"keyword\">throws</span><span> IOException,&#160; OutOfMemoryError {&#160;&#160; </span></span>\n2.  <span>&#160;&#160;&#160;&#160;&#160; Connection c = </span><span class=\"keyword\">null</span><span>;&#160;&#160; </span></span>\n3.  <span>&#160;&#160;&#160;&#160;&#160; ServerSocketChannel server = (ServerSocketChannel) key.channel();&#160;&#160; </span>\n4.  <span>&#160;&#160;&#160;&#160;&#160; SocketChannel channel;&#160;&#160; </span>\n5.  <span>&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">while</span><span> ((channel = server.accept()) != </span><span class=\"keyword\">null</span><span>) {&#160;&#160; </span></span>\n6.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; channel.configureBlocking(</span><span class=\"keyword\">false</span><span>);&#160;&#160; </span></span>\n7.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; channel.socket().setTcpNoDelay(tcpNoDelay);&#160;&#160; </span>\n8.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; Reader reader = getReader();&#160;&#160; </span>\n9.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">try</span><span> {&#160;&#160; </span></span>\n10.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; reader.startAdd();&#160; </span><span class=\"comment\">// readSelectoraddingtrue </span><span>&#160; </span></span>\n11.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SelectionKey readKey = reader.registerChannel(channel);&#160;&#160; </span>\n12.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; c = </span><span class=\"keyword\">new</span><span> Connection(readKey, channel, System.currentTimeMillis());&#160;&#160; </span></span>\n13.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; readKey.attach(c);&#160;&#160; </span>\n14.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">synchronized</span><span> (connectionList) {&#160;&#160; </span></span>\n15.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; connectionList.add(numConnections, c);&#160;&#160; </span>\n16.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; numConnections++;&#160;&#160; </span>\n17.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; }&#160;&#160; </span>\n18.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span>\n19.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; } </span><span class=\"keyword\">finally</span><span> {&#160;&#160; </span></span>\n20.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; reader.finishAdd(); </span><span class=\"comment\">// addaddingfalseReader </span><span>&#160; </span></span>\n21.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; }&#160;&#160; </span>\n22.  <span>&#160;&#160;&#160; }&#160;&#160; </span>\n23.  <span>}&#160;&#160; </span>           </div>         </td>       </tr>     </tbody></table> \n\n**2******\n\nReaderrunListenerSelectionKeydoRead(key)keyconnectionconectionreadAndProcess()    <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>       <tr>         <td valign=\"top\" width=\"568\">           <div class=\"dp-highlighter\">             <div class=\"bar\"></div>              \n\n1.  <span><span class=\"keyword\">void</span><span> doRead(SelectionKey key) </span><span class=\"keyword\">throws</span><span> InterruptedException {&#160;&#160; </span></span>\n2.  <span>&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">int</span><span> count = </span><span class=\"number\">0</span><span>;&#160;&#160; </span></span>\n3.  <span>&#160;&#160;&#160;&#160;&#160; Connection c = (Connection)key.attachment(); </span><span class=\"comment\">//  </span><span>&#160; </span></span>\n4.  <span>&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">if</span><span> (c == </span><span class=\"keyword\">null</span><span>) {&#160;&#160; </span></span>\n5.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">return</span><span>;&#160;&#160;&#160;&#160; </span></span>\n6.  <span>&#160;&#160;&#160;&#160;&#160; }&#160;&#160; </span>\n7.  <span>&#160;&#160;&#160;&#160;&#160; c.setLastContact(System.currentTimeMillis());&#160;&#160; </span>\n8.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span>\n9.  <span>&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">try</span><span> {&#160;&#160; </span></span>\n10.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; count = c.readAndProcess(); </span><span class=\"comment\">//  </span><span>&#160; </span></span>\n11.  <span>&#160;&#160;&#160;&#160;&#160; } </span><span class=\"keyword\">catch</span><span> (InterruptedException ieo) {&#160;&#160; </span></span>\n12.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160; </span>\n13.  <span>&#160;&#160;&#160;&#160;&#160; }&#160;&#160; </span>\n14.  <span>&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">if</span><span> (count &lt; </span><span class=\"number\">0</span><span>) {&#160;&#160; </span></span>\n15.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160; </span>\n16.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; closeConnection(c);&#160;&#160; </span>\n17.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; c = </span><span class=\"keyword\">null</span><span>;&#160;&#160; </span></span>\n18.  <span>&#160;&#160;&#160;&#160;&#160; }&#160;&#160; </span>\n19.  <span>&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">else</span><span> {&#160;&#160; </span></span>\n20.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; c.setLastContact(System.currentTimeMillis());&#160;&#160; </span>\n21.  <span>&#160;&#160;&#160;&#160;&#160; }&#160;&#160; </span>\n22.  <span>&#160;&#160;&#160; }&#160;&#160; </span>           </div>         </td>       </tr>        <tr>         <td valign=\"top\" width=\"568\">           <div class=\"dp-highlighter\">             <div class=\"bar\"></div>              \n\n1.  <span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">int</span><span> readAndProcess() </span><span class=\"keyword\">throws</span><span> IOException, InterruptedException {&#160;&#160; </span></span>\n2.  <span></span><span class=\"comment\">// RPC </span><span>&#160; </span></span>\n3.  <span></span><span class=\"comment\">// &#160;&#160; </span><span>&#160; </span></span>\n4.  <span></span><span class=\"keyword\">while</span><span> (</span><span class=\"keyword\">true</span><span>) {&#160;&#160;&#160; </span></span>\n5.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">int</span><span> count = -</span><span class=\"number\">1</span><span>;&#160;&#160; </span></span>\n6.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">if</span><span> (dataLengthBuffer.remaining() &gt; </span><span class=\"number\">0</span><span>) {&#160;&#160; </span></span>\n7.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; count = channelRead(channel, dataLengthBuffer);&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span>\n8.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160; </span>\n9.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">if</span><span> (!rpcHeaderRead) {&#160;&#160; </span></span>\n10.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"comment\">//. </span><span>&#160; </span></span>\n11.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">if</span><span> (rpcHeaderBuffer == </span><span class=\"keyword\">null</span><span>) {&#160;&#160; </span></span>\n12.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; rpcHeaderBuffer = ByteBuffer.allocate(</span><span class=\"number\">2</span><span>);&#160;&#160; </span></span>\n13.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; }&#160;&#160; </span>\n14.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; count = channelRead(channel, rpcHeaderBuffer);&#160;&#160; </span>\n15.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">if</span><span> (count &lt; </span><span class=\"number\">0</span><span> || rpcHeaderBuffer.remaining() &gt; </span><span class=\"number\">0</span><span>) {&#160;&#160; </span></span>\n16.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">return</span><span> count;&#160;&#160; </span></span>\n17.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; }&#160;&#160; </span>\n18.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"comment\">//  </span><span>&#160; </span></span>\n19.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">int</span><span> version = rpcHeaderBuffer.get(</span><span class=\"number\">0</span><span>);&#160;&#160; </span></span>\n20.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">byte</span><span>[] method = </span><span class=\"keyword\">new</span><span>&#160;</span><span class=\"keyword\">byte</span><span>[] {rpcHeaderBuffer.get(</span><span class=\"number\">1</span><span>)};&#160;&#160; </span></span>\n21.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; authMethod = AuthMethod.read(</span><span class=\"keyword\">new</span><span> DataInputStream(&#160;&#160; </span></span>\n22.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">new</span><span> ByteArrayInputStream(method)));&#160;&#160; </span></span>\n23.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; dataLengthBuffer.flip();&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span>\n24.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160; </span>\n25.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; dataLengthBuffer.clear();&#160;&#160; </span>\n26.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160; </span>\n27.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span>\n28.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; rpcHeaderBuffer = </span><span class=\"keyword\">null</span><span>;&#160;&#160; </span></span>\n29.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; rpcHeaderRead = </span><span class=\"keyword\">true</span><span>;&#160;&#160; </span></span>\n30.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">continue</span><span>;&#160;&#160; </span></span>\n31.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; }&#160;&#160;&#160; </span>\n32.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160; </span>\n33.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; data = ByteBuffer.allocate(dataLength);&#160;&#160; </span>\n34.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; }&#160;&#160; </span>\n35.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span>\n36.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"comment\">//  </span><span>&#160; </span></span>\n37.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; count = channelRead(channel, data);&#160;&#160; </span>\n38.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span>\n39.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">if</span><span> (data.remaining() == </span><span class=\"number\">0</span><span>) {&#160;&#160; </span></span>\n40.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160; </span>\n41.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">if</span><span> (useSasl) {&#160;&#160; </span></span>\n42.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; saslReadAndProcess(data.array());&#160;&#160; </span>\n43.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; } </span><span class=\"keyword\">else</span><span> {&#160;&#160; </span></span>\n44.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"comment\">// RPCheaderparam </span><span>&#160; </span></span>\n45.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; processOneRpc(data.array());&#160;&#160; </span>\n46.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; }&#160;&#160; </span>\n47.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160; </span>\n48.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; }&#160;&#160;&#160; </span>\n49.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">return</span><span> count;&#160;&#160; </span></span>\n50.  <span>&#160;&#160;&#160;&#160;&#160; }&#160;&#160; </span>\n51.  <span>&#160;&#160;&#160; }&#160;&#160; </span>           </div>         </td>       </tr>     </tbody></table> \n\n**3****call**\n\nConnectionparamCallcallQueue    <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>       <tr>         <td valign=\"top\" width=\"568\">           <div class=\"dp-highlighter\">             <div class=\"bar\"></div>              \n\n1.  <span><span class=\"keyword\">private</span><span>&#160;</span><span class=\"keyword\">void</span><span> processData(</span><span class=\"keyword\">byte</span><span>[] buf) </span><span class=\"keyword\">throws</span><span>&#160; IOException, InterruptedException {&#160;&#160; </span></span>\n2.  <span>&#160;&#160;&#160;&#160;&#160; DataInputStream dis =&#160;&#160; </span>\n3.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">new</span><span> DataInputStream(</span><span class=\"keyword\">new</span><span> ByteArrayInputStream(buf));&#160;&#160; </span></span>\n4.  <span>&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">int</span><span> id = dis.readInt();&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"comment\">// id </span><span>&#160; </span></span>\n5.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160; </span>\n6.  <span>&#160; </span>\n7.  <span>&#160;&#160;&#160;&#160;&#160; Writable param = ReflectionUtils.newInstance(paramClass, conf);</span><span class=\"comment\">// paramClassServer </span><span>&#160; </span></span>\n8.  <span>&#160;&#160;&#160;&#160;&#160; param.readFields(dis);&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span>\n9.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span>\n10.  <span>&#160;&#160;&#160;&#160;&#160; Call call = </span><span class=\"keyword\">new</span><span> Call(id, param, </span><span class=\"keyword\">this</span><span>);&#160;&#160; </span></span>\n11.  <span>&#160;&#160;&#160;&#160;&#160; callQueue.put(call);&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"comment\">// max </span><span>&#160; </span></span>\n12.  <span>&#160;&#160;&#160;&#160;&#160; incRpcCount();&#160;&#160;&#160; </span>\n13.  <span>&#160;&#160;&#160; }&#160;&#160; </span>           </div>         </td>       </tr>     </tbody></table> \n\n**4****call**\n\nConnectioncallQueuecallHandlercallRPC.Call    <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>       <tr>         <td valign=\"top\" width=\"568\">           <div class=\"dp-highlighter\">             <div class=\"bar\"></div>              \n\n1.  <span><span class=\"comment\">//  </span><span>&#160; </span></span>\n2.  <span></span><span class=\"keyword\">while</span><span> (running) {&#160;&#160; </span></span>\n3.  <span></span><span class=\"keyword\">final</span><span> Call call = callQueue.take(); </span><span class=\"comment\">// call </span><span>&#160; </span></span>\n4.  <span>CurCall.set(call);&#160;&#160; </span>\n5.  <span>&#160;&#160;&#160;&#160; value = call(call.connection.protocol, call.param,&#160;&#160;&#160; </span>\n6.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; call.timestamp); </span><span class=\"comment\">// RPC.Servercall </span><span>&#160; </span></span>\n7.  <span>&#160;&#160;&#160;&#160; CurCall.set(</span><span class=\"keyword\">null</span><span>);&#160;&#160; </span></span>\n8.  <span>&#160; </span>\n9.  <span></span><span class=\"keyword\">synchronized</span><span> (call.connection.responseQueue) {&#160;&#160; </span></span>\n10.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; setupResponse(buf, call,&#160;&#160;&#160; </span>\n11.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; (error == </span><span class=\"keyword\">null</span><span>) ? Status.SUCCESS : Status.ERROR,&#160;&#160;&#160; </span></span>\n12.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; value, errorClass, error);&#160;&#160; </span>\n13.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160; </span>\n14.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; responder.doRespond(call);&#160;&#160; </span>\n15.  <span>&#160;&#160;&#160;&#160; }&#160;&#160; </span>\n16.  <span>}&#160;&#160; </span>           </div>         </td>       </tr>     </tbody></table> \n\n**5**\n\nsetupResponsecallidcallresponse:ByteBufferresponder.doRespond(call)processResponseResponder.run()    <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>       <tr>         <td valign=\"top\" width=\"568\">           <div class=\"dp-highlighter\">             <div class=\"bar\"></div>              \n\n1.  <span><span class=\"keyword\">void</span><span> doRespond(Call call) </span><span class=\"keyword\">throws</span><span> IOException {&#160;&#160; </span></span>2.  <span>&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">synchronized</span><span> (call.connection.responseQueue) {&#160;&#160; </span></span>3.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"comment\">//  </span><span>&#160; </span></span>4.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; call.connection.responseQueue.addLast(call);&#160;&#160; </span>5.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">if</span><span> (call.connection.responseQueue.size() == </span><span class=\"number\">1</span><span>) {&#160;&#160; </span></span>6.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"comment\">// writeSelector </span><span>&#160; </span></span>7.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; processResponse(call.connection.responseQueue, </span><span class=\"keyword\">true</span><span>);&#160;&#160; </span></span>8.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; }&#160;&#160; </span>9.  <span>&#160;&#160;&#160;&#160;&#160; }&#160;&#160; </span>10.  <span>&#160;&#160;&#160; }&#160;&#160; </span>           </div>         </td>       </tr>     </tbody></table> \n\n**6**\n\nServerJava TCP/IP NIOBlockingQueuewait/notifyreactornioreactor**[](http://www.cnblogs.com/ericchen/archive/2011/05/08/2036993.html)**\n\nServerListenerListener.ReaderResponderCallHandlers\n\nTCP/IP BIOTCP/IP NIO\n\nHadoopNamenodeDatanodeheartbeatblockreportHadoop\n\nP.S.: 0.20.203.0rc1","source":"_posts/hadoop-ipc-server.md","raw":"title: Hadoop - ipc.Server\ntags:\n  - Hadoop\n  - RPC\nid: 387\ncategories:\n  - \ndate: 2012-02-27 12:57:25\n---\n\n**1******\n\nipcRPCClientipc.ServerServerHadoop\n\n<!--more-->\n\n**2****Server**\n\nServer\n\n**1****Call**\n\nBlockQueue\n\n**2****Listener**\n\nListenerListener.ReaderReader\n\n**3****Responder**\n\nRPCResponder\n\n**4****Connection**\n\n\n\n**5****Handler**\n\nblockQueueCallcallQueuecall\n\n**3****Server**\n\n[](http://www.hongweiyi.com/2012/02/hadoop-ipc-rpc/)ServerRPC.getServergetServerRPC.ServerNamenodeRPCServerRPC.Server     <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>       <tr>         <td valign=\"top\" width=\"568\">           <div class=\"dp-highlighter\">             <div class=\"bar\"></div>              \n\n1.  <span><span class=\"keyword\">private</span><span>&#160;</span><span class=\"keyword\">void</span><span> initialize(Configuration conf) </span><span class=\"keyword\">throws</span><span> IOException {&#160;&#160; </span></span>\n2.  <span>&#160;&#160;&#160; &#160;&#160; </span>\n3.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">this</span><span>.serviceRpcServer = RPC.getServer(</span><span class=\"keyword\">this</span><span>, dnSocketAddr.getHostName(),&#160;&#160;&#160; </span></span>\n4.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; dnSocketAddr.getPort(), serviceHandlerCount,&#160;&#160; </span>\n5.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">false</span><span>, conf, namesystem.getDelegationTokenSecretManager());&#160;&#160; </span></span>\n6.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">this</span><span>.serviceRpcServer.start(); </span><span class=\"comment\">//  </span><span>&#160; </span></span>\n7.  <span>}&#160;&#160; </span>           </div>         </td>       </tr>        <tr>         <td valign=\"top\" width=\"568\">           <div class=\"dp-highlighter\">             <div class=\"bar\"></div>              \n\n1.  <span><span class=\"keyword\">public</span><span> Server(Object instance, Configuration conf, String bindAddress,&#160; </span><span class=\"keyword\">int</span><span> port,&#160;&#160; </span></span>\n2.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">int</span><span> numHandlers, </span><span class=\"keyword\">boolean</span><span> verbose,&#160;&#160;&#160; </span></span>\n3.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SecretManager&lt;? </span><span class=\"keyword\">extends</span><span> TokenIdentifier&gt; secretManager)&#160;&#160;&#160; </span></span>\n4.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">throws</span><span> IOException {&#160;&#160; </span></span>\n5.  <span>&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">super</span><span>(bindAddress, port, Invocation.</span><span class=\"keyword\">class</span><span>, numHandlers, conf,&#160;&#160; </span></span>\n6.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; classNameBase(instance.getClass().getName()), secretManager);&#160;&#160; </span>\n7.  <span>&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">this</span><span>.instance = instance;&#160;&#160; </span></span>\n8.  <span>&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">this</span><span>.verbose = verbose;&#160;&#160; </span></span>\n9.  <span>&#160;&#160;&#160; }&#160;&#160; </span>           </div>            <p>\n         </td>       </tr>     </tbody></table> </p>  \n\n    <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>       <tr>         <td valign=\"top\" width=\"568\">           <div class=\"dp-highlighter\">             <div class=\"bar\"></div>              \n\n1.  <span><span class=\"keyword\">protected</span><span> Server(String bindAddress, </span><span class=\"keyword\">int</span><span> port,&#160;&#160;&#160; </span></span>\n2.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Class&lt;? </span><span class=\"keyword\">extends</span><span> Writable&gt; paramClass, </span><span class=\"keyword\">int</span><span> handlerCount,&#160;&#160;&#160; </span></span>\n3.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Configuration conf, String serverName, SecretManager&lt;? </span><span class=\"keyword\">extends</span><span> TokenIdentifier&gt; secretManager)&#160;&#160;&#160; </span></span>\n4.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">throws</span><span> IOException {&#160;&#160; </span></span>\n5.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">this</span><span>.bindAddress = bindAddress;&#160;&#160; </span></span>\n6.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">this</span><span>.conf = conf;&#160;&#160; </span></span>\n7.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">this</span><span>.port = port;&#160;&#160; </span></span>\n8.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">this</span><span>.paramClass = paramClass;&#160;&#160; </span></span>\n9.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">this</span><span>.handlerCount = handlerCount;&#160;&#160; </span></span>\n10.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">this</span><span>.socketSendBufferSize = </span><span class=\"number\">0</span><span>;&#160;&#160; </span></span>\n11.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">this</span><span>.maxQueueSize = handlerCount * conf.getInt(&#160;&#160; </span></span>\n12.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; IPC_SERVER_HANDLER_QUEUE_SIZE_KEY,&#160;&#160; </span>\n13.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; IPC_SERVER_HANDLER_QUEUE_SIZE_DEFAULT);&#160;&#160; </span>\n14.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">this</span><span>.maxRespSize = conf.getInt(IPC_SERVER_RPC_MAX_RESPONSE_SIZE_KEY,&#160;&#160; </span></span>\n15.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; IPC_SERVER_RPC_MAX_RESPONSE_SIZE_DEFAULT);&#160;&#160; </span>\n16.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">this</span><span>.readThreads = conf.getInt(&#160;&#160; </span></span>\n17.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; IPC_SERVER_RPC_READ_THREADS_KEY,&#160;&#160; </span>\n18.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; IPC_SERVER_RPC_READ_THREADS_DEFAULT);&#160;&#160; </span>\n19.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">this</span><span>.callQueue&#160; = </span><span class=\"keyword\">new</span><span> LinkedBlockingQueue&lt;Call&gt;(maxQueueSize);&#160;&#160;&#160; </span></span>\n20.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">this</span><span>.maxIdleTime = </span><span class=\"number\">2</span><span>*conf.getInt(</span><span class=\"string\">&quot;ipc.client.connection.maxidletime&quot;</span><span>, </span><span class=\"number\">1000</span><span>);&#160;&#160; </span></span>\n21.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">this</span><span>.maxConnectionsToNuke = conf.getInt(</span><span class=\"string\">&quot;ipc.client.kill.max&quot;</span><span>, </span><span class=\"number\">10</span><span>);&#160;&#160; </span></span>\n22.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">this</span><span>.thresholdIdleConnections = conf.getInt(</span><span class=\"string\">&quot;ipc.client.idlethreshold&quot;</span><span>, </span><span class=\"number\">4000</span><span>);&#160;&#160; </span></span>\n23.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">this</span><span>.secretManager = (SecretManager&lt;TokenIdentifier&gt;) secretManager;&#160;&#160; </span></span>\n24.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">this</span><span>.authorize =&#160;&#160;&#160; </span></span>\n25.  <span>&#160;&#160;&#160;&#160;&#160; conf.getBoolean(HADOOP_SECURITY_AUTHORIZATION, </span><span class=\"keyword\">false</span><span>);&#160;&#160; </span></span>\n26.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">this</span><span>.isSecurityEnabled = UserGroupInformation.isSecurityEnabled();&#160;&#160; </span></span>\n27.  <span>&#160;&#160;&#160;&#160;&#160;&#160; </span>\n28.  <span>&#160;&#160;&#160; </span><span class=\"comment\">// Start the listener here and let it bind to the port </span><span>&#160; </span></span>\n29.  <span>&#160;&#160;&#160; listener = </span><span class=\"keyword\">new</span><span> Listener();&#160;&#160; </span></span>\n30.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">this</span><span>.port = listener.getAddress().getPort();&#160;&#160;&#160;&#160;&#160;&#160; </span></span>\n31.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">this</span><span>.rpcMetrics = RpcInstrumentation.create(serverName, </span><span class=\"keyword\">this</span><span>.port);&#160;&#160; </span></span>\n32.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">this</span><span>.tcpNoDelay = conf.getBoolean(</span><span class=\"string\">&quot;ipc.server.tcpnodelay&quot;</span><span>, </span><span class=\"keyword\">false</span><span>);&#160;&#160; </span></span>\n33.  <span>&#160; </span>\n34.  <span>&#160;&#160;&#160; </span><span class=\"comment\">// Create the responder here </span><span>&#160; </span></span>\n35.  <span>&#160;&#160;&#160; responder = </span><span class=\"keyword\">new</span><span> Responder();&#160;&#160; </span></span>\n36.  <span>&#160;&#160;&#160;&#160;&#160;&#160; </span>\n37.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">if</span><span> (isSecurityEnabled) {&#160;&#160; </span></span>\n38.  <span>&#160;&#160;&#160;&#160;&#160; SaslRpcServer.init(conf);&#160;&#160; </span>\n39.  <span>&#160;&#160;&#160; }&#160;&#160; </span>\n40.  <span>&#160; }&#160;&#160; </span>           </div>         </td>       </tr>     </tbody></table> \n\n\n\n**4Server**\n\nRpcServer.start()Server    <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>       <tr>         <td valign=\"top\" width=\"568\">           <div class=\"dp-highlighter\">             <div class=\"bar\"></div>              \n\n1.  <span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">synchronized</span><span>&#160;</span><span class=\"keyword\">void</span><span> start() {&#160;&#160; </span></span>\n2.  <span>&#160;&#160;&#160; responder.start();&#160;&#160; </span>\n3.  <span>&#160;&#160;&#160; listener.start();&#160;&#160; </span>\n4.  <span>&#160;&#160;&#160; handlers = </span><span class=\"keyword\">new</span><span> Handler[handlerCount];&#160;&#160; </span></span>\n5.  <span>&#160;&#160;&#160;&#160;&#160;&#160; </span>\n6.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">for</span><span> (</span><span class=\"keyword\">int</span><span> i = </span><span class=\"number\">0</span><span>; i &lt; handlerCount; i++) {&#160;&#160; </span></span>\n7.  <span>&#160;&#160;&#160;&#160;&#160; handlers[i] = </span><span class=\"keyword\">new</span><span> Handler(i);&#160;&#160; </span></span>\n8.  <span>&#160;&#160;&#160;&#160;&#160; handlers[i].start();&#160;&#160; </span>\n9.  <span>&#160;&#160;&#160; }&#160;&#160; </span>\n10.  <span>&#160; }&#160;&#160; </span>           </div>         </td>       </tr>     </tbody></table> \n\nresponderlistenerhandlersselector.select()handlercallQueue.take()Responder15listenerReader\n\n**4Server**\n\n**1******\n\nListenerSelectionKeydoAccept(key)listconnectionkeyreaderconneReader    <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>       <tr>         <td valign=\"top\" width=\"568\">           <div class=\"dp-highlighter\">             <div class=\"bar\"></div>              \n\n1.  <span><span class=\"keyword\">void</span><span> doAccept(SelectionKey key) </span><span class=\"keyword\">throws</span><span> IOException,&#160; OutOfMemoryError {&#160;&#160; </span></span>\n2.  <span>&#160;&#160;&#160;&#160;&#160; Connection c = </span><span class=\"keyword\">null</span><span>;&#160;&#160; </span></span>\n3.  <span>&#160;&#160;&#160;&#160;&#160; ServerSocketChannel server = (ServerSocketChannel) key.channel();&#160;&#160; </span>\n4.  <span>&#160;&#160;&#160;&#160;&#160; SocketChannel channel;&#160;&#160; </span>\n5.  <span>&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">while</span><span> ((channel = server.accept()) != </span><span class=\"keyword\">null</span><span>) {&#160;&#160; </span></span>\n6.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; channel.configureBlocking(</span><span class=\"keyword\">false</span><span>);&#160;&#160; </span></span>\n7.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; channel.socket().setTcpNoDelay(tcpNoDelay);&#160;&#160; </span>\n8.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; Reader reader = getReader();&#160;&#160; </span>\n9.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">try</span><span> {&#160;&#160; </span></span>\n10.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; reader.startAdd();&#160; </span><span class=\"comment\">// readSelectoraddingtrue </span><span>&#160; </span></span>\n11.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SelectionKey readKey = reader.registerChannel(channel);&#160;&#160; </span>\n12.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; c = </span><span class=\"keyword\">new</span><span> Connection(readKey, channel, System.currentTimeMillis());&#160;&#160; </span></span>\n13.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; readKey.attach(c);&#160;&#160; </span>\n14.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">synchronized</span><span> (connectionList) {&#160;&#160; </span></span>\n15.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; connectionList.add(numConnections, c);&#160;&#160; </span>\n16.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; numConnections++;&#160;&#160; </span>\n17.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; }&#160;&#160; </span>\n18.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span>\n19.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; } </span><span class=\"keyword\">finally</span><span> {&#160;&#160; </span></span>\n20.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; reader.finishAdd(); </span><span class=\"comment\">// addaddingfalseReader </span><span>&#160; </span></span>\n21.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; }&#160;&#160; </span>\n22.  <span>&#160;&#160;&#160; }&#160;&#160; </span>\n23.  <span>}&#160;&#160; </span>           </div>         </td>       </tr>     </tbody></table> \n\n**2******\n\nReaderrunListenerSelectionKeydoRead(key)keyconnectionconectionreadAndProcess()    <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>       <tr>         <td valign=\"top\" width=\"568\">           <div class=\"dp-highlighter\">             <div class=\"bar\"></div>              \n\n1.  <span><span class=\"keyword\">void</span><span> doRead(SelectionKey key) </span><span class=\"keyword\">throws</span><span> InterruptedException {&#160;&#160; </span></span>\n2.  <span>&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">int</span><span> count = </span><span class=\"number\">0</span><span>;&#160;&#160; </span></span>\n3.  <span>&#160;&#160;&#160;&#160;&#160; Connection c = (Connection)key.attachment(); </span><span class=\"comment\">//  </span><span>&#160; </span></span>\n4.  <span>&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">if</span><span> (c == </span><span class=\"keyword\">null</span><span>) {&#160;&#160; </span></span>\n5.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">return</span><span>;&#160;&#160;&#160;&#160; </span></span>\n6.  <span>&#160;&#160;&#160;&#160;&#160; }&#160;&#160; </span>\n7.  <span>&#160;&#160;&#160;&#160;&#160; c.setLastContact(System.currentTimeMillis());&#160;&#160; </span>\n8.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span>\n9.  <span>&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">try</span><span> {&#160;&#160; </span></span>\n10.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; count = c.readAndProcess(); </span><span class=\"comment\">//  </span><span>&#160; </span></span>\n11.  <span>&#160;&#160;&#160;&#160;&#160; } </span><span class=\"keyword\">catch</span><span> (InterruptedException ieo) {&#160;&#160; </span></span>\n12.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160; </span>\n13.  <span>&#160;&#160;&#160;&#160;&#160; }&#160;&#160; </span>\n14.  <span>&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">if</span><span> (count &lt; </span><span class=\"number\">0</span><span>) {&#160;&#160; </span></span>\n15.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160; </span>\n16.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; closeConnection(c);&#160;&#160; </span>\n17.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; c = </span><span class=\"keyword\">null</span><span>;&#160;&#160; </span></span>\n18.  <span>&#160;&#160;&#160;&#160;&#160; }&#160;&#160; </span>\n19.  <span>&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">else</span><span> {&#160;&#160; </span></span>\n20.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; c.setLastContact(System.currentTimeMillis());&#160;&#160; </span>\n21.  <span>&#160;&#160;&#160;&#160;&#160; }&#160;&#160; </span>\n22.  <span>&#160;&#160;&#160; }&#160;&#160; </span>           </div>         </td>       </tr>        <tr>         <td valign=\"top\" width=\"568\">           <div class=\"dp-highlighter\">             <div class=\"bar\"></div>              \n\n1.  <span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">int</span><span> readAndProcess() </span><span class=\"keyword\">throws</span><span> IOException, InterruptedException {&#160;&#160; </span></span>\n2.  <span></span><span class=\"comment\">// RPC </span><span>&#160; </span></span>\n3.  <span></span><span class=\"comment\">// &#160;&#160; </span><span>&#160; </span></span>\n4.  <span></span><span class=\"keyword\">while</span><span> (</span><span class=\"keyword\">true</span><span>) {&#160;&#160;&#160; </span></span>\n5.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">int</span><span> count = -</span><span class=\"number\">1</span><span>;&#160;&#160; </span></span>\n6.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">if</span><span> (dataLengthBuffer.remaining() &gt; </span><span class=\"number\">0</span><span>) {&#160;&#160; </span></span>\n7.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; count = channelRead(channel, dataLengthBuffer);&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span>\n8.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160; </span>\n9.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">if</span><span> (!rpcHeaderRead) {&#160;&#160; </span></span>\n10.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"comment\">//. </span><span>&#160; </span></span>\n11.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">if</span><span> (rpcHeaderBuffer == </span><span class=\"keyword\">null</span><span>) {&#160;&#160; </span></span>\n12.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; rpcHeaderBuffer = ByteBuffer.allocate(</span><span class=\"number\">2</span><span>);&#160;&#160; </span></span>\n13.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; }&#160;&#160; </span>\n14.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; count = channelRead(channel, rpcHeaderBuffer);&#160;&#160; </span>\n15.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">if</span><span> (count &lt; </span><span class=\"number\">0</span><span> || rpcHeaderBuffer.remaining() &gt; </span><span class=\"number\">0</span><span>) {&#160;&#160; </span></span>\n16.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">return</span><span> count;&#160;&#160; </span></span>\n17.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; }&#160;&#160; </span>\n18.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"comment\">//  </span><span>&#160; </span></span>\n19.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">int</span><span> version = rpcHeaderBuffer.get(</span><span class=\"number\">0</span><span>);&#160;&#160; </span></span>\n20.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">byte</span><span>[] method = </span><span class=\"keyword\">new</span><span>&#160;</span><span class=\"keyword\">byte</span><span>[] {rpcHeaderBuffer.get(</span><span class=\"number\">1</span><span>)};&#160;&#160; </span></span>\n21.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; authMethod = AuthMethod.read(</span><span class=\"keyword\">new</span><span> DataInputStream(&#160;&#160; </span></span>\n22.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">new</span><span> ByteArrayInputStream(method)));&#160;&#160; </span></span>\n23.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; dataLengthBuffer.flip();&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span>\n24.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160; </span>\n25.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; dataLengthBuffer.clear();&#160;&#160; </span>\n26.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160; </span>\n27.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span>\n28.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; rpcHeaderBuffer = </span><span class=\"keyword\">null</span><span>;&#160;&#160; </span></span>\n29.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; rpcHeaderRead = </span><span class=\"keyword\">true</span><span>;&#160;&#160; </span></span>\n30.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">continue</span><span>;&#160;&#160; </span></span>\n31.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; }&#160;&#160;&#160; </span>\n32.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160; </span>\n33.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; data = ByteBuffer.allocate(dataLength);&#160;&#160; </span>\n34.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; }&#160;&#160; </span>\n35.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span>\n36.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"comment\">//  </span><span>&#160; </span></span>\n37.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; count = channelRead(channel, data);&#160;&#160; </span>\n38.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span>\n39.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">if</span><span> (data.remaining() == </span><span class=\"number\">0</span><span>) {&#160;&#160; </span></span>\n40.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160; </span>\n41.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">if</span><span> (useSasl) {&#160;&#160; </span></span>\n42.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; saslReadAndProcess(data.array());&#160;&#160; </span>\n43.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; } </span><span class=\"keyword\">else</span><span> {&#160;&#160; </span></span>\n44.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"comment\">// RPCheaderparam </span><span>&#160; </span></span>\n45.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; processOneRpc(data.array());&#160;&#160; </span>\n46.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; }&#160;&#160; </span>\n47.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160; </span>\n48.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; }&#160;&#160;&#160; </span>\n49.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">return</span><span> count;&#160;&#160; </span></span>\n50.  <span>&#160;&#160;&#160;&#160;&#160; }&#160;&#160; </span>\n51.  <span>&#160;&#160;&#160; }&#160;&#160; </span>           </div>         </td>       </tr>     </tbody></table> \n\n**3****call**\n\nConnectionparamCallcallQueue    <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>       <tr>         <td valign=\"top\" width=\"568\">           <div class=\"dp-highlighter\">             <div class=\"bar\"></div>              \n\n1.  <span><span class=\"keyword\">private</span><span>&#160;</span><span class=\"keyword\">void</span><span> processData(</span><span class=\"keyword\">byte</span><span>[] buf) </span><span class=\"keyword\">throws</span><span>&#160; IOException, InterruptedException {&#160;&#160; </span></span>\n2.  <span>&#160;&#160;&#160;&#160;&#160; DataInputStream dis =&#160;&#160; </span>\n3.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">new</span><span> DataInputStream(</span><span class=\"keyword\">new</span><span> ByteArrayInputStream(buf));&#160;&#160; </span></span>\n4.  <span>&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">int</span><span> id = dis.readInt();&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"comment\">// id </span><span>&#160; </span></span>\n5.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160; </span>\n6.  <span>&#160; </span>\n7.  <span>&#160;&#160;&#160;&#160;&#160; Writable param = ReflectionUtils.newInstance(paramClass, conf);</span><span class=\"comment\">// paramClassServer </span><span>&#160; </span></span>\n8.  <span>&#160;&#160;&#160;&#160;&#160; param.readFields(dis);&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span>\n9.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span>\n10.  <span>&#160;&#160;&#160;&#160;&#160; Call call = </span><span class=\"keyword\">new</span><span> Call(id, param, </span><span class=\"keyword\">this</span><span>);&#160;&#160; </span></span>\n11.  <span>&#160;&#160;&#160;&#160;&#160; callQueue.put(call);&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"comment\">// max </span><span>&#160; </span></span>\n12.  <span>&#160;&#160;&#160;&#160;&#160; incRpcCount();&#160;&#160;&#160; </span>\n13.  <span>&#160;&#160;&#160; }&#160;&#160; </span>           </div>         </td>       </tr>     </tbody></table> \n\n**4****call**\n\nConnectioncallQueuecallHandlercallRPC.Call    <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>       <tr>         <td valign=\"top\" width=\"568\">           <div class=\"dp-highlighter\">             <div class=\"bar\"></div>              \n\n1.  <span><span class=\"comment\">//  </span><span>&#160; </span></span>\n2.  <span></span><span class=\"keyword\">while</span><span> (running) {&#160;&#160; </span></span>\n3.  <span></span><span class=\"keyword\">final</span><span> Call call = callQueue.take(); </span><span class=\"comment\">// call </span><span>&#160; </span></span>\n4.  <span>CurCall.set(call);&#160;&#160; </span>\n5.  <span>&#160;&#160;&#160;&#160; value = call(call.connection.protocol, call.param,&#160;&#160;&#160; </span>\n6.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; call.timestamp); </span><span class=\"comment\">// RPC.Servercall </span><span>&#160; </span></span>\n7.  <span>&#160;&#160;&#160;&#160; CurCall.set(</span><span class=\"keyword\">null</span><span>);&#160;&#160; </span></span>\n8.  <span>&#160; </span>\n9.  <span></span><span class=\"keyword\">synchronized</span><span> (call.connection.responseQueue) {&#160;&#160; </span></span>\n10.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; setupResponse(buf, call,&#160;&#160;&#160; </span>\n11.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; (error == </span><span class=\"keyword\">null</span><span>) ? Status.SUCCESS : Status.ERROR,&#160;&#160;&#160; </span></span>\n12.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; value, errorClass, error);&#160;&#160; </span>\n13.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160; </span>\n14.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; responder.doRespond(call);&#160;&#160; </span>\n15.  <span>&#160;&#160;&#160;&#160; }&#160;&#160; </span>\n16.  <span>}&#160;&#160; </span>           </div>         </td>       </tr>     </tbody></table> \n\n**5**\n\nsetupResponsecallidcallresponse:ByteBufferresponder.doRespond(call)processResponseResponder.run()    <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>       <tr>         <td valign=\"top\" width=\"568\">           <div class=\"dp-highlighter\">             <div class=\"bar\"></div>              \n\n1.  <span><span class=\"keyword\">void</span><span> doRespond(Call call) </span><span class=\"keyword\">throws</span><span> IOException {&#160;&#160; </span></span>2.  <span>&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">synchronized</span><span> (call.connection.responseQueue) {&#160;&#160; </span></span>3.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"comment\">//  </span><span>&#160; </span></span>4.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; call.connection.responseQueue.addLast(call);&#160;&#160; </span>5.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">if</span><span> (call.connection.responseQueue.size() == </span><span class=\"number\">1</span><span>) {&#160;&#160; </span></span>6.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"comment\">// writeSelector </span><span>&#160; </span></span>7.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; processResponse(call.connection.responseQueue, </span><span class=\"keyword\">true</span><span>);&#160;&#160; </span></span>8.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; }&#160;&#160; </span>9.  <span>&#160;&#160;&#160;&#160;&#160; }&#160;&#160; </span>10.  <span>&#160;&#160;&#160; }&#160;&#160; </span>           </div>         </td>       </tr>     </tbody></table> \n\n**6**\n\nServerJava TCP/IP NIOBlockingQueuewait/notifyreactornioreactor**[](http://www.cnblogs.com/ericchen/archive/2011/05/08/2036993.html)**\n\nServerListenerListener.ReaderResponderCallHandlers\n\nTCP/IP BIOTCP/IP NIO\n\nHadoopNamenodeDatanodeheartbeatblockreportHadoop\n\nP.S.: 0.20.203.0rc1","slug":"hadoop-ipc-server","published":1,"updated":"2015-12-29T13:31:03.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciirfw71o007esv8fbzovva7w"},{"title":"Hadoop - ipc.RPC","id":"380","date":"2012-02-25T15:00:23.000Z","_content":"\n**1**\n\nHadoopRPCHadoopRPCRPC[](http://baike.baidu.com/view/32726.htm)\n  <!--more-->\n\nHadoopRPCJavaDynamic ProxyReflectorg.apache.hadoop.ipc\n\nClientRPC\n\nRPCRPC\n\nServer\n\nRPC.Server\n\nVersionedProtocolRPC\n\n**2**\n\nHadoopmaster-slavemasterslaveslaveclient\n\nVersionedProtocolRPC\n\n[![clip_image002](http://www.hongweiyi.com/wp-content/uploads/2012/02/clip_image002_thumb3.jpg \"clip_image002\")](http://www.hongweiyi.com/wp-content/uploads/2012/02/clip_image0023.jpg)\n\n**1****HDFS**\n\n**ClientDatanodeProtocol**clientdatanodeblockclientdatanodesocketDataXceiver\n\n**ClientProtocol**clientNamenode\n\n**DatanodeProtocol**DatanodeNamenodeblockreport\n\n**NamenodeProtocol**SecondaryNodeNamenode\n\n**2****Mapreduce**\n\n**InterDatanodeProtocol**Datanodeblock\n\n**InnerTrackerProtocol**TaskTrackerJobTrackerDatanodeProtocol\n\n**JobSubmissionProtocol**JobClientJobTrackerJobJobJob\n\n**TaskUmbilicalProtocol**TaskmapreduceTaskTracker: umbilical ,  \n\n**3******\n\n**AdminOperationProtocol**JobTrackernode\n\n**RefreshAuthorizationPolicyProtocol****RefreshUserMappingsProtocol**\n\n**3****RPC**\n\nRPCRPC\n\n[![clip_image004](http://www.hongweiyi.com/wp-content/uploads/2012/02/clip_image004_thumb2.jpg \"clip_image004\")](http://www.hongweiyi.com/wp-content/uploads/2012/02/clip_image0042.jpg)\n\n**1***Proxy**\n\nwaitForProxygetProxystopProxywaitnamenodeSecondayNodeDatanodeJobTracker\n\nstop\n\nget versioncodegetProxyversioncodeVersionMismatch\n\n**2getServer**\n\nServerTaskTrackerJobTrackerNameNodeDataNode\n\n**3call**\n\nExpert\n\n**4****RPC**\n\nRPCRPCRPC5\n\n**RPC.ClientCache******Client\n\n**RPC.Invocation******RPCInvocationMethod\n\n**RPC.Invoker******JavaInvocationHandlerremoteIdclientidclient\n\n**RPC.Server******org.apache.hadoop.ipc.Servercallcallmethod\n\n**RPC. ****VersionMismatch******\n\n**5**\n\norg.apache.hadoop.ipc.RPCipcServerClient","source":"_posts/hadoop-ipc-rpc.md","raw":"title: Hadoop - ipc.RPC\ntags:\n  - Hadoop\n  - RPC\nid: 380\ncategories:\n  - \ndate: 2012-02-25 23:00:23\n---\n\n**1**\n\nHadoopRPCHadoopRPCRPC[](http://baike.baidu.com/view/32726.htm)\n  <!--more-->\n\nHadoopRPCJavaDynamic ProxyReflectorg.apache.hadoop.ipc\n\nClientRPC\n\nRPCRPC\n\nServer\n\nRPC.Server\n\nVersionedProtocolRPC\n\n**2**\n\nHadoopmaster-slavemasterslaveslaveclient\n\nVersionedProtocolRPC\n\n[![clip_image002](http://www.hongweiyi.com/wp-content/uploads/2012/02/clip_image002_thumb3.jpg \"clip_image002\")](http://www.hongweiyi.com/wp-content/uploads/2012/02/clip_image0023.jpg)\n\n**1****HDFS**\n\n**ClientDatanodeProtocol**clientdatanodeblockclientdatanodesocketDataXceiver\n\n**ClientProtocol**clientNamenode\n\n**DatanodeProtocol**DatanodeNamenodeblockreport\n\n**NamenodeProtocol**SecondaryNodeNamenode\n\n**2****Mapreduce**\n\n**InterDatanodeProtocol**Datanodeblock\n\n**InnerTrackerProtocol**TaskTrackerJobTrackerDatanodeProtocol\n\n**JobSubmissionProtocol**JobClientJobTrackerJobJobJob\n\n**TaskUmbilicalProtocol**TaskmapreduceTaskTracker: umbilical ,  \n\n**3******\n\n**AdminOperationProtocol**JobTrackernode\n\n**RefreshAuthorizationPolicyProtocol****RefreshUserMappingsProtocol**\n\n**3****RPC**\n\nRPCRPC\n\n[![clip_image004](http://www.hongweiyi.com/wp-content/uploads/2012/02/clip_image004_thumb2.jpg \"clip_image004\")](http://www.hongweiyi.com/wp-content/uploads/2012/02/clip_image0042.jpg)\n\n**1***Proxy**\n\nwaitForProxygetProxystopProxywaitnamenodeSecondayNodeDatanodeJobTracker\n\nstop\n\nget versioncodegetProxyversioncodeVersionMismatch\n\n**2getServer**\n\nServerTaskTrackerJobTrackerNameNodeDataNode\n\n**3call**\n\nExpert\n\n**4****RPC**\n\nRPCRPCRPC5\n\n**RPC.ClientCache******Client\n\n**RPC.Invocation******RPCInvocationMethod\n\n**RPC.Invoker******JavaInvocationHandlerremoteIdclientidclient\n\n**RPC.Server******org.apache.hadoop.ipc.Servercallcallmethod\n\n**RPC. ****VersionMismatch******\n\n**5**\n\norg.apache.hadoop.ipc.RPCipcServerClient","slug":"hadoop-ipc-rpc","published":1,"updated":"2015-12-29T13:31:03.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciirfw71q007jsv8fxkcvq71s"},{"title":"Hadoop - ipc.Client","id":"384","date":"2012-02-25T15:06:42.000Z","_content":"\n**1******\n\nipcRPCClient\n  <!--more-->\n\nHadoopRPC\n\n1\n\n2invoke()\n\n3invokeclientcall\n\n4call\n\n5\n\n\n\n**2****Client**\n\nRPCClient\n\n**1connections**\n\nRPCClientCacheclientclientHashTable&lt;ConnectionId, Connection&gt;\n\nConnectionIdIDConnectionClient\n\n**2Call**\n\nidCallcallComplete()callnotify()client\n\n**3call(Writable param, ConnectionId remoteId)**     <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>       <tr>         <td valign=\"top\" width=\"568\">           <div class=\"dp-highlighter\">             <div class=\"bar\"></div>              \n\n1.  <span><span class=\"keyword\">public</span><span> Object invoke(Object proxy, Method method, Object[] args)&#160;&#160; </span></span>\n2.  <span>&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">throws</span><span> Throwable {&#160;&#160; </span></span>\n3.  <span>&#160;&#160;&#160;&#160;&#160; &#160;&#160; </span>\n4.  <span>&#160; </span>\n5.  <span>&#160;&#160;&#160;&#160;&#160; ObjectWritable value = (ObjectWritable)&#160;&#160; </span>\n6.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; client.call(</span><span class=\"keyword\">new</span><span> Invocation(method, args), remoteId); </span><span class=\"comment\">//  </span><span>&#160; </span></span>\n7.  <span>&#160;&#160;&#160;&#160;&#160; &#160;&#160; </span>\n8.  <span>&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">return</span><span> value.get();&#160;&#160; </span></span>\n9.  <span>&#160;&#160;&#160; }&#160;&#160; </span>           </div>         </td>       </tr>        <tr>         <td valign=\"top\" width=\"568\">           <div class=\"dp-highlighter\">             <div class=\"bar\"></div>              \n\n1.  <span><span class=\"comment\">// client </span><span>&#160; </span></span>\n2.  <span></span><span class=\"keyword\">public</span><span> Writable call(Writable param, ConnectionId remoteId)&#160;&#160;&#160;&#160; </span></span>\n3.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">throws</span><span> InterruptedException, IOException {&#160;&#160; </span></span>\n4.  <span>&#160;&#160;&#160; Call call = </span><span class=\"keyword\">new</span><span> Call(param);&#160;&#160; </span></span>\n5.  <span>&#160;&#160;&#160; Connection connection = getConnection(remoteId, call); </span><span class=\"comment\">//  </span><span>&#160; </span></span>\n6.  <span>&#160;&#160;&#160; connection.sendParam(call);&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"comment\">//  </span><span>&#160; </span></span>\n7.  <span>&#160;&#160;&#160; &#160;&#160; </span>\n8.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">synchronized</span><span> (call) {&#160;&#160; </span></span>\n9.  <span>&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">while</span><span> (!call.done) {&#160;&#160; </span></span>\n10.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">try</span><span> {&#160;&#160; </span></span>\n11.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; call.wait();&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"comment\">// response </span><span>&#160; </span></span>\n12.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; } </span><span class=\"keyword\">catch</span><span> (InterruptedException ie) {&#160;&#160; </span></span>\n13.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; interrupted = </span><span class=\"keyword\">true</span><span>;&#160;&#160; </span></span>\n14.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; }&#160;&#160; </span>\n15.  <span>&#160;&#160;&#160;&#160;&#160; }&#160;&#160; </span>\n16.  <span>&#160;&#160;&#160;&#160;&#160; &#160;&#160; </span>\n17.  <span>&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">return</span><span> call.value;&#160;&#160; </span></span>\n18.  <span>&#160;&#160;&#160;&#160;&#160; &#160;&#160; </span>\n19.  <span>&#160;&#160;&#160; }&#160;&#160; </span>\n20.  <span>&#160; }&#160;&#160; </span>           </div>         </td>       </tr>        <tr>         <td valign=\"top\" width=\"568\">           <div class=\"dp-highlighter\">             <div class=\"bar\"></div>              \n\n1.  <span><span class=\"comment\">// Connection </span><span>&#160; </span></span>\n2.  <span></span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">void</span><span> run() {&#160;&#160; </span></span>\n3.  <span>&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">if</span><span> (LOG.isDebugEnabled())&#160;&#160; </span></span>\n4.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; LOG.debug(getName() + </span><span class=\"string\">&quot;: starting, having connections &quot;</span><span>&#160;&#160;&#160; </span></span>\n5.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; + connections.size());&#160;&#160; </span>\n6.  <span>&#160; </span>\n7.  <span>&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">while</span><span> (waitForWork()) {</span><span class=\"comment\">// calls </span><span>&#160; </span></span>\n8.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; receiveResponse();&#160; </span><span class=\"comment\">//  </span><span>&#160; </span></span>\n9.  <span>&#160;&#160;&#160;&#160;&#160; }&#160;&#160; </span>\n10.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span>\n11.  <span>&#160;&#160;&#160;&#160;&#160; close();&#160;&#160; </span>\n12.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span>\n13.  <span>&#160;&#160;&#160;&#160;&#160; &#160;&#160; </span>\n14.  <span>&#160;&#160;&#160; }&#160;&#160; </span>           </div>         </td>       </tr>        <tr>         <td valign=\"top\" width=\"568\">           <div class=\"dp-highlighter\">             <div class=\"bar\"></div>              \n\n1.  <span><span class=\"keyword\">private</span><span>&#160;</span><span class=\"keyword\">void</span><span> receiveResponse() {&#160;&#160; </span></span>\n2.  <span>&#160;&#160;&#160;&#160;&#160; &#160;&#160; </span>\n3.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span>\n4.  <span>&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">try</span><span> {&#160;&#160; </span></span>\n5.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">int</span><span> id = in.readInt();&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"comment\">// try to read an id </span><span>&#160; </span></span>\n6.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160; </span>\n7.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; Call call = calls.get(id);&#160;&#160; </span>\n8.  <span>&#160; </span>\n9.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">int</span><span> state = in.readInt();&#160;&#160;&#160;&#160; </span><span class=\"comment\">// read call status </span><span>&#160; </span></span>\n10.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">if</span><span> (state == Status.SUCCESS.state) {&#160;&#160; </span></span>\n11.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Writable value = ReflectionUtils.newInstance(valueClass, conf);&#160;&#160; </span>\n12.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; value.readFields(in);&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"comment\">// read value </span><span>&#160; </span></span>\n13.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; call.setValue(value);&#160;&#160; </span>\n14.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; calls.remove(id);&#160;&#160; </span>\n15.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; }&#160;&#160;&#160; </span>\n16.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160; </span>\n17.  <span>&#160;&#160;&#160;&#160;&#160; } </span><span class=\"keyword\">catch</span><span> (IOException e) {&#160;&#160; </span></span>\n18.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; markClosed(e);&#160;&#160; </span>\n19.  <span>&#160;&#160;&#160;&#160;&#160; }&#160;&#160; </span>\n20.  <span>&#160;&#160;&#160; }&#160;&#160; </span>           </div>         </td>       </tr>        <tr>         <td valign=\"top\" width=\"568\">           <div class=\"dp-highlighter\">             <div class=\"bar\"></div>              \n\n1.  <span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">synchronized</span><span>&#160;</span><span class=\"keyword\">void</span><span> setValue(Writable value) {&#160;&#160; </span></span>\n2.  <span>&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">this</span><span>.value = value;&#160;&#160; </span></span>\n3.  <span>&#160;&#160;&#160;&#160;&#160; callComplete();&#160;&#160; </span>\n4.  <span>}&#160;&#160; </span>\n5.  <span></span><span class=\"keyword\">protected</span><span>&#160;</span><span class=\"keyword\">synchronized</span><span>&#160;</span><span class=\"keyword\">void</span><span> callComplete() {&#160;&#160; </span></span>\n6.  <span>&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">this</span><span>.done = </span><span class=\"keyword\">true</span><span>;&#160;&#160; </span></span>\n7.  <span>&#160;&#160;&#160;&#160;&#160; notify();&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"comment\">// notify caller </span><span>&#160; </span></span>\n8.  <span>}&#160;&#160; </span>           </div>         </td>       </tr>     </tbody></table> \n\ninvoker\n\nACall\n\nB remoteIdconnection\n\n&#160;&#160;&#160; a) connectionsremoteIdconnectionconnections\n\n&#160;&#160;&#160; b) connection.setupIOstreams()connectionwaitForWork()\n\nC connection.sendParamcall.wait();\n\n&#160;&#160;&#160; a) receiveResponse()callidvalue\n\n&#160;&#160;&#160; b) markClosednotifyAll()\n\nD \n\n**3/**\n\nHadoopRPCRPChadoopwait/notifycallwaitconnection.receiveResponse()notifynotify()call.setValue\n\nconnectioncallcallclientresponserequestresponseconnectionHashTable&lt;Integer, Call&gt;IntegerCallrequestresponse\n\n**4**\n\n\n  > ****\n> \n> [](http://blog.csdn.net/historyasamirror/article/details/6159248)","source":"_posts/hadoop-ipc-client.md","raw":"title: Hadoop - ipc.Client\ntags:\n  - Hadoop\n  - RPC\nid: 384\ncategories:\n  - \ndate: 2012-02-25 23:06:42\n---\n\n**1******\n\nipcRPCClient\n  <!--more-->\n\nHadoopRPC\n\n1\n\n2invoke()\n\n3invokeclientcall\n\n4call\n\n5\n\n\n\n**2****Client**\n\nRPCClient\n\n**1connections**\n\nRPCClientCacheclientclientHashTable&lt;ConnectionId, Connection&gt;\n\nConnectionIdIDConnectionClient\n\n**2Call**\n\nidCallcallComplete()callnotify()client\n\n**3call(Writable param, ConnectionId remoteId)**     <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>       <tr>         <td valign=\"top\" width=\"568\">           <div class=\"dp-highlighter\">             <div class=\"bar\"></div>              \n\n1.  <span><span class=\"keyword\">public</span><span> Object invoke(Object proxy, Method method, Object[] args)&#160;&#160; </span></span>\n2.  <span>&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">throws</span><span> Throwable {&#160;&#160; </span></span>\n3.  <span>&#160;&#160;&#160;&#160;&#160; &#160;&#160; </span>\n4.  <span>&#160; </span>\n5.  <span>&#160;&#160;&#160;&#160;&#160; ObjectWritable value = (ObjectWritable)&#160;&#160; </span>\n6.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; client.call(</span><span class=\"keyword\">new</span><span> Invocation(method, args), remoteId); </span><span class=\"comment\">//  </span><span>&#160; </span></span>\n7.  <span>&#160;&#160;&#160;&#160;&#160; &#160;&#160; </span>\n8.  <span>&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">return</span><span> value.get();&#160;&#160; </span></span>\n9.  <span>&#160;&#160;&#160; }&#160;&#160; </span>           </div>         </td>       </tr>        <tr>         <td valign=\"top\" width=\"568\">           <div class=\"dp-highlighter\">             <div class=\"bar\"></div>              \n\n1.  <span><span class=\"comment\">// client </span><span>&#160; </span></span>\n2.  <span></span><span class=\"keyword\">public</span><span> Writable call(Writable param, ConnectionId remoteId)&#160;&#160;&#160;&#160; </span></span>\n3.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">throws</span><span> InterruptedException, IOException {&#160;&#160; </span></span>\n4.  <span>&#160;&#160;&#160; Call call = </span><span class=\"keyword\">new</span><span> Call(param);&#160;&#160; </span></span>\n5.  <span>&#160;&#160;&#160; Connection connection = getConnection(remoteId, call); </span><span class=\"comment\">//  </span><span>&#160; </span></span>\n6.  <span>&#160;&#160;&#160; connection.sendParam(call);&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"comment\">//  </span><span>&#160; </span></span>\n7.  <span>&#160;&#160;&#160; &#160;&#160; </span>\n8.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">synchronized</span><span> (call) {&#160;&#160; </span></span>\n9.  <span>&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">while</span><span> (!call.done) {&#160;&#160; </span></span>\n10.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">try</span><span> {&#160;&#160; </span></span>\n11.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; call.wait();&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"comment\">// response </span><span>&#160; </span></span>\n12.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; } </span><span class=\"keyword\">catch</span><span> (InterruptedException ie) {&#160;&#160; </span></span>\n13.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; interrupted = </span><span class=\"keyword\">true</span><span>;&#160;&#160; </span></span>\n14.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; }&#160;&#160; </span>\n15.  <span>&#160;&#160;&#160;&#160;&#160; }&#160;&#160; </span>\n16.  <span>&#160;&#160;&#160;&#160;&#160; &#160;&#160; </span>\n17.  <span>&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">return</span><span> call.value;&#160;&#160; </span></span>\n18.  <span>&#160;&#160;&#160;&#160;&#160; &#160;&#160; </span>\n19.  <span>&#160;&#160;&#160; }&#160;&#160; </span>\n20.  <span>&#160; }&#160;&#160; </span>           </div>         </td>       </tr>        <tr>         <td valign=\"top\" width=\"568\">           <div class=\"dp-highlighter\">             <div class=\"bar\"></div>              \n\n1.  <span><span class=\"comment\">// Connection </span><span>&#160; </span></span>\n2.  <span></span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">void</span><span> run() {&#160;&#160; </span></span>\n3.  <span>&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">if</span><span> (LOG.isDebugEnabled())&#160;&#160; </span></span>\n4.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; LOG.debug(getName() + </span><span class=\"string\">&quot;: starting, having connections &quot;</span><span>&#160;&#160;&#160; </span></span>\n5.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; + connections.size());&#160;&#160; </span>\n6.  <span>&#160; </span>\n7.  <span>&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">while</span><span> (waitForWork()) {</span><span class=\"comment\">// calls </span><span>&#160; </span></span>\n8.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; receiveResponse();&#160; </span><span class=\"comment\">//  </span><span>&#160; </span></span>\n9.  <span>&#160;&#160;&#160;&#160;&#160; }&#160;&#160; </span>\n10.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span>\n11.  <span>&#160;&#160;&#160;&#160;&#160; close();&#160;&#160; </span>\n12.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span>\n13.  <span>&#160;&#160;&#160;&#160;&#160; &#160;&#160; </span>\n14.  <span>&#160;&#160;&#160; }&#160;&#160; </span>           </div>         </td>       </tr>        <tr>         <td valign=\"top\" width=\"568\">           <div class=\"dp-highlighter\">             <div class=\"bar\"></div>              \n\n1.  <span><span class=\"keyword\">private</span><span>&#160;</span><span class=\"keyword\">void</span><span> receiveResponse() {&#160;&#160; </span></span>\n2.  <span>&#160;&#160;&#160;&#160;&#160; &#160;&#160; </span>\n3.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span>\n4.  <span>&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">try</span><span> {&#160;&#160; </span></span>\n5.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">int</span><span> id = in.readInt();&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"comment\">// try to read an id </span><span>&#160; </span></span>\n6.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160; </span>\n7.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; Call call = calls.get(id);&#160;&#160; </span>\n8.  <span>&#160; </span>\n9.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">int</span><span> state = in.readInt();&#160;&#160;&#160;&#160; </span><span class=\"comment\">// read call status </span><span>&#160; </span></span>\n10.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">if</span><span> (state == Status.SUCCESS.state) {&#160;&#160; </span></span>\n11.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Writable value = ReflectionUtils.newInstance(valueClass, conf);&#160;&#160; </span>\n12.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; value.readFields(in);&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"comment\">// read value </span><span>&#160; </span></span>\n13.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; call.setValue(value);&#160;&#160; </span>\n14.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; calls.remove(id);&#160;&#160; </span>\n15.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; }&#160;&#160;&#160; </span>\n16.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160; </span>\n17.  <span>&#160;&#160;&#160;&#160;&#160; } </span><span class=\"keyword\">catch</span><span> (IOException e) {&#160;&#160; </span></span>\n18.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; markClosed(e);&#160;&#160; </span>\n19.  <span>&#160;&#160;&#160;&#160;&#160; }&#160;&#160; </span>\n20.  <span>&#160;&#160;&#160; }&#160;&#160; </span>           </div>         </td>       </tr>        <tr>         <td valign=\"top\" width=\"568\">           <div class=\"dp-highlighter\">             <div class=\"bar\"></div>              \n\n1.  <span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">synchronized</span><span>&#160;</span><span class=\"keyword\">void</span><span> setValue(Writable value) {&#160;&#160; </span></span>\n2.  <span>&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">this</span><span>.value = value;&#160;&#160; </span></span>\n3.  <span>&#160;&#160;&#160;&#160;&#160; callComplete();&#160;&#160; </span>\n4.  <span>}&#160;&#160; </span>\n5.  <span></span><span class=\"keyword\">protected</span><span>&#160;</span><span class=\"keyword\">synchronized</span><span>&#160;</span><span class=\"keyword\">void</span><span> callComplete() {&#160;&#160; </span></span>\n6.  <span>&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">this</span><span>.done = </span><span class=\"keyword\">true</span><span>;&#160;&#160; </span></span>\n7.  <span>&#160;&#160;&#160;&#160;&#160; notify();&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"comment\">// notify caller </span><span>&#160; </span></span>\n8.  <span>}&#160;&#160; </span>           </div>         </td>       </tr>     </tbody></table> \n\ninvoker\n\nACall\n\nB remoteIdconnection\n\n&#160;&#160;&#160; a) connectionsremoteIdconnectionconnections\n\n&#160;&#160;&#160; b) connection.setupIOstreams()connectionwaitForWork()\n\nC connection.sendParamcall.wait();\n\n&#160;&#160;&#160; a) receiveResponse()callidvalue\n\n&#160;&#160;&#160; b) markClosednotifyAll()\n\nD \n\n**3/**\n\nHadoopRPCRPChadoopwait/notifycallwaitconnection.receiveResponse()notifynotify()call.setValue\n\nconnectioncallcallclientresponserequestresponseconnectionHashTable&lt;Integer, Call&gt;IntegerCallrequestresponse\n\n**4**\n\n\n  > ****\n> \n> [](http://blog.csdn.net/historyasamirror/article/details/6159248)","slug":"hadoop-ipc-client","published":1,"updated":"2015-12-29T13:31:03.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciirfw71s007nsv8fkncjeesn"},{"title":"Hadoop","id":"508","date":"2012-04-20T12:48:18.000Z","_content":"\n****\n\nhadoopcore-site.xmlhdfs-site.xmlmapred-site.xmlhadoop\n\n1.hadoopcore-default.xmlhdfs-default.xmlmapred-default.xmlhadoop/src/{core | hdfs | mapred}keyhadoop\n\n<!--more-->\n\n2.apache\n\n[http://hadoop.apache.org/common/docs/r0.20.2/core-default.html](http://hadoop.apache.org/common/docs/r0.20.2/core-default.html)\n\n[http://hadoop.apache.org/common/docs/r0.20.2/hdfs-default.html](http://hadoop.apache.org/common/docs/r0.20.2/hdfs-default.html)\n\n[http://hadoop.apache.org/common/docs/r0.20.2/mapred-default.html](http://hadoop.apache.org/common/docs/r0.20.2/mapred-default.html)\n\nhadoopcore-site.xmlhdfs-site.xmlmapred-site.xmlhdfsmapred\n\n****\n\n**HDFS******\n<table border=\"1\" cellspacing=\"0\" cellpadding=\"0\">\n<tbody>\n<tr>\n<td>****</td>\n<td>****</td>\n<td>****</td>\n<td>****</td>\n</tr>\n<tr>\n<td>fs.default.name</td>\n<td>namenode RPC</td>\n<td>8020</td>\n<td>hdfs//master8020/</td>\n</tr>\n<tr>\n<td>dfs.http.address</td>\n<td>NameNode web</td>\n<td>50070</td>\n<td>0.0.0.050070</td>\n</tr>\n<tr>\n<td>dfs.datanode.address</td>\n<td>datanode </td>\n<td>50010</td>\n<td>0.0.0.050010</td>\n</tr>\n<tr>\n<td>dfs.datanode.ipc.address</td>\n<td>datanodeRPC</td>\n<td>50020</td>\n<td>0.0.0.050020</td>\n</tr>\n<tr>\n<td>dfs.datanode.http.address</td>\n<td>datanodeHTTP</td>\n<td>50075</td>\n<td>0.0.0.050075</td>\n</tr>\n</tbody>\n</table>\n**MR******\n<table border=\"1\" cellspacing=\"0\" cellpadding=\"0\">\n<tbody>\n<tr>\n<td>****</td>\n<td>****</td>\n<td>****</td>\n<td>****</td>\n</tr>\n<tr>\n<td>mapred.job.tracker</td>\n<td>job tracker</td>\n<td>8021</td>\n<td>hdfs//master8021/</td>\n</tr>\n<tr>\n<td>mapred.job.tracker.http.address</td>\n<td>job trackerweb</td>\n<td>50030</td>\n<td>0.0.0.050030</td>\n</tr>\n<tr>\n<td>mapred.task.tracker.http.address</td>\n<td>task trackerHTTP</td>\n<td>50060</td>\n<td>0.0.0.050060</td>\n</tr>\n</tbody>\n</table>\n****\n<table border=\"1\" cellspacing=\"0\" cellpadding=\"0\">\n<tbody>\n<tr>\n<td>****</td>\n<td>** **</td>\n<td>** **</td>\n<td>****</td>\n</tr>\n<tr>\n<td>dfs.secondary.http.address</td>\n<td>secondary NameNode web</td>\n<td>50090</td>\n<td>0.0.0.028680</td>\n</tr>\n</tbody>\n</table>\n****\n<table border=\"1\" cellspacing=\"0\" cellpadding=\"0\">\n<tbody>\n<tr>\n<td>****</td>\n<td>** **</td>\n<td>** **</td>\n<td>****</td>\n</tr>\n<tr>\n<td>dfs.name.dir</td>\n<td>name nodehdfs</td>\n<td>{hadoop.tmp.dir}\n\n/dfs/name</td>\n<td>/hadoop/hdfs/name</td>\n</tr>\n<tr>\n<td>dfs.name.edits.dir</td>\n<td>node nodehdfs</td>\n<td>${dfs.name.dir}</td>\n<td>${dfs.name.dir}</td>\n</tr>\n<tr>\n<td>fs.checkpoint.dir</td>\n<td>secondary NameNodehdfs</td>\n<td>${hadoop.tmp.dir}\n\n/dfs/namesecondary</td>\n<td>/hadoop/hdfs/\n\nnamesecondary</td>\n</tr>\n<tr>\n<td>fs.checkpoint.edits\n\n.dir</td>\n<td>secondary NameNodehdfs</td>\n<td>${fs.checkpoint.dir}</td>\n<td>${fs.checkpoint.dir}</td>\n</tr>\n<tr>\n<td>hadoop.tmp.dir</td>\n<td></td>\n<td>/tmp/hadoop-${user.name}</td>\n<td>/hadoop/tmp/hadoop-\n\n${user.name}</td>\n</tr>\n<tr>\n<td>dfs.data.dir</td>\n<td>data nodehdfs</td>\n<td>${hadoop.tmp.dir}\n\n/dfs/data</td>\n<td>/hadoop/hdfs/data1/data\n\n/hadoop/hdfs/data2/data</td>\n</tr>\n<tr>\n<td>mapred.local.dir</td>\n<td>MapReducehdfs</td>\n<td>${hadoop.tmp.dir}\n\n/mapred/local</td>\n<td>/hadoop/hdfs/data1/\n\nmapred/local\n\n/hadoop/hdfs/data2/\n\nmapred/local</td>\n</tr>\n<tr>\n<td>mapred.system.dir</td>\n<td>MapReduce</td>\n<td>${hadoop.tmp.dir}\n\n/mapred/system</td>\n<td>/hadoop/hdfs/data1/system</td>\n</tr>\n</tbody>\n</table>\n****\n<table border=\"1\" cellspacing=\"0\" cellpadding=\"0\">\n<tbody>\n<tr>\n<td>****</td>\n<td>** **</td>\n<td>** **</td>\n<td>****</td>\n</tr>\n<tr>\n<td>dfs.support.append</td>\n<td>appendhbase</td>\n<td>false</td>\n<td>true</td>\n</tr>\n<tr>\n<td>dfs.replication</td>\n<td></td>\n<td>3</td>\n<td>2</td>\n</tr>\n</tbody>\n</table>\n&nbsp;\n> \r> \n> \n> [http://www.cnblogs.com/ggjucheng/archive/2012/04/17/2454590.html](http://www.cnblogs.com/ggjucheng/archive/2012/04/17/2454590.html)","source":"_posts/hadoop-default-conf.md","raw":"title: Hadoop\ntags:\n  - Hadoop\nid: 508\ncategories:\n  - \ndate: 2012-04-20 20:48:18\n---\n\n****\n\nhadoopcore-site.xmlhdfs-site.xmlmapred-site.xmlhadoop\n\n1.hadoopcore-default.xmlhdfs-default.xmlmapred-default.xmlhadoop/src/{core | hdfs | mapred}keyhadoop\n\n<!--more-->\n\n2.apache\n\n[http://hadoop.apache.org/common/docs/r0.20.2/core-default.html](http://hadoop.apache.org/common/docs/r0.20.2/core-default.html)\n\n[http://hadoop.apache.org/common/docs/r0.20.2/hdfs-default.html](http://hadoop.apache.org/common/docs/r0.20.2/hdfs-default.html)\n\n[http://hadoop.apache.org/common/docs/r0.20.2/mapred-default.html](http://hadoop.apache.org/common/docs/r0.20.2/mapred-default.html)\n\nhadoopcore-site.xmlhdfs-site.xmlmapred-site.xmlhdfsmapred\n\n****\n\n**HDFS******\n<table border=\"1\" cellspacing=\"0\" cellpadding=\"0\">\n<tbody>\n<tr>\n<td>****</td>\n<td>****</td>\n<td>****</td>\n<td>****</td>\n</tr>\n<tr>\n<td>fs.default.name</td>\n<td>namenode RPC</td>\n<td>8020</td>\n<td>hdfs//master8020/</td>\n</tr>\n<tr>\n<td>dfs.http.address</td>\n<td>NameNode web</td>\n<td>50070</td>\n<td>0.0.0.050070</td>\n</tr>\n<tr>\n<td>dfs.datanode.address</td>\n<td>datanode </td>\n<td>50010</td>\n<td>0.0.0.050010</td>\n</tr>\n<tr>\n<td>dfs.datanode.ipc.address</td>\n<td>datanodeRPC</td>\n<td>50020</td>\n<td>0.0.0.050020</td>\n</tr>\n<tr>\n<td>dfs.datanode.http.address</td>\n<td>datanodeHTTP</td>\n<td>50075</td>\n<td>0.0.0.050075</td>\n</tr>\n</tbody>\n</table>\n**MR******\n<table border=\"1\" cellspacing=\"0\" cellpadding=\"0\">\n<tbody>\n<tr>\n<td>****</td>\n<td>****</td>\n<td>****</td>\n<td>****</td>\n</tr>\n<tr>\n<td>mapred.job.tracker</td>\n<td>job tracker</td>\n<td>8021</td>\n<td>hdfs//master8021/</td>\n</tr>\n<tr>\n<td>mapred.job.tracker.http.address</td>\n<td>job trackerweb</td>\n<td>50030</td>\n<td>0.0.0.050030</td>\n</tr>\n<tr>\n<td>mapred.task.tracker.http.address</td>\n<td>task trackerHTTP</td>\n<td>50060</td>\n<td>0.0.0.050060</td>\n</tr>\n</tbody>\n</table>\n****\n<table border=\"1\" cellspacing=\"0\" cellpadding=\"0\">\n<tbody>\n<tr>\n<td>****</td>\n<td>** **</td>\n<td>** **</td>\n<td>****</td>\n</tr>\n<tr>\n<td>dfs.secondary.http.address</td>\n<td>secondary NameNode web</td>\n<td>50090</td>\n<td>0.0.0.028680</td>\n</tr>\n</tbody>\n</table>\n****\n<table border=\"1\" cellspacing=\"0\" cellpadding=\"0\">\n<tbody>\n<tr>\n<td>****</td>\n<td>** **</td>\n<td>** **</td>\n<td>****</td>\n</tr>\n<tr>\n<td>dfs.name.dir</td>\n<td>name nodehdfs</td>\n<td>{hadoop.tmp.dir}\n\n/dfs/name</td>\n<td>/hadoop/hdfs/name</td>\n</tr>\n<tr>\n<td>dfs.name.edits.dir</td>\n<td>node nodehdfs</td>\n<td>${dfs.name.dir}</td>\n<td>${dfs.name.dir}</td>\n</tr>\n<tr>\n<td>fs.checkpoint.dir</td>\n<td>secondary NameNodehdfs</td>\n<td>${hadoop.tmp.dir}\n\n/dfs/namesecondary</td>\n<td>/hadoop/hdfs/\n\nnamesecondary</td>\n</tr>\n<tr>\n<td>fs.checkpoint.edits\n\n.dir</td>\n<td>secondary NameNodehdfs</td>\n<td>${fs.checkpoint.dir}</td>\n<td>${fs.checkpoint.dir}</td>\n</tr>\n<tr>\n<td>hadoop.tmp.dir</td>\n<td></td>\n<td>/tmp/hadoop-${user.name}</td>\n<td>/hadoop/tmp/hadoop-\n\n${user.name}</td>\n</tr>\n<tr>\n<td>dfs.data.dir</td>\n<td>data nodehdfs</td>\n<td>${hadoop.tmp.dir}\n\n/dfs/data</td>\n<td>/hadoop/hdfs/data1/data\n\n/hadoop/hdfs/data2/data</td>\n</tr>\n<tr>\n<td>mapred.local.dir</td>\n<td>MapReducehdfs</td>\n<td>${hadoop.tmp.dir}\n\n/mapred/local</td>\n<td>/hadoop/hdfs/data1/\n\nmapred/local\n\n/hadoop/hdfs/data2/\n\nmapred/local</td>\n</tr>\n<tr>\n<td>mapred.system.dir</td>\n<td>MapReduce</td>\n<td>${hadoop.tmp.dir}\n\n/mapred/system</td>\n<td>/hadoop/hdfs/data1/system</td>\n</tr>\n</tbody>\n</table>\n****\n<table border=\"1\" cellspacing=\"0\" cellpadding=\"0\">\n<tbody>\n<tr>\n<td>****</td>\n<td>** **</td>\n<td>** **</td>\n<td>****</td>\n</tr>\n<tr>\n<td>dfs.support.append</td>\n<td>appendhbase</td>\n<td>false</td>\n<td>true</td>\n</tr>\n<tr>\n<td>dfs.replication</td>\n<td></td>\n<td>3</td>\n<td>2</td>\n</tr>\n</tbody>\n</table>\n&nbsp;\n> \r> \n> \n> [http://www.cnblogs.com/ggjucheng/archive/2012/04/17/2454590.html](http://www.cnblogs.com/ggjucheng/archive/2012/04/17/2454590.html)","slug":"hadoop-default-conf","published":1,"updated":"2015-12-29T13:31:03.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciirfw71t007rsv8fngxv8qzt"},{"title":"Hadoopbug","id":"584","date":"2012-09-18T13:52:55.000Z","_content":"\n5M60w200wdebugmapcombinereducemap\n<!--more-->  \n\nSequenceFile4M1Mmap4Mmap1M1MgetBytes()4M1M3M3M\n\njvmmapkeyvalueTextbytesTextbytesLineRecordReader or SequenceFileRecordReadernextKeyValue()Mapperrun\n\nTexttext.getBytes()lengthbytesbytes\n\npatchhadoopcopyBytes()\n\n[![Image](http://www.hongweiyi.com/wp-content/uploads/2012/09/Image_thumb.png \"Image\")](http://www.hongweiyi.com/wp-content/uploads/2012/09/Image.png)\n\n**P.S.:** HadoopgetBytes()\n\n**P.P.S.:** 0.20.203.00.22","source":"_posts/hadoop-bug-in-text.md","raw":"title: Hadoopbug\ntags:\n  - Hadoop\nid: 584\ncategories:\n  - \ndate: 2012-09-18 21:52:55\n---\n\n5M60w200wdebugmapcombinereducemap\n<!--more-->  \n\nSequenceFile4M1Mmap4Mmap1M1MgetBytes()4M1M3M3M\n\njvmmapkeyvalueTextbytesTextbytesLineRecordReader or SequenceFileRecordReadernextKeyValue()Mapperrun\n\nTexttext.getBytes()lengthbytesbytes\n\npatchhadoopcopyBytes()\n\n[![Image](http://www.hongweiyi.com/wp-content/uploads/2012/09/Image_thumb.png \"Image\")](http://www.hongweiyi.com/wp-content/uploads/2012/09/Image.png)\n\n**P.S.:** HadoopgetBytes()\n\n**P.P.S.:** 0.20.203.00.22","slug":"hadoop-bug-in-text","published":1,"updated":"2015-12-29T13:31:03.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciirfw71u007usv8fopbbbgor"},{"title":"Google Doodle for Turing","id":"564","date":"2012-06-23T13:29:27.000Z","_content":"\n[![clip_image001](http://www.hongweiyi.com/wp-content/uploads/2012/06/clip_image001_thumb.jpg \"clip_image001\")](http://www.hongweiyi.com/wp-content/uploads/2012/06/clip_image001.jpg)\n\n100Googledoodledoodle6GoogleGoogle doodle\n<!--more-->  \n\n**P.S.: **6\n\n**P.P.S. : **[](http://www.guao.hk/posts/alan-mathison-turings-birthday-2012.html)\n\n&#160;\n\nGoogle6{01011, 00011, 00011, 01011, 01001, 10000}\n\nG/go/oasciiGoogle******2****ITA2****International Telegraph Alphabet Number 2****2************Baudot code****** &gt;_&lt;\n\nreplayRabbit SequenceRabbit\n\n[![clip_image003](http://www.hongweiyi.com/wp-content/uploads/2012/06/clip_image003_thumb.jpg \"clip_image003\")](http://www.hongweiyi.com/wp-content/uploads/2012/06/clip_image003.jpg)\n\n[![clip_image005](http://www.hongweiyi.com/wp-content/uploads/2012/06/clip_image005_thumb.jpg \"clip_image005\")](http://www.hongweiyi.com/wp-content/uploads/2012/06/clip_image005.jpg)\n\n**Rabbit Sequence**\n\n****\n\n[![clip_image007](http://www.hongweiyi.com/wp-content/uploads/2012/06/clip_image007_thumb.jpg \"clip_image007\")](http://www.hongweiyi.com/wp-content/uploads/2012/06/clip_image007.jpg)\n\n[![clip_image009](http://www.hongweiyi.com/wp-content/uploads/2012/06/clip_image009_thumb.jpg \"clip_image009\")](http://www.hongweiyi.com/wp-content/uploads/2012/06/clip_image009.jpg)\n\n[![clip_image011](http://www.hongweiyi.com/wp-content/uploads/2012/06/clip_image011_thumb.jpg \"clip_image011\")](http://www.hongweiyi.com/wp-content/uploads/2012/06/clip_image011.jpg)\n\n[![clip_image013](http://www.hongweiyi.com/wp-content/uploads/2012/06/clip_image013_thumb.jpg \"clip_image013\")](http://www.hongweiyi.com/wp-content/uploads/2012/06/clip_image013.jpg)\n\n[![clip_image015](http://www.hongweiyi.com/wp-content/uploads/2012/06/clip_image015_thumb.jpg \"clip_image015\")](http://www.hongweiyi.com/wp-content/uploads/2012/06/clip_image015.jpg)\n\n[![clip_image017](http://www.hongweiyi.com/wp-content/uploads/2012/06/clip_image017_thumb.jpg \"clip_image017\")](http://www.hongweiyi.com/wp-content/uploads/2012/06/clip_image017.jpg)","source":"_posts/google-doodle-for-turing.md","raw":"title: Google Doodle for Turing\ntags:\n  - Google\nid: 564\ncategories:\n  - \ndate: 2012-06-23 21:29:27\n---\n\n[![clip_image001](http://www.hongweiyi.com/wp-content/uploads/2012/06/clip_image001_thumb.jpg \"clip_image001\")](http://www.hongweiyi.com/wp-content/uploads/2012/06/clip_image001.jpg)\n\n100Googledoodledoodle6GoogleGoogle doodle\n<!--more-->  \n\n**P.S.: **6\n\n**P.P.S. : **[](http://www.guao.hk/posts/alan-mathison-turings-birthday-2012.html)\n\n&#160;\n\nGoogle6{01011, 00011, 00011, 01011, 01001, 10000}\n\nG/go/oasciiGoogle******2****ITA2****International Telegraph Alphabet Number 2****2************Baudot code****** &gt;_&lt;\n\nreplayRabbit SequenceRabbit\n\n[![clip_image003](http://www.hongweiyi.com/wp-content/uploads/2012/06/clip_image003_thumb.jpg \"clip_image003\")](http://www.hongweiyi.com/wp-content/uploads/2012/06/clip_image003.jpg)\n\n[![clip_image005](http://www.hongweiyi.com/wp-content/uploads/2012/06/clip_image005_thumb.jpg \"clip_image005\")](http://www.hongweiyi.com/wp-content/uploads/2012/06/clip_image005.jpg)\n\n**Rabbit Sequence**\n\n****\n\n[![clip_image007](http://www.hongweiyi.com/wp-content/uploads/2012/06/clip_image007_thumb.jpg \"clip_image007\")](http://www.hongweiyi.com/wp-content/uploads/2012/06/clip_image007.jpg)\n\n[![clip_image009](http://www.hongweiyi.com/wp-content/uploads/2012/06/clip_image009_thumb.jpg \"clip_image009\")](http://www.hongweiyi.com/wp-content/uploads/2012/06/clip_image009.jpg)\n\n[![clip_image011](http://www.hongweiyi.com/wp-content/uploads/2012/06/clip_image011_thumb.jpg \"clip_image011\")](http://www.hongweiyi.com/wp-content/uploads/2012/06/clip_image011.jpg)\n\n[![clip_image013](http://www.hongweiyi.com/wp-content/uploads/2012/06/clip_image013_thumb.jpg \"clip_image013\")](http://www.hongweiyi.com/wp-content/uploads/2012/06/clip_image013.jpg)\n\n[![clip_image015](http://www.hongweiyi.com/wp-content/uploads/2012/06/clip_image015_thumb.jpg \"clip_image015\")](http://www.hongweiyi.com/wp-content/uploads/2012/06/clip_image015.jpg)\n\n[![clip_image017](http://www.hongweiyi.com/wp-content/uploads/2012/06/clip_image017_thumb.jpg \"clip_image017\")](http://www.hongweiyi.com/wp-content/uploads/2012/06/clip_image017.jpg)","slug":"google-doodle-for-turing","published":1,"updated":"2015-12-29T13:31:03.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciirfw71v007xsv8f36za5sdy"},{"title":"GIT ","date":"2015-08-28T14:32:00.000Z","_content":"\n GIT \n\n## Labels\n\n* BUG\n* P0\n* P1\n* P2\n* TIPS\n* TODO\n* Label\n\t* \n\t* \n\t* ...\n* Label\n    * 1\n    * 2\n\t* ...\n\t\n\t\n## Branch\n\n* 1: [Git](http://www.jianshu.com/p/67afe711c731)\n\t* master\n\t* release\n\t* develop\n\t* feature/*\n\t* hotfix\n* 2\n\t* master\n\t* name-dev\n\t\n## Issue\n\n* \n\t* XX1-XX2-Description\n\t* XX1: \n\t* XX2: \n* Push\n\t* comment  #{Issue Id}\n\t\n## Push\n\n* \n\n\n## Milestone\n\n### \n\n* \n\t* v1.0.0\n\t* v1.0.1\n\t* ...\n* \n\t* \n\t* \n\n### \n\n* Application Talk\n\t*  Application \n\t* \n\t\n## \n\n*  project-management \n\t* \n\t\t* \n\t\t*  issue\n\t*  issue \n","source":"_posts/git-practice.md","raw":"title: GIT \ndate: 2015-08-28 22:32:00\ncategories: \ntags: GIT\n---\n\n GIT \n\n## Labels\n\n* BUG\n* P0\n* P1\n* P2\n* TIPS\n* TODO\n* Label\n\t* \n\t* \n\t* ...\n* Label\n    * 1\n    * 2\n\t* ...\n\t\n\t\n## Branch\n\n* 1: [Git](http://www.jianshu.com/p/67afe711c731)\n\t* master\n\t* release\n\t* develop\n\t* feature/*\n\t* hotfix\n* 2\n\t* master\n\t* name-dev\n\t\n## Issue\n\n* \n\t* XX1-XX2-Description\n\t* XX1: \n\t* XX2: \n* Push\n\t* comment  #{Issue Id}\n\t\n## Push\n\n* \n\n\n## Milestone\n\n### \n\n* \n\t* v1.0.0\n\t* v1.0.1\n\t* ...\n* \n\t* \n\t* \n\n### \n\n* Application Talk\n\t*  Application \n\t* \n\t\n## \n\n*  project-management \n\t* \n\t\t* \n\t\t*  issue\n\t*  issue \n","slug":"git-practice","published":1,"updated":"2015-12-29T13:30:15.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciirfw71x0081sv8fhbe1gblc"},{"title":"","date":"2014-04-13T15:48:00.000Z","_content":"\n\n\n\n<!--more-->\n\n\n\n> \n> P\n> \n\n\n\n\n\n> 5\n\n//\n\n@\n\n> \n> \n\n//\n","source":"_posts/forget-your-lusts.md","raw":"title: \ndate: 2014-04-13 23:48:00\ncategories: \ntags: , \n---\n\n\n\n\n<!--more-->\n\n\n\n> \n> P\n> \n\n\n\n\n\n> 5\n\n//\n\n@\n\n> \n> \n\n//\n","slug":"forget-your-lusts","published":1,"updated":"2015-12-29T13:30:15.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciirfw71y0085sv8f13l894qv"},{"title":"","id":"1044","date":"2014-04-13T15:48:24.000Z","_content":"\n\n\n<!--more-->\n\n* * *\n\n\t\n\n> \n> \n> \tP\n> \n> \t\n\n\t\n\n\t\n\n> 5\n\n\t/<span style=\"font-size: 13px;\">/</span>****\n\n\t****[@](http://weibo.com/hhbl)\n\n> \n\n> \n\n\t//_BTW_","source":"_posts/forget-your-lusts-1.md","raw":"title: \ntags:\n  - \n  - \nid: 1044\ncategories:\n  - \ndate: 2014-04-13 23:48:24\n---\n\n\n\n<!--more-->\n\n* * *\n\n\t\n\n> \n> \n> \tP\n> \n> \t\n\n\t\n\n\t\n\n> 5\n\n\t/<span style=\"font-size: 13px;\">/</span>****\n\n\t****[@](http://weibo.com/hhbl)\n\n> \n\n> \n\n\t//_BTW_","slug":"forget-your-lusts-1","published":1,"updated":"2015-12-29T13:31:03.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciirfw7200089sv8f72ioy073"},{"title":"","id":"115","date":"2011-03-08T07:52:59.000Z","_content":"\n+ plus\n- minus\nplus or minus\nis multiplied by\nis divided by\nis equal to\nis not equal to\nis equivalent to\nis equal to or approximately equal to\nis approximately equal to\nis less than\nis greater than\nis not less than\nis not more than\nis less than or equal to\nis more than or equal to\n<!--more-->% per cent\nper mill\ninfinity\nvaries as\n(square) root\nsince; because\nhence\nequals, as (proportion)\nangle\nsemicircle\ncircle\ncircumference\npi \ntriangle\nperpendicular to\nunion of\nintersection of \nthe integral of \n(sigma) summation of\ndegree\nminute\nsecond\nCelsius system\n{open brace, open curly\n}close brace, close curly\n(open parenthesis, open paren\n)close parenthesis, close paren\n() brakets/ parentheses\n[open bracket \n]close bracket \n[] square brackets\n.period, dot\n|vertical bar, vertical virgule\n&amp;ampersand, and, reference, ref\n*asterisk, multiply, star, pointer\n/slash, divide, oblique \n//slash-slash, comment \n#pound\n\\backslash, sometimes escape\n~tilde\n.full stop\n,comma\n:colon\n;semicolon\n?question mark\n!exclamation mark () exclamation point ()\n'apostrophe\n-hyphen\n-- dash \n...dots/ ellipsis\n\"single quotation marks \n\"\"double quotation marks \n parallel \n&amp;ampersand = and\nswung dash \nsection; division \narrow \n\nhttp://blog.sina.com.cn/s/blog_515dc9340100gy95.html","source":"_posts/english-punctuate.md","raw":"title: \ntags:\n  - \nid: 115\ncategories:\n  - \ndate: 2011-03-08 15:52:59\n---\n\n+ plus\n- minus\nplus or minus\nis multiplied by\nis divided by\nis equal to\nis not equal to\nis equivalent to\nis equal to or approximately equal to\nis approximately equal to\nis less than\nis greater than\nis not less than\nis not more than\nis less than or equal to\nis more than or equal to\n<!--more-->% per cent\nper mill\ninfinity\nvaries as\n(square) root\nsince; because\nhence\nequals, as (proportion)\nangle\nsemicircle\ncircle\ncircumference\npi \ntriangle\nperpendicular to\nunion of\nintersection of \nthe integral of \n(sigma) summation of\ndegree\nminute\nsecond\nCelsius system\n{open brace, open curly\n}close brace, close curly\n(open parenthesis, open paren\n)close parenthesis, close paren\n() brakets/ parentheses\n[open bracket \n]close bracket \n[] square brackets\n.period, dot\n|vertical bar, vertical virgule\n&amp;ampersand, and, reference, ref\n*asterisk, multiply, star, pointer\n/slash, divide, oblique \n//slash-slash, comment \n#pound\n\\backslash, sometimes escape\n~tilde\n.full stop\n,comma\n:colon\n;semicolon\n?question mark\n!exclamation mark () exclamation point ()\n'apostrophe\n-hyphen\n-- dash \n...dots/ ellipsis\n\"single quotation marks \n\"\"double quotation marks \n parallel \n&amp;ampersand = and\nswung dash \nsection; division \narrow \n\nhttp://blog.sina.com.cn/s/blog_515dc9340100gy95.html","slug":"english-punctuate","published":1,"updated":"2015-12-29T13:31:03.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciirfw722008dsv8f76bsi9zw"},{"title":"Eclipse","id":"140","date":"2011-05-02T15:41:05.000Z","_content":"\nJavaMyEclipseMEMEEclipse\n\nADTAboutMark\n\nHelp &gt; About Eclipse SDK &gt; Installation Details &gt; Uninstall &gt; Restart &gt; Done.\n\nEclipse3.6.1","source":"_posts/eclipse-plugin-unintall.md","raw":"title: Eclipse\ntags:\n  - Eclipse\n  - java\nid: 140\ncategories:\n  - \ndate: 2011-05-02 23:41:05\n---\n\nJavaMyEclipseMEMEEclipse\n\nADTAboutMark\n\nHelp &gt; About Eclipse SDK &gt; Installation Details &gt; Uninstall &gt; Restart &gt; Done.\n\nEclipse3.6.1","slug":"eclipse-plugin-unintall","published":1,"updated":"2015-12-29T13:31:03.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciirfw726008hsv8fwr3exu9w"},{"title":"Docker  - Volume plugins","date":"2015-10-14T14:05:00.000Z","_content":"\n## Docker \n\ndocker  docker  docker  volume  network  network  volume \n\n docker daemon  host  Plugin Discovery \n\n* \n* \n\n<!-- more -->\n\n## \n\n docker \n\n* `.sock`  UNIX domain sockets\n* `.spec`  URL`unix:///other.sock`\n* `.json`  JSON \n\nUNIX domain socket  `/run/docker/plugins`  `.spec``.json`  `/etc/docker/plugins`  `/usr/lib/docker/plugins` \n\n `/run/docker/plugins/myplugin.sock`  `myplugin` `/run/docker/plugins/myplugin/myplugin.sock`\n\ndocker  `/run/docker/plugins`  unix socket  `/etc/docker/plugins`  `/usr/lib/docker/plugins`\n\n### `.json`\n\nJSON \n\n```\n{\n  \"Name\": \"plugin-example\",\n  \"Addr\": \"https://example.com/docker/plugin\",\n  \"TLSConfig\": {\n    \"InsecureSkipVerify\": false,\n    \"CAFile\": \"/usr/shared/docker/certs/example-ca.pem\",\n    \"CertFile\": \"/usr/shared/docker/certs/example-cert.pem\",\n    \"KeyFile\": \"/usr/shared/docker/certs/example-key.pem\",\n  }\n}\n```\n\n## \n\n* \n*  docker\n*  docker\n* \n\n\n## \n\n `docker run --volume-driver=foo`  `foo`  volume \n\n## volume \n\n\n\n```\n$ docker run -ti -v volumename:/data --volume-driver=flocker busybox sh\n```\n\n flocker  voluemname  /data \n\nvolumename  `/`  docker  `/` \n\n##  API \n\n API  HTTP  JSON POST  HTTP  bind  UNIX socket API  HTTP\n`application/vnd.docker.plugins.v1+json`\n\n docker  docker volume  API [docker-volume-extension-api](https://github.com/calavera/dkvolume)\n\n### `/Plugin.Activate`\n\n\n\n\n\n```json\n{\n  \"Implements:\" [\"VolumeDriver\"]\n}\n```\n\n volume \n\n### `/VolumeDriver.Create`\n\n\n\n```\n{\n    \"Name\": \"volume_name\"\n}\n```\n\n volume volume \n\n\n\n```\n{\n    \"Err\": null\n}\n```\n\n\n\n### `/VolumeDriver.Remove`\n\n Create \n\n\n\n```\n{\n    \"Name\": \"volume_name\"\n}\n```\n\n\n\n```\n{\n    \"Err\": null\n}\n```\n\n\n### `/VolumeDriver.Mount`\n\n\n\n```\n{\n    \"Name\": \"volume_name\"\n}\n```\n\n\n\n\n\n```\n{\n   \"Mountpoint\": \"/path/to/directory/on/host\",\n   \"Err\": null\n}\n```\n\n volume_name  docker\n\n\n### `/VolumeDriver.Path`\n\n\n\n```\n{\n    \"Name\": \"volume_name\"\n}\n```\n\n\n\n```\n{\n   \"Mountpoint\": \"/path/to/directory/on/host\",\n   \"Err\": null\n}\n```\n\n volume_name  volume_name  docker\n\n### `/VolumeDriver.Unmount`\n\n\n\n```\n{\n    \"Name\": \"volume_name\"\n}\n```\n\n docker  volume \n\n\n\n```\n{\n    \"Err\": null\n}\n```\n\n\n> [Understand Docker plugins](https://docs.docker.com/extend/plugins/)\n","source":"_posts/docker-volume-plugin.md","raw":"title: Docker  - Volume plugins\ndate: 2015-10-14 22:05:00\ncategories: \ntags: [Docker, Docker plugins, Docker volume]\n---\n\n## Docker \n\ndocker  docker  docker  volume  network  network  volume \n\n docker daemon  host  Plugin Discovery \n\n* \n* \n\n<!-- more -->\n\n## \n\n docker \n\n* `.sock`  UNIX domain sockets\n* `.spec`  URL`unix:///other.sock`\n* `.json`  JSON \n\nUNIX domain socket  `/run/docker/plugins`  `.spec``.json`  `/etc/docker/plugins`  `/usr/lib/docker/plugins` \n\n `/run/docker/plugins/myplugin.sock`  `myplugin` `/run/docker/plugins/myplugin/myplugin.sock`\n\ndocker  `/run/docker/plugins`  unix socket  `/etc/docker/plugins`  `/usr/lib/docker/plugins`\n\n### `.json`\n\nJSON \n\n```\n{\n  \"Name\": \"plugin-example\",\n  \"Addr\": \"https://example.com/docker/plugin\",\n  \"TLSConfig\": {\n    \"InsecureSkipVerify\": false,\n    \"CAFile\": \"/usr/shared/docker/certs/example-ca.pem\",\n    \"CertFile\": \"/usr/shared/docker/certs/example-cert.pem\",\n    \"KeyFile\": \"/usr/shared/docker/certs/example-key.pem\",\n  }\n}\n```\n\n## \n\n* \n*  docker\n*  docker\n* \n\n\n## \n\n `docker run --volume-driver=foo`  `foo`  volume \n\n## volume \n\n\n\n```\n$ docker run -ti -v volumename:/data --volume-driver=flocker busybox sh\n```\n\n flocker  voluemname  /data \n\nvolumename  `/`  docker  `/` \n\n##  API \n\n API  HTTP  JSON POST  HTTP  bind  UNIX socket API  HTTP\n`application/vnd.docker.plugins.v1+json`\n\n docker  docker volume  API [docker-volume-extension-api](https://github.com/calavera/dkvolume)\n\n### `/Plugin.Activate`\n\n\n\n\n\n```json\n{\n  \"Implements:\" [\"VolumeDriver\"]\n}\n```\n\n volume \n\n### `/VolumeDriver.Create`\n\n\n\n```\n{\n    \"Name\": \"volume_name\"\n}\n```\n\n volume volume \n\n\n\n```\n{\n    \"Err\": null\n}\n```\n\n\n\n### `/VolumeDriver.Remove`\n\n Create \n\n\n\n```\n{\n    \"Name\": \"volume_name\"\n}\n```\n\n\n\n```\n{\n    \"Err\": null\n}\n```\n\n\n### `/VolumeDriver.Mount`\n\n\n\n```\n{\n    \"Name\": \"volume_name\"\n}\n```\n\n\n\n\n\n```\n{\n   \"Mountpoint\": \"/path/to/directory/on/host\",\n   \"Err\": null\n}\n```\n\n volume_name  docker\n\n\n### `/VolumeDriver.Path`\n\n\n\n```\n{\n    \"Name\": \"volume_name\"\n}\n```\n\n\n\n```\n{\n   \"Mountpoint\": \"/path/to/directory/on/host\",\n   \"Err\": null\n}\n```\n\n volume_name  volume_name  docker\n\n### `/VolumeDriver.Unmount`\n\n\n\n```\n{\n    \"Name\": \"volume_name\"\n}\n```\n\n docker  volume \n\n\n\n```\n{\n    \"Err\": null\n}\n```\n\n\n> [Understand Docker plugins](https://docs.docker.com/extend/plugins/)\n","slug":"docker-volume-plugin","published":1,"updated":"2015-12-29T13:30:15.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciirfw727008msv8fgf84mgzo"},{"title":"Docker Compose ","date":"2015-10-08T12:00:00.000Z","_content":"\n## docker-compose \n\n* daemon \n\n`docker-compose up -d`\n\n*  container \n\n container [Issue ](https://github.com/docker/compose/pull/1711), [yml.md: container_name](https://github.com/docker/compose/blob/master/docs/yml.md#container_name)\n\n    * scale \n    * container ${PROJECT}-${NAME}-${sacle_num}\n\n## docker-compose \n\n*  yml  [Issue ](https://github.com/docker/compose/issues/1377)[](https://github.com/docker/compose/blob/master/docs/yml.md#variable-substitution)\n*  container  [Issue](https://github.com/docker/compose/issues/374)\n*  container DB \n* docker-compose  docker-swarm https://github.com/docker/compose/blob/master/SWARM.md\n","source":"_posts/docker-compose-pratice.md","raw":"title: Docker Compose \ndate: 2015-10-08 20:00:00\ncategories: \ntags: [Docker, Docker Compose]\n---\n\n## docker-compose \n\n* daemon \n\n`docker-compose up -d`\n\n*  container \n\n container [Issue ](https://github.com/docker/compose/pull/1711), [yml.md: container_name](https://github.com/docker/compose/blob/master/docs/yml.md#container_name)\n\n    * scale \n    * container ${PROJECT}-${NAME}-${sacle_num}\n\n## docker-compose \n\n*  yml  [Issue ](https://github.com/docker/compose/issues/1377)[](https://github.com/docker/compose/blob/master/docs/yml.md#variable-substitution)\n*  container  [Issue](https://github.com/docker/compose/issues/374)\n*  container DB \n* docker-compose  docker-swarm https://github.com/docker/compose/blob/master/SWARM.md\n","slug":"docker-compose-pratice","published":1,"updated":"2015-12-29T13:30:15.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciirfw72a008vsv8fu0gfmz0b"},{"title":"","id":"141","date":"2011-06-07T15:12:59.000Z","_content":"\n### VGA\n\nVGA(Video Graphics Array)IBM1987PS2640480\n\n<!--more-->**QVGA**\n\n**QVGA****Q**uarter **VGA**VGALCD320240\n\n### HVGA\n\n**HVGA****H**alf-size **VGA**VGA(640*480)(480*320)(3:2)\n\n### WQVGA\n\n**WQVGA****W**ide **Q**uarter **VGA**480X272169400X24053480X240\n\n### WVGA\n\n**WVGA****W**ide **VGA**VGAWVGA800480\n\n### FWVGA\n\n**FWVGA****F**ull **W**ide **VGA**VGAWVGA854480(16:9)WVGA800480)(15:9)PDAAndroid,\n> [](http://baike.baidu.com)","source":"_posts/ditital-screen.md","raw":"title: \ntags:\n  - \nid: 141\ncategories:\n  - \n  - \ndate: 2011-06-07 23:12:59\n---\n\n### VGA\n\nVGA(Video Graphics Array)IBM1987PS2640480\n\n<!--more-->**QVGA**\n\n**QVGA****Q**uarter **VGA**VGALCD320240\n\n### HVGA\n\n**HVGA****H**alf-size **VGA**VGA(640*480)(480*320)(3:2)\n\n### WQVGA\n\n**WQVGA****W**ide **Q**uarter **VGA**480X272169400X24053480X240\n\n### WVGA\n\n**WVGA****W**ide **VGA**VGAWVGA800480\n\n### FWVGA\n\n**FWVGA****F**ull **W**ide **VGA**VGAWVGA854480(16:9)WVGA800480)(15:9)PDAAndroid,\n> [](http://baike.baidu.com)","slug":"ditital-screen","published":1,"updated":"2015-12-29T13:31:03.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciirfw72c0090sv8fyk9g20v6"},{"title":"","id":"163","date":"2011-10-01T02:21:35.000Z","_content":"\n()I/OScale-Out\n\n<!--more-->\n\n****\n\nI/OStripeI/O\n\nLustre, PVFS, StorNext, GFSNASI/OI/OSocket, RPC, HTTP RESTSOAPOPSScale-UpOPSCPUCPUSSD/()Cache[](http://blog.csdn.net/liuben/article/details/5993604)\n\nAmdahlI/OLOSF(Lots of Small Files)KBKBCDNDNALOSFOPSI/OLOSFLustre, PVFS, GFS\n\nLustre, StorNext, GFSStorNextLOSFI/OCPUOSCacheI/OI/O\n\n(SPOFSingle Point of Failure) SPOFHA()HAHASPOF\n\n****\n\nISILONLoongStoreCZSS()PanFS, GPFS, Ceph\n\nI/O(InfiniBand, GibE)SSDSAN(SMPccNUMA)\n\n\n\n****\n\nGlusterfs\n\nGlusterFSGlusterFSGlusterFSGlusterFSGlusterFS(Glusterfs[Glusterfs](http://blog.csdn.net/liuben/article/details/6284551))\n\nCPU\n\n****\n\nScale-OutLustre, StorNext, GFSISILON, GPFS, CephGlustrefs\n\n****\n[1] Ceph, [http://www.ibm.com/developerworks/cn/linux/l-ceph/index.html?ca=drs-](http://www.ibm.com/developerworks/cn/linux/l-ceph/index.html?ca=drs-)\n[2] Glusterfs, [http://blog.csdn.net/liuben/article/details/6284551](http://blog.csdn.net/liuben/article/details/6284551)\n[3] NAS[http://blog.csdn.net/liuben/article/details/6422700](http://blog.csdn.net/liuben/article/details/6422700)\n> ****[****](http://blog.csdn.net/liuben/article/details/6749188)","source":"_posts/dist-filesystem-metadata-server.md","raw":"title: \ntags:\n  - \nid: 163\ncategories:\n  - \ndate: 2011-10-01 10:21:35\n---\n\n()I/OScale-Out\n\n<!--more-->\n\n****\n\nI/OStripeI/O\n\nLustre, PVFS, StorNext, GFSNASI/OI/OSocket, RPC, HTTP RESTSOAPOPSScale-UpOPSCPUCPUSSD/()Cache[](http://blog.csdn.net/liuben/article/details/5993604)\n\nAmdahlI/OLOSF(Lots of Small Files)KBKBCDNDNALOSFOPSI/OLOSFLustre, PVFS, GFS\n\nLustre, StorNext, GFSStorNextLOSFI/OCPUOSCacheI/OI/O\n\n(SPOFSingle Point of Failure) SPOFHA()HAHASPOF\n\n****\n\nISILONLoongStoreCZSS()PanFS, GPFS, Ceph\n\nI/O(InfiniBand, GibE)SSDSAN(SMPccNUMA)\n\n\n\n****\n\nGlusterfs\n\nGlusterFSGlusterFSGlusterFSGlusterFSGlusterFS(Glusterfs[Glusterfs](http://blog.csdn.net/liuben/article/details/6284551))\n\nCPU\n\n****\n\nScale-OutLustre, StorNext, GFSISILON, GPFS, CephGlustrefs\n\n****\n[1] Ceph, [http://www.ibm.com/developerworks/cn/linux/l-ceph/index.html?ca=drs-](http://www.ibm.com/developerworks/cn/linux/l-ceph/index.html?ca=drs-)\n[2] Glusterfs, [http://blog.csdn.net/liuben/article/details/6284551](http://blog.csdn.net/liuben/article/details/6284551)\n[3] NAS[http://blog.csdn.net/liuben/article/details/6422700](http://blog.csdn.net/liuben/article/details/6422700)\n> ****[****](http://blog.csdn.net/liuben/article/details/6749188)","slug":"dist-filesystem-metadata-server","published":1,"updated":"2015-12-29T13:31:03.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciirfw72e0095sv8fxdkp6u8t"},{"title":" - ","id":"224","date":"2011-12-17T14:52:21.000Z","_content":"\n**GOF******\n\n_Prototype Pattern Ensure a class only has one instance, and provide a global point of access to it. _\n\n__\n <!--more-->  \n\n\n\n\n\n&#160;\n  <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>     <tr>       <td valign=\"top\" width=\"568\">         <div class=\"dp-highlighter\">           <div class=\"bar\"></div>            \n\n1.  <span><span class=\"keyword\">package</span><span> com.wikieno.singleton;&#160;&#160; </span></span>\n2.  <span>&#160; </span>\n3.  <span></span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">class</span><span> Singleton {&#160;&#160; </span></span>\n4.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">private</span><span>&#160;</span><span class=\"keyword\">static</span><span>&#160;</span><span class=\"keyword\">final</span><span> Singleton mySingletonObj = </span><span class=\"keyword\">new</span><span> Singleton();&#160;&#160; </span></span>\n5.  <span>&#160; </span>\n6.  <span>&#160;&#160;&#160; </span><span class=\"comment\">//  </span><span>&#160; </span></span>\n7.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">private</span><span> Singleton() {&#160;&#160; </span></span>\n8.  <span>&#160;&#160;&#160; }&#160;&#160; </span>\n9.  <span>&#160; </span>\n10.  <span>&#160;&#160;&#160; </span><span class=\"comment\">//  </span><span>&#160; </span></span>\n11.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">synchronized</span><span>&#160;</span><span class=\"keyword\">static</span><span> Singleton getInstance() {&#160;&#160; </span></span>\n12.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">return</span><span> mySingletonObj;&#160;&#160; </span></span>\n13.  <span>&#160;&#160;&#160; }&#160;&#160; </span>\n14.  <span>}&#160;&#160; </span>         </div>       </td>     </tr>   </tbody></table>","source":"_posts/design-pattern-singleton.md","raw":"title:  - \ntags:\n  - \nid: 224\ncategories:\n  - \ndate: 2011-12-17 22:52:21\n---\n\n**GOF******\n\n_Prototype Pattern Ensure a class only has one instance, and provide a global point of access to it. _\n\n__\n <!--more-->  \n\n\n\n\n\n&#160;\n  <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>     <tr>       <td valign=\"top\" width=\"568\">         <div class=\"dp-highlighter\">           <div class=\"bar\"></div>            \n\n1.  <span><span class=\"keyword\">package</span><span> com.wikieno.singleton;&#160;&#160; </span></span>\n2.  <span>&#160; </span>\n3.  <span></span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">class</span><span> Singleton {&#160;&#160; </span></span>\n4.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">private</span><span>&#160;</span><span class=\"keyword\">static</span><span>&#160;</span><span class=\"keyword\">final</span><span> Singleton mySingletonObj = </span><span class=\"keyword\">new</span><span> Singleton();&#160;&#160; </span></span>\n5.  <span>&#160; </span>\n6.  <span>&#160;&#160;&#160; </span><span class=\"comment\">//  </span><span>&#160; </span></span>\n7.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">private</span><span> Singleton() {&#160;&#160; </span></span>\n8.  <span>&#160;&#160;&#160; }&#160;&#160; </span>\n9.  <span>&#160; </span>\n10.  <span>&#160;&#160;&#160; </span><span class=\"comment\">//  </span><span>&#160; </span></span>\n11.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">synchronized</span><span>&#160;</span><span class=\"keyword\">static</span><span> Singleton getInstance() {&#160;&#160; </span></span>\n12.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">return</span><span> mySingletonObj;&#160;&#160; </span></span>\n13.  <span>&#160;&#160;&#160; }&#160;&#160; </span>\n14.  <span>}&#160;&#160; </span>         </div>       </td>     </tr>   </tbody></table>","slug":"design-pattern-singleton","published":1,"updated":"2015-12-29T13:31:03.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciirfw72g0099sv8f2rorlsk4"},{"title":" - ","id":"233","date":"2011-12-25T15:37:24.000Z","_content":"\n**GOF******\n\n_Provide a surrogate or placeholder for another object to control access to it. _\n\n__\n <!--more-->  \n\n\n\n1 \n\n2 \n\n\n  <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>     <tr>       <td valign=\"top\" width=\"568\">         <div class=\"dp-highlighter\">           <div class=\"bar\"></div>            \n\n1.  <span><span class=\"keyword\">package</span><span> com.wikieno.proxy;&#160;&#160; </span></span>\n2.  <span>&#160; </span>\n3.  <span></span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">interface</span><span> FileOps {&#160;&#160; </span></span>\n4.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">void</span><span> download();&#160;&#160; </span></span>\n5.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">void</span><span> del();&#160;&#160; </span></span>\n6.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">void</span><span> modify();&#160;&#160; </span></span>\n7.  <span>}&#160;&#160; </span>         </div>       </td>     </tr>   </tbody></table>  \n\n    <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>       <tr>         <td valign=\"top\" width=\"568\">           <div class=\"dp-highlighter\">             <div class=\"bar\"></div>              \n\n1.  <span><span class=\"keyword\">package</span><span> com.wikieno.proxy;&#160;&#160; </span></span>\n2.  <span>&#160; </span>\n3.  <span></span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">class</span><span> RealFileOps </span><span class=\"keyword\">implements</span><span> FileOps {&#160;&#160; </span></span>\n4.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">void</span><span> download() {&#160;&#160; </span></span>\n5.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"comment\">// TODO </span><span>&#160; </span></span>\n6.  <span>&#160;&#160;&#160; }&#160;&#160; </span>\n7.  <span>&#160; </span>\n8.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">void</span><span> del() {&#160;&#160; </span></span>\n9.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"comment\">// TODO </span><span>&#160; </span></span>\n10.  <span>&#160;&#160;&#160; }&#160;&#160; </span>\n11.  <span>&#160; </span>\n12.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">void</span><span> modify() {&#160;&#160; </span></span>\n13.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"comment\">// TODO </span><span>&#160; </span></span>\n14.  <span>&#160;&#160;&#160; }&#160;&#160; </span>\n15.  <span>}&#160;&#160; </span>           </div>         </td>       </tr>     </tbody></table> \n\n    <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>       <tr>         <td valign=\"top\" width=\"568\">           <div class=\"dp-highlighter\">             <div class=\"bar\"></div>              \n\n1.  <span><span class=\"keyword\">package</span><span> com.wikieno.proxy;&#160;&#160; </span></span>\n2.  <span>&#160; </span>\n3.  <span></span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">class</span><span> FileProxy </span><span class=\"keyword\">implements</span><span> FileOps {&#160;&#160; </span></span>\n4.  <span>&#160; </span>\n5.  <span>&#160;&#160;&#160; FileOps file;&#160;&#160; </span>\n6.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">int</span><span> permission;&#160;&#160; </span></span>\n7.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">static</span><span>&#160;</span><span class=\"keyword\">final</span><span>&#160;</span><span class=\"keyword\">int</span><span> PERMISSION_USER = </span><span class=\"number\">100</span><span>;&#160;&#160; </span></span>\n8.  <span>&#160; </span>\n9.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span> FileProxy(</span><span class=\"keyword\">int</span><span> permission, FileOps file) {&#160;&#160; </span></span>\n10.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"comment\">// FIXME </span><span>&#160; </span></span>\n11.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">this</span><span>.file = file;&#160;&#160; </span></span>\n12.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">this</span><span>.permission = permission;&#160;&#160; </span></span>\n13.  <span>&#160;&#160;&#160; }&#160;&#160; </span>\n14.  <span>&#160; </span>\n15.  <span>&#160;&#160;&#160; </span><span class=\"annotation\">@Override</span><span>&#160; </span></span>\n16.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">void</span><span> download() {&#160;&#160; </span></span>\n17.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">if</span><span> (PERMISSION_USER == permission) {&#160;&#160; </span></span>\n18.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">this</span><span>.file.download();&#160;&#160; </span></span>\n19.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; } </span><span class=\"keyword\">else</span><span> {&#160;&#160; </span></span>\n20.  <span></span><span class=\"comment\">// TODO </span><span>&#160; </span></span>\n21.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; }&#160;&#160; </span>\n22.  <span>&#160;&#160;&#160; }&#160;&#160; </span>\n23.  <span>&#160; </span>\n24.  <span>&#160;&#160;&#160; </span><span class=\"annotation\">@Override</span><span>&#160; </span></span>\n25.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">void</span><span> del() {&#160;&#160; </span></span>\n26.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"comment\">// TODO </span><span>&#160; </span></span>\n27.  <span>&#160;&#160;&#160; }&#160;&#160; </span>\n28.  <span>&#160; </span>\n29.  <span>&#160;&#160;&#160; </span><span class=\"annotation\">@Override</span><span>&#160; </span></span>\n30.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">void</span><span> modify() {&#160;&#160; </span></span>\n31.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"comment\">// TODO </span><span>&#160; </span></span>\n32.  <span>&#160;&#160;&#160; }&#160;&#160; </span>\n33.  <span>}&#160; </span>           </div>         </td>       </tr>     </tbody></table> \n\n\n\n1 \n\n\n\n2 \n\n","source":"_posts/design-pattern-proxy.md","raw":"title:  - \ntags:\n  - \nid: 233\ncategories:\n  - \ndate: 2011-12-25 23:37:24\n---\n\n**GOF******\n\n_Provide a surrogate or placeholder for another object to control access to it. _\n\n__\n <!--more-->  \n\n\n\n1 \n\n2 \n\n\n  <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>     <tr>       <td valign=\"top\" width=\"568\">         <div class=\"dp-highlighter\">           <div class=\"bar\"></div>            \n\n1.  <span><span class=\"keyword\">package</span><span> com.wikieno.proxy;&#160;&#160; </span></span>\n2.  <span>&#160; </span>\n3.  <span></span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">interface</span><span> FileOps {&#160;&#160; </span></span>\n4.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">void</span><span> download();&#160;&#160; </span></span>\n5.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">void</span><span> del();&#160;&#160; </span></span>\n6.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">void</span><span> modify();&#160;&#160; </span></span>\n7.  <span>}&#160;&#160; </span>         </div>       </td>     </tr>   </tbody></table>  \n\n    <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>       <tr>         <td valign=\"top\" width=\"568\">           <div class=\"dp-highlighter\">             <div class=\"bar\"></div>              \n\n1.  <span><span class=\"keyword\">package</span><span> com.wikieno.proxy;&#160;&#160; </span></span>\n2.  <span>&#160; </span>\n3.  <span></span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">class</span><span> RealFileOps </span><span class=\"keyword\">implements</span><span> FileOps {&#160;&#160; </span></span>\n4.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">void</span><span> download() {&#160;&#160; </span></span>\n5.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"comment\">// TODO </span><span>&#160; </span></span>\n6.  <span>&#160;&#160;&#160; }&#160;&#160; </span>\n7.  <span>&#160; </span>\n8.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">void</span><span> del() {&#160;&#160; </span></span>\n9.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"comment\">// TODO </span><span>&#160; </span></span>\n10.  <span>&#160;&#160;&#160; }&#160;&#160; </span>\n11.  <span>&#160; </span>\n12.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">void</span><span> modify() {&#160;&#160; </span></span>\n13.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"comment\">// TODO </span><span>&#160; </span></span>\n14.  <span>&#160;&#160;&#160; }&#160;&#160; </span>\n15.  <span>}&#160;&#160; </span>           </div>         </td>       </tr>     </tbody></table> \n\n    <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>       <tr>         <td valign=\"top\" width=\"568\">           <div class=\"dp-highlighter\">             <div class=\"bar\"></div>              \n\n1.  <span><span class=\"keyword\">package</span><span> com.wikieno.proxy;&#160;&#160; </span></span>\n2.  <span>&#160; </span>\n3.  <span></span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">class</span><span> FileProxy </span><span class=\"keyword\">implements</span><span> FileOps {&#160;&#160; </span></span>\n4.  <span>&#160; </span>\n5.  <span>&#160;&#160;&#160; FileOps file;&#160;&#160; </span>\n6.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">int</span><span> permission;&#160;&#160; </span></span>\n7.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">static</span><span>&#160;</span><span class=\"keyword\">final</span><span>&#160;</span><span class=\"keyword\">int</span><span> PERMISSION_USER = </span><span class=\"number\">100</span><span>;&#160;&#160; </span></span>\n8.  <span>&#160; </span>\n9.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span> FileProxy(</span><span class=\"keyword\">int</span><span> permission, FileOps file) {&#160;&#160; </span></span>\n10.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"comment\">// FIXME </span><span>&#160; </span></span>\n11.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">this</span><span>.file = file;&#160;&#160; </span></span>\n12.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">this</span><span>.permission = permission;&#160;&#160; </span></span>\n13.  <span>&#160;&#160;&#160; }&#160;&#160; </span>\n14.  <span>&#160; </span>\n15.  <span>&#160;&#160;&#160; </span><span class=\"annotation\">@Override</span><span>&#160; </span></span>\n16.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">void</span><span> download() {&#160;&#160; </span></span>\n17.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">if</span><span> (PERMISSION_USER == permission) {&#160;&#160; </span></span>\n18.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">this</span><span>.file.download();&#160;&#160; </span></span>\n19.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; } </span><span class=\"keyword\">else</span><span> {&#160;&#160; </span></span>\n20.  <span></span><span class=\"comment\">// TODO </span><span>&#160; </span></span>\n21.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; }&#160;&#160; </span>\n22.  <span>&#160;&#160;&#160; }&#160;&#160; </span>\n23.  <span>&#160; </span>\n24.  <span>&#160;&#160;&#160; </span><span class=\"annotation\">@Override</span><span>&#160; </span></span>\n25.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">void</span><span> del() {&#160;&#160; </span></span>\n26.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"comment\">// TODO </span><span>&#160; </span></span>\n27.  <span>&#160;&#160;&#160; }&#160;&#160; </span>\n28.  <span>&#160; </span>\n29.  <span>&#160;&#160;&#160; </span><span class=\"annotation\">@Override</span><span>&#160; </span></span>\n30.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">void</span><span> modify() {&#160;&#160; </span></span>\n31.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"comment\">// TODO </span><span>&#160; </span></span>\n32.  <span>&#160;&#160;&#160; }&#160;&#160; </span>\n33.  <span>}&#160; </span>           </div>         </td>       </tr>     </tbody></table> \n\n\n\n1 \n\n\n\n2 \n\n","slug":"design-pattern-proxy","published":1,"updated":"2015-12-29T13:31:03.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciirfw72h009dsv8f6unnq2p0"},{"title":" - ","id":"225","date":"2011-12-18T13:17:41.000Z","_content":"\n**GOF******\n\n_Define a one-to-many dependency between objects so that when one object changes state, all its dependents are notified and updated automatically _\n\n__\n <!--more-->  \n\nListenerXXXListener\n\n\n  <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>     <tr>       <td valign=\"top\" width=\"568\">         <div class=\"dp-highlighter\">           <div class=\"bar\">&#160;</div>            \n\n1.  <span><span class=\"keyword\">package</span><span> com.wikieno.observer.listener;&#160;&#160; </span></span>\n2.  <span>&#160; </span>\n3.  <span></span><span class=\"comment\">/** </span>&#160;</span>4.  <span><span class=\"comment\">*&#160; </span>&#160;</span>5.  <span><span class=\"comment\">*  </span>&#160;</span>6.  <span><span class=\"comment\">*&#160; </span>&#160;</span>7.  <span><span class=\"comment\">* @author Wikie </span>&#160;</span>8.  <span><span class=\"comment\">*/</span><span>&#160; </span></span>\n9.  <span></span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">abstract</span><span>&#160;</span><span class=\"keyword\">class</span><span> SendListener{&#160;&#160; </span></span>\n10.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">abstract</span><span>&#160;</span><span class=\"keyword\">void</span><span> onMsgSended(String msg);&#160;&#160; </span></span>\n11.  <span>}&#160;&#160; </span>         </div>       </td>     </tr>   </tbody></table>  \n\n\n  <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>     <tr>       <td valign=\"top\" width=\"568\">         <div class=\"dp-highlighter\">           <div class=\"bar\"></div>            \n\n1.  <span><span class=\"keyword\">package</span><span> com.wikieno.observer.listener;&#160;&#160; </span></span>\n2.  <span>&#160; </span>\n3.  <span></span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">class</span><span> Sender {&#160;&#160; </span></span>\n4.  <span>&#160;&#160;&#160; </span><span class=\"comment\">//  </span><span>&#160; </span></span>\n5.  <span>&#160;&#160;&#160; SendListener sendListener;&#160;&#160; </span>\n6.  <span>&#160; </span>\n7.  <span>&#160;&#160;&#160; </span><span class=\"comment\">/** </span>&#160;</span>8.  <span><span class=\"comment\">&#160;&#160;&#160;&#160; *  </span>&#160;</span>9.  <span><span class=\"comment\">&#160;&#160;&#160;&#160; * @param l  </span>&#160;</span>10.  <span><span class=\"comment\">&#160;&#160;&#160;&#160; */</span><span>&#160; </span></span>\n11.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">void</span><span> addSendListener(SendListener l) {&#160;&#160; </span></span>\n12.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">if</span><span> (l == </span><span class=\"keyword\">null</span><span>) {&#160;&#160; </span></span>\n13.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">throw</span><span>&#160;</span><span class=\"keyword\">new</span><span> NullPointerException();&#160;&#160; </span></span>\n14.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; }&#160;&#160; </span>\n15.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">this</span><span>.sendListener = l;&#160;&#160; </span></span>\n16.  <span>&#160;&#160;&#160; }&#160;&#160; </span>\n17.  <span>&#160; </span>\n18.  <span>&#160;&#160;&#160; </span><span class=\"comment\">/** </span>&#160;</span>19.  <span><span class=\"comment\">&#160;&#160;&#160;&#160; *  </span>&#160;</span>20.  <span><span class=\"comment\">&#160;&#160;&#160;&#160; *  </span>&#160;</span>21.  <span><span class=\"comment\">&#160;&#160;&#160;&#160; * @param msg </span>&#160;</span>22.  <span><span class=\"comment\">&#160;&#160;&#160;&#160; */</span><span>&#160; </span></span>\n23.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">void</span><span> sendMsg(String msg) {&#160;&#160; </span></span>\n24.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; doSth();&#160;&#160; </span>\n25.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; sendListener.onMsgSended(msg);&#160;&#160; </span>\n26.  <span>&#160;&#160;&#160; }&#160;&#160; </span>\n27.  <span>&#160; </span>\n28.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">private</span><span>&#160;</span><span class=\"keyword\">void</span><span> doSth() {&#160;&#160; </span></span>\n29.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"comment\">// TODO Auto-generated method stubO </span><span>&#160; </span></span>\n30.  <span>&#160;&#160;&#160; }&#160;&#160; </span>\n31.  <span>}&#160;&#160; </span>         </div>       </td>     </tr>   </tbody></table>  \n\n\n  <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>     <tr>       <td valign=\"top\" width=\"568\">         <div class=\"dp-highlighter\">           <div class=\"bar\"></div>            \n\n1.  <span><span class=\"keyword\">package</span><span> com.wikieno.observer.listener;&#160;&#160; </span></span>\n2.  <span>&#160; </span>\n3.  <span></span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">class</span><span> Application {&#160;&#160; </span></span>\n4.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">static</span><span>&#160;</span><span class=\"keyword\">void</span><span> main(String[] args) {&#160;&#160; </span></span>\n5.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; Sender sender = </span><span class=\"keyword\">new</span><span> Sender();&#160;&#160; </span></span>\n6.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; sender.addSendListener(</span><span class=\"keyword\">new</span><span> SendListener() {&#160;&#160; </span></span>\n7.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"annotation\">@Override</span><span>&#160; </span></span>\n8.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">void</span><span> onMsgSended(String msg) {&#160;&#160; </span></span>\n9.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; System.out.println(</span><span class=\"string\">&quot;Msg is: &quot;</span><span> + msg);&#160;&#160; </span></span>\n10.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; }&#160;&#160; </span>\n11.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; });&#160;&#160; </span>\n12.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; sender.sendMsg(</span><span class=\"string\">&quot;Hello World&quot;</span><span>);&#160;&#160; </span></span>\n13.  <span>&#160;&#160;&#160; }&#160;&#160; </span>\n14.  <span>}&#160; </span>         </div>       </td>     </tr>   </tbody></table>  \n\n\n\njavaObserverObservableSun JDK12\n\nObserverupdateObservableObserverVectorObservableObservernotifyObservers(obj)Observer\n\n\n  <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>     <tr>       <td valign=\"top\" width=\"568\">         <div class=\"dp-highlighter\">           <div class=\"bar\"></div>            \n\n1.  <span><span class=\"keyword\">package</span><span> com.wikieno.observer;&#160;&#160; </span></span>\n2.  <span>&#160; </span>\n3.  <span></span><span class=\"keyword\">import</span><span> java.util.Observable;&#160;&#160; </span></span>\n4.  <span></span><span class=\"keyword\">import</span><span> java.util.Observer;&#160;&#160; </span></span>\n5.  <span>&#160; </span>\n6.  <span></span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">class</span><span> SendObserver </span><span class=\"keyword\">implements</span><span> Observer {&#160;&#160; </span></span>\n7.  <span>&#160; </span>\n8.  <span>&#160;&#160;&#160; </span><span class=\"comment\">/** </span>&#160;</span>9.  <span><span class=\"comment\">&#160;&#160;&#160;&#160; *  </span>&#160;</span>10.  <span><span class=\"comment\">&#160;&#160;&#160;&#160; * @param o:  </span>&#160;</span>11.  <span><span class=\"comment\">&#160;&#160;&#160;&#160; * @param arg:  </span>&#160;</span>12.  <span><span class=\"comment\">&#160;&#160;&#160;&#160; */</span><span>&#160; </span></span>\n13.  <span>&#160;&#160;&#160; </span><span class=\"annotation\">@Override</span><span>&#160; </span></span>\n14.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">void</span><span> update(Observable o, Object arg) {&#160;&#160; </span></span>\n15.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">if</span><span> (arg </span><span class=\"keyword\">instanceof</span><span> String) {&#160;&#160; </span></span>\n16.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; System.out.println(</span><span class=\"string\">&quot;Msg is: &quot;</span><span> + arg);&#160;&#160; </span></span>\n17.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; }&#160;&#160; </span>\n18.  <span>&#160;&#160;&#160; }&#160;&#160; </span>\n19.  <span>}&#160;&#160; </span>         </div>       </td>     </tr>   </tbody></table>  <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>     <tr>       <td valign=\"top\" width=\"568\">         <div class=\"dp-highlighter\">           <div class=\"bar\"></div>            \n\n1.  <span><span class=\"keyword\">package</span><span> com.wikieno.observer;&#160;&#160; </span></span>\n2.  <span>&#160; </span>\n3.  <span></span><span class=\"keyword\">import</span><span> java.util.Observable;&#160;&#160; </span></span>\n4.  <span>&#160; </span>\n5.  <span></span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">class</span><span> Sender </span><span class=\"keyword\">extends</span><span> Observable {&#160;&#160; </span></span>\n6.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">void</span><span> sendMsg(String msg) {&#160;&#160; </span></span>\n7.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; setChanged();&#160;&#160; </span>\n8.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; notifyObservers(msg);&#160;&#160; </span>\n9.  <span>&#160;&#160;&#160; }&#160;&#160; </span>\n10.  <span>}&#160;&#160; </span>         </div>       </td>     </tr>   </tbody></table>  <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>     <tr>       <td valign=\"top\" width=\"568\">         <div class=\"dp-highlighter\">           <div class=\"bar\"></div>            \n\n1.  <span><span class=\"keyword\">package</span><span> com.wikieno.observer;&#160;&#160; </span></span>\n2.  <span>&#160; </span>\n3.  <span></span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">class</span><span> Application {&#160;&#160; </span></span>\n4.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">static</span><span>&#160;</span><span class=\"keyword\">void</span><span> main(String[] args) {&#160;&#160; </span></span>\n5.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; Sender sender = </span><span class=\"keyword\">new</span><span> Sender();&#160;&#160; </span></span>\n6.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; sender.addObserver(</span><span class=\"keyword\">new</span><span> SendObserver());&#160;&#160; </span></span>\n7.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; sender.sendMsg(</span><span class=\"string\">&quot;Hello world&quot;</span><span>);&#160;&#160; </span></span>\n8.  <span>&#160;&#160;&#160; }&#160;&#160; </span>\n9.  <span>}&#160;&#160; </span>         </div>       </td>     </tr>   </tbody></table>","source":"_posts/design-pattern-observer.md","raw":"title:  - \ntags:\n  - \nid: 225\ncategories:\n  - \ndate: 2011-12-18 21:17:41\n---\n\n**GOF******\n\n_Define a one-to-many dependency between objects so that when one object changes state, all its dependents are notified and updated automatically _\n\n__\n <!--more-->  \n\nListenerXXXListener\n\n\n  <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>     <tr>       <td valign=\"top\" width=\"568\">         <div class=\"dp-highlighter\">           <div class=\"bar\">&#160;</div>            \n\n1.  <span><span class=\"keyword\">package</span><span> com.wikieno.observer.listener;&#160;&#160; </span></span>\n2.  <span>&#160; </span>\n3.  <span></span><span class=\"comment\">/** </span>&#160;</span>4.  <span><span class=\"comment\">*&#160; </span>&#160;</span>5.  <span><span class=\"comment\">*  </span>&#160;</span>6.  <span><span class=\"comment\">*&#160; </span>&#160;</span>7.  <span><span class=\"comment\">* @author Wikie </span>&#160;</span>8.  <span><span class=\"comment\">*/</span><span>&#160; </span></span>\n9.  <span></span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">abstract</span><span>&#160;</span><span class=\"keyword\">class</span><span> SendListener{&#160;&#160; </span></span>\n10.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">abstract</span><span>&#160;</span><span class=\"keyword\">void</span><span> onMsgSended(String msg);&#160;&#160; </span></span>\n11.  <span>}&#160;&#160; </span>         </div>       </td>     </tr>   </tbody></table>  \n\n\n  <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>     <tr>       <td valign=\"top\" width=\"568\">         <div class=\"dp-highlighter\">           <div class=\"bar\"></div>            \n\n1.  <span><span class=\"keyword\">package</span><span> com.wikieno.observer.listener;&#160;&#160; </span></span>\n2.  <span>&#160; </span>\n3.  <span></span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">class</span><span> Sender {&#160;&#160; </span></span>\n4.  <span>&#160;&#160;&#160; </span><span class=\"comment\">//  </span><span>&#160; </span></span>\n5.  <span>&#160;&#160;&#160; SendListener sendListener;&#160;&#160; </span>\n6.  <span>&#160; </span>\n7.  <span>&#160;&#160;&#160; </span><span class=\"comment\">/** </span>&#160;</span>8.  <span><span class=\"comment\">&#160;&#160;&#160;&#160; *  </span>&#160;</span>9.  <span><span class=\"comment\">&#160;&#160;&#160;&#160; * @param l  </span>&#160;</span>10.  <span><span class=\"comment\">&#160;&#160;&#160;&#160; */</span><span>&#160; </span></span>\n11.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">void</span><span> addSendListener(SendListener l) {&#160;&#160; </span></span>\n12.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">if</span><span> (l == </span><span class=\"keyword\">null</span><span>) {&#160;&#160; </span></span>\n13.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">throw</span><span>&#160;</span><span class=\"keyword\">new</span><span> NullPointerException();&#160;&#160; </span></span>\n14.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; }&#160;&#160; </span>\n15.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">this</span><span>.sendListener = l;&#160;&#160; </span></span>\n16.  <span>&#160;&#160;&#160; }&#160;&#160; </span>\n17.  <span>&#160; </span>\n18.  <span>&#160;&#160;&#160; </span><span class=\"comment\">/** </span>&#160;</span>19.  <span><span class=\"comment\">&#160;&#160;&#160;&#160; *  </span>&#160;</span>20.  <span><span class=\"comment\">&#160;&#160;&#160;&#160; *  </span>&#160;</span>21.  <span><span class=\"comment\">&#160;&#160;&#160;&#160; * @param msg </span>&#160;</span>22.  <span><span class=\"comment\">&#160;&#160;&#160;&#160; */</span><span>&#160; </span></span>\n23.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">void</span><span> sendMsg(String msg) {&#160;&#160; </span></span>\n24.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; doSth();&#160;&#160; </span>\n25.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; sendListener.onMsgSended(msg);&#160;&#160; </span>\n26.  <span>&#160;&#160;&#160; }&#160;&#160; </span>\n27.  <span>&#160; </span>\n28.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">private</span><span>&#160;</span><span class=\"keyword\">void</span><span> doSth() {&#160;&#160; </span></span>\n29.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"comment\">// TODO Auto-generated method stubO </span><span>&#160; </span></span>\n30.  <span>&#160;&#160;&#160; }&#160;&#160; </span>\n31.  <span>}&#160;&#160; </span>         </div>       </td>     </tr>   </tbody></table>  \n\n\n  <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>     <tr>       <td valign=\"top\" width=\"568\">         <div class=\"dp-highlighter\">           <div class=\"bar\"></div>            \n\n1.  <span><span class=\"keyword\">package</span><span> com.wikieno.observer.listener;&#160;&#160; </span></span>\n2.  <span>&#160; </span>\n3.  <span></span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">class</span><span> Application {&#160;&#160; </span></span>\n4.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">static</span><span>&#160;</span><span class=\"keyword\">void</span><span> main(String[] args) {&#160;&#160; </span></span>\n5.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; Sender sender = </span><span class=\"keyword\">new</span><span> Sender();&#160;&#160; </span></span>\n6.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; sender.addSendListener(</span><span class=\"keyword\">new</span><span> SendListener() {&#160;&#160; </span></span>\n7.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"annotation\">@Override</span><span>&#160; </span></span>\n8.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">void</span><span> onMsgSended(String msg) {&#160;&#160; </span></span>\n9.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; System.out.println(</span><span class=\"string\">&quot;Msg is: &quot;</span><span> + msg);&#160;&#160; </span></span>\n10.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; }&#160;&#160; </span>\n11.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; });&#160;&#160; </span>\n12.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; sender.sendMsg(</span><span class=\"string\">&quot;Hello World&quot;</span><span>);&#160;&#160; </span></span>\n13.  <span>&#160;&#160;&#160; }&#160;&#160; </span>\n14.  <span>}&#160; </span>         </div>       </td>     </tr>   </tbody></table>  \n\n\n\njavaObserverObservableSun JDK12\n\nObserverupdateObservableObserverVectorObservableObservernotifyObservers(obj)Observer\n\n\n  <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>     <tr>       <td valign=\"top\" width=\"568\">         <div class=\"dp-highlighter\">           <div class=\"bar\"></div>            \n\n1.  <span><span class=\"keyword\">package</span><span> com.wikieno.observer;&#160;&#160; </span></span>\n2.  <span>&#160; </span>\n3.  <span></span><span class=\"keyword\">import</span><span> java.util.Observable;&#160;&#160; </span></span>\n4.  <span></span><span class=\"keyword\">import</span><span> java.util.Observer;&#160;&#160; </span></span>\n5.  <span>&#160; </span>\n6.  <span></span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">class</span><span> SendObserver </span><span class=\"keyword\">implements</span><span> Observer {&#160;&#160; </span></span>\n7.  <span>&#160; </span>\n8.  <span>&#160;&#160;&#160; </span><span class=\"comment\">/** </span>&#160;</span>9.  <span><span class=\"comment\">&#160;&#160;&#160;&#160; *  </span>&#160;</span>10.  <span><span class=\"comment\">&#160;&#160;&#160;&#160; * @param o:  </span>&#160;</span>11.  <span><span class=\"comment\">&#160;&#160;&#160;&#160; * @param arg:  </span>&#160;</span>12.  <span><span class=\"comment\">&#160;&#160;&#160;&#160; */</span><span>&#160; </span></span>\n13.  <span>&#160;&#160;&#160; </span><span class=\"annotation\">@Override</span><span>&#160; </span></span>\n14.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">void</span><span> update(Observable o, Object arg) {&#160;&#160; </span></span>\n15.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">if</span><span> (arg </span><span class=\"keyword\">instanceof</span><span> String) {&#160;&#160; </span></span>\n16.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; System.out.println(</span><span class=\"string\">&quot;Msg is: &quot;</span><span> + arg);&#160;&#160; </span></span>\n17.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; }&#160;&#160; </span>\n18.  <span>&#160;&#160;&#160; }&#160;&#160; </span>\n19.  <span>}&#160;&#160; </span>         </div>       </td>     </tr>   </tbody></table>  <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>     <tr>       <td valign=\"top\" width=\"568\">         <div class=\"dp-highlighter\">           <div class=\"bar\"></div>            \n\n1.  <span><span class=\"keyword\">package</span><span> com.wikieno.observer;&#160;&#160; </span></span>\n2.  <span>&#160; </span>\n3.  <span></span><span class=\"keyword\">import</span><span> java.util.Observable;&#160;&#160; </span></span>\n4.  <span>&#160; </span>\n5.  <span></span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">class</span><span> Sender </span><span class=\"keyword\">extends</span><span> Observable {&#160;&#160; </span></span>\n6.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">void</span><span> sendMsg(String msg) {&#160;&#160; </span></span>\n7.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; setChanged();&#160;&#160; </span>\n8.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; notifyObservers(msg);&#160;&#160; </span>\n9.  <span>&#160;&#160;&#160; }&#160;&#160; </span>\n10.  <span>}&#160;&#160; </span>         </div>       </td>     </tr>   </tbody></table>  <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>     <tr>       <td valign=\"top\" width=\"568\">         <div class=\"dp-highlighter\">           <div class=\"bar\"></div>            \n\n1.  <span><span class=\"keyword\">package</span><span> com.wikieno.observer;&#160;&#160; </span></span>\n2.  <span>&#160; </span>\n3.  <span></span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">class</span><span> Application {&#160;&#160; </span></span>\n4.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">static</span><span>&#160;</span><span class=\"keyword\">void</span><span> main(String[] args) {&#160;&#160; </span></span>\n5.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; Sender sender = </span><span class=\"keyword\">new</span><span> Sender();&#160;&#160; </span></span>\n6.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; sender.addObserver(</span><span class=\"keyword\">new</span><span> SendObserver());&#160;&#160; </span></span>\n7.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; sender.sendMsg(</span><span class=\"string\">&quot;Hello world&quot;</span><span>);&#160;&#160; </span></span>\n8.  <span>&#160;&#160;&#160; }&#160;&#160; </span>\n9.  <span>}&#160;&#160; </span>         </div>       </td>     </tr>   </tbody></table>","slug":"design-pattern-observer","published":1,"updated":"2015-12-29T13:31:03.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciirfw72k009gsv8fok68806m"},{"title":" - ","id":"213","date":"2011-12-15T16:47:04.000Z","_content":"\n**GOF**\n\n_Define an interface for creating an object, but let subclasses decide which class to instantiate. Factory Method lets a class defer instantiation to subclasses._\n\n_Factory Method_\n <!--more-->A a = new A(); B b = new B();     \n\nAB\n\nabab\n\nNoSQLNoSQLKey/Value\n\nget(key)set(key,value)redisgetsetget(String[])set(String[])\n  <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>     <tr>       <td valign=\"top\" width=\"568\">         <div class=\"dp-highlighter\">           <div class=\"bar\"></div>            \n\n1.  <span><span class=\"keyword\">package</span><span> com.wikieno.factory;&#160;&#160; </span></span>\n2.  <span>&#160; </span>\n3.  <span></span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">interface</span><span> Command {&#160;&#160; </span></span>\n4.  <span>&#160;&#160;&#160; </span><span class=\"comment\">/** </span>&#160;</span>5.  <span><span class=\"comment\">&#160;&#160;&#160;&#160; *  </span>&#160;</span>6.  <span><span class=\"comment\">&#160;&#160;&#160;&#160; * @param args  </span>&#160;</span>7.  <span><span class=\"comment\">&#160;&#160;&#160;&#160; * @return  </span>&#160;</span>8.  <span><span class=\"comment\">&#160;&#160;&#160;&#160; */</span><span>&#160; </span></span>\n9.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span> String get(String[] args);&#160;&#160; </span></span>\n10.  <span>&#160; </span>\n11.  <span>&#160;&#160;&#160; </span><span class=\"comment\">/** </span>&#160;</span>12.  <span><span class=\"comment\">&#160;&#160;&#160;&#160; *  </span>&#160;</span>13.  <span><span class=\"comment\">&#160;&#160;&#160;&#160; * @param args  </span>&#160;</span>14.  <span><span class=\"comment\">&#160;&#160;&#160;&#160; * @return -1 </span>&#160;</span>15.  <span><span class=\"comment\">&#160;&#160;&#160;&#160; */</span><span>&#160; </span></span>\n16.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">int</span><span> set(String[] args);&#160;&#160; </span></span>\n17.  <span>}&#160;&#160; </span>         </div>       </td>     </tr>   </tbody></table>  \n\nHashCommandSimpleCommand\n  <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>     <tr>       <td valign=\"top\" width=\"568\">         <div class=\"dp-highlighter\">           <div class=\"bar\"></div>            \n\n1.  <span><span class=\"keyword\">package</span><span> com.wikieno.factory;&#160;&#160; </span></span>\n2.  <span>&#160; </span>\n3.  <span></span><span class=\"comment\">/** </span>&#160;</span>4.  <span><span class=\"comment\">*&#160; </span>&#160;</span>5.  <span><span class=\"comment\">* RedisHash </span>&#160;</span>6.  <span><span class=\"comment\">*&#160; </span>&#160;</span>7.  <span><span class=\"comment\">* @author  Wikie </span>&#160;</span>8.  <span><span class=\"comment\">* @date 2011-12-15 </span>&#160;</span>9.  <span><span class=\"comment\">*/</span><span>&#160; </span></span>\n10.  <span></span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">class</span><span> HashCommand </span><span class=\"keyword\">implements</span><span> Command {&#160;&#160; </span></span>\n11.  <span>&#160; </span>\n12.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">private</span><span>&#160;</span><span class=\"keyword\">static</span><span> String KEY = </span><span class=\"string\">&quot;default_key&quot;</span><span>;&#160;&#160; </span></span>\n13.  <span>&#160; </span>\n14.  <span>&#160;&#160;&#160; </span><span class=\"annotation\">@Override</span><span>&#160; </span></span>\n15.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span> String get(String[] args) {&#160;&#160; </span></span>\n16.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; String key, field, value = </span><span class=\"keyword\">null</span><span>;&#160;&#160; </span></span>\n17.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">if</span><span> (</span><span class=\"number\">2</span><span> == args.length) {&#160;&#160; </span></span>\n18.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; key = args[</span><span class=\"number\">0</span><span>];&#160;&#160; </span></span>\n19.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; field = args[</span><span class=\"number\">1</span><span>];&#160;&#160; </span></span>\n20.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; } </span><span class=\"keyword\">else</span><span>&#160;</span><span class=\"keyword\">if</span><span> (</span><span class=\"number\">1</span><span> == args.length) {&#160;&#160; </span></span>\n21.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; key = KEY;&#160;&#160; </span>\n22.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; field = args[</span><span class=\"number\">0</span><span>];&#160;&#160; </span></span>\n23.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; } </span><span class=\"keyword\">else</span><span> {&#160;&#160; </span></span>\n24.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">throw</span><span>&#160;</span><span class=\"keyword\">new</span><span> IllegalArgumentException(</span><span class=\"string\">&quot;&quot;</span><span>);&#160;&#160; </span></span>\n25.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; }&#160;&#160; </span>\n26.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"comment\">// client </span><span>&#160; </span></span>\n27.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"comment\">// sample: value = conn.get.....; </span><span>&#160; </span></span>\n28.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">return</span><span> value;&#160;&#160; </span></span>\n29.  <span>&#160;&#160;&#160; }&#160;&#160; </span>\n30.  <span>&#160; </span>\n31.  <span>&#160;&#160;&#160; </span><span class=\"annotation\">@Override</span><span>&#160; </span></span>\n32.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">int</span><span> set(String[] args) {&#160;&#160; </span></span>\n33.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; String key, field, value;&#160;&#160; </span>\n34.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">int</span><span> result = -</span><span class=\"number\">1</span><span>;&#160;&#160; </span></span>\n35.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">if</span><span> (</span><span class=\"number\">3</span><span> == args.length) {&#160;&#160; </span></span>\n36.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; key = args[</span><span class=\"number\">0</span><span>];&#160;&#160; </span></span>\n37.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; field = args[</span><span class=\"number\">1</span><span>];&#160;&#160; </span></span>\n38.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; value = args[</span><span class=\"number\">2</span><span>];&#160;&#160; </span></span>\n39.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; } </span><span class=\"keyword\">else</span><span>&#160;</span><span class=\"keyword\">if</span><span> (</span><span class=\"number\">2</span><span> == args.length) {&#160;&#160; </span></span>\n40.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; key = KEY;&#160;&#160; </span>\n41.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; field = args[</span><span class=\"number\">0</span><span>];&#160;&#160; </span></span>\n42.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; value = args[</span><span class=\"number\">1</span><span>];&#160;&#160; </span></span>\n43.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; } </span><span class=\"keyword\">else</span><span> {&#160;&#160; </span></span>\n44.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">throw</span><span>&#160;</span><span class=\"keyword\">new</span><span> IllegalArgumentException(</span><span class=\"string\">&quot;&quot;</span><span>);&#160;&#160; </span></span>\n45.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; }&#160;&#160; </span>\n46.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"comment\">// client </span><span>&#160; </span></span>\n47.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"comment\">// sample: result = conn.set.....; </span><span>&#160; </span></span>\n48.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">return</span><span> result;&#160;&#160; </span></span>\n49.  <span>&#160;&#160;&#160; }&#160;&#160; </span>\n50.  <span>}&#160;&#160; </span>         </div>       </td>     </tr>   </tbody></table>  <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>     <tr>       <td valign=\"top\" width=\"568\">         <div class=\"dp-highlighter\">           <div class=\"bar\"></div>            \n\n1.  <span><span class=\"keyword\">package</span><span> com.wikieno.factory;&#160;&#160; </span></span>\n2.  <span>&#160; </span>\n3.  <span></span><span class=\"comment\">/** </span>&#160;</span>4.  <span><span class=\"comment\">*&#160; </span>&#160;</span>5.  <span><span class=\"comment\">* RedisKey/Value </span>&#160;</span>6.  <span><span class=\"comment\">*&#160; </span>&#160;</span>7.  <span><span class=\"comment\">*&#160; </span>&#160;</span>8.  <span><span class=\"comment\">* @author  Wikie </span>&#160;</span>9.  <span><span class=\"comment\">* @date 2011-12-15 </span>&#160;</span>10.  <span><span class=\"comment\">*/</span><span>&#160; </span></span>\n11.  <span></span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">class</span><span> SimpleCommand </span><span class=\"keyword\">implements</span><span> Command {&#160;&#160; </span></span>\n12.  <span>&#160; </span>\n13.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span> String get(String[] args) {&#160;&#160; </span></span>\n14.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; String key, value = </span><span class=\"keyword\">null</span><span>;&#160;&#160; </span></span>\n15.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">if</span><span> (</span><span class=\"number\">1</span><span> == args.length) {&#160;&#160; </span></span>\n16.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; key = args[</span><span class=\"number\">0</span><span>];&#160;&#160; </span></span>\n17.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; } </span><span class=\"keyword\">else</span><span> {&#160;&#160; </span></span>\n18.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">throw</span><span>&#160;</span><span class=\"keyword\">new</span><span> IllegalArgumentException(</span><span class=\"string\">&quot;&quot;</span><span>);&#160;&#160; </span></span>\n19.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; }&#160;&#160; </span>\n20.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"comment\">// client </span><span>&#160; </span></span>\n21.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"comment\">// sample: value = conn.get.....; </span><span>&#160; </span></span>\n22.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">return</span><span> value;&#160;&#160; </span></span>\n23.  <span>&#160;&#160;&#160; }&#160;&#160; </span>\n24.  <span>&#160; </span>\n25.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">int</span><span> set(String[] args) {&#160;&#160; </span></span>\n26.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; String key, value;&#160;&#160; </span>\n27.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">int</span><span> result = -</span><span class=\"number\">1</span><span>;&#160;&#160; </span></span>\n28.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">if</span><span> (</span><span class=\"number\">2</span><span> == args.length) {&#160;&#160; </span></span>\n29.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; key = args[</span><span class=\"number\">0</span><span>];&#160;&#160; </span></span>\n30.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; value = args[</span><span class=\"number\">1</span><span>];&#160;&#160; </span></span>\n31.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; } </span><span class=\"keyword\">else</span><span> {&#160;&#160; </span></span>\n32.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">throw</span><span>&#160;</span><span class=\"keyword\">new</span><span> IllegalArgumentException(</span><span class=\"string\">&quot;&quot;</span><span>);&#160;&#160; </span></span>\n33.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; }&#160;&#160; </span>\n34.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"comment\">// client </span><span>&#160; </span></span>\n35.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"comment\">// sample: result = conn.set.....; </span><span>&#160; </span></span>\n36.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">return</span><span> result;&#160;&#160; </span></span>\n37.  <span>&#160;&#160;&#160; }&#160;&#160; </span>\n38.  <span>}&#160;&#160; </span>         </div>       </td>     </tr>   </tbody></table>  \n\ncreate\n  <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>     <tr>       <td valign=\"top\" width=\"568\">         <div class=\"dp-highlighter\">           <div class=\"bar\"></div>            \n\n1.  <span><span class=\"keyword\">package</span><span> com.wikieno.factory;&#160;&#160; </span></span>\n2.  <span>&#160; </span>\n3.  <span></span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">class</span><span> CommandFactory {&#160;&#160; </span></span>\n4.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">static</span><span> Command create(String className) {&#160;&#160; </span></span>\n5.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; Command cmd = </span><span class=\"keyword\">null</span><span>;&#160;&#160; </span></span>\n6.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">try</span><span> {&#160;&#160; </span></span>\n7.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; cmd = (Command) Class.forName(className).newInstance();&#160;&#160; </span>\n8.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; } </span><span class=\"keyword\">catch</span><span> (InstantiationException e) {&#160;&#160; </span></span>\n9.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"comment\">// TOOD  </span><span>&#160; </span></span>\n10.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; } </span><span class=\"keyword\">catch</span><span> (IllegalAccessException e) {&#160;&#160; </span></span>\n11.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"comment\">// TOOD  </span><span>&#160; </span></span>\n12.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; } </span><span class=\"keyword\">catch</span><span> (ClassNotFoundException e) {&#160;&#160; </span></span>\n13.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"comment\">// TOOD  </span><span>&#160; </span></span>\n14.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; }&#160;&#160; </span>\n15.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">return</span><span> cmd;&#160;&#160; </span></span>\n16.  <span>&#160;&#160;&#160; }&#160;&#160; </span>\n17.  <span>}&#160;&#160; </span>         </div>       </td>     </tr>   </tbody></table>  \n\nUtils\n  <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>     <tr>       <td valign=\"top\" width=\"568\">         <div class=\"bar\"></div>          <div class=\"dp-highlighter\">           \n\n1.  <span><span class=\"keyword\">package</span><span> com.wikieno.factory;&#160;&#160; </span></span>\n2.  <span>&#160; </span>\n3.  <span></span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">class</span><span> Application {&#160;&#160; </span></span>\n4.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">static</span><span>&#160;</span><span class=\"keyword\">void</span><span> main(String[] args) {&#160;&#160; </span></span>\n5.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; String[] hGetArgs = {</span><span class=\"string\">&quot;key&quot;</span><span>, </span><span class=\"string\">&quot;field&quot;</span><span>};&#160;&#160; </span></span>\n6.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; String[] hSetArgs = {</span><span class=\"string\">&quot;key&quot;</span><span>, </span><span class=\"string\">&quot;field&quot;</span><span>, </span><span class=\"string\">&quot;value&quot;</span><span>};&#160;&#160; </span></span>\n7.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; String[] sGetArgs = {</span><span class=\"string\">&quot;key&quot;</span><span>};&#160;&#160; </span></span>\n8.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; String[] sSetArgs = {</span><span class=\"string\">&quot;key&quot;</span><span>, </span><span class=\"string\">&quot;value&quot;</span><span>};&#160;&#160; </span></span>\n9.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; Command cmd = CommandFactory.create(Utils.CLASS_HASH);&#160;&#160; </span>\n10.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span>\n11.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; cmd.set(hSetArgs);&#160;&#160; </span>\n12.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; cmd.get(hGetArgs);&#160;&#160; </span>\n13.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span>\n14.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; cmd = CommandFactory.create(Utils.CLASS_SIMPLE);&#160;&#160; </span>\n15.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; cmd.set(sSetArgs);&#160;&#160; </span>\n16.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; cmd.get(sGetArgs);&#160;&#160; </span>\n17.  <span>&#160;&#160;&#160; }&#160;&#160; </span>\n18.  <span>}&#160;&#160; </span>         </div>       </td>     </tr>   </tbody></table>","source":"_posts/design-pattern-factory.md","raw":"title:  - \ntags:\n  - \nid: 213\ncategories:\n  - \ndate: 2011-12-16 00:47:04\n---\n\n**GOF**\n\n_Define an interface for creating an object, but let subclasses decide which class to instantiate. Factory Method lets a class defer instantiation to subclasses._\n\n_Factory Method_\n <!--more-->A a = new A(); B b = new B();     \n\nAB\n\nabab\n\nNoSQLNoSQLKey/Value\n\nget(key)set(key,value)redisgetsetget(String[])set(String[])\n  <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>     <tr>       <td valign=\"top\" width=\"568\">         <div class=\"dp-highlighter\">           <div class=\"bar\"></div>            \n\n1.  <span><span class=\"keyword\">package</span><span> com.wikieno.factory;&#160;&#160; </span></span>\n2.  <span>&#160; </span>\n3.  <span></span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">interface</span><span> Command {&#160;&#160; </span></span>\n4.  <span>&#160;&#160;&#160; </span><span class=\"comment\">/** </span>&#160;</span>5.  <span><span class=\"comment\">&#160;&#160;&#160;&#160; *  </span>&#160;</span>6.  <span><span class=\"comment\">&#160;&#160;&#160;&#160; * @param args  </span>&#160;</span>7.  <span><span class=\"comment\">&#160;&#160;&#160;&#160; * @return  </span>&#160;</span>8.  <span><span class=\"comment\">&#160;&#160;&#160;&#160; */</span><span>&#160; </span></span>\n9.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span> String get(String[] args);&#160;&#160; </span></span>\n10.  <span>&#160; </span>\n11.  <span>&#160;&#160;&#160; </span><span class=\"comment\">/** </span>&#160;</span>12.  <span><span class=\"comment\">&#160;&#160;&#160;&#160; *  </span>&#160;</span>13.  <span><span class=\"comment\">&#160;&#160;&#160;&#160; * @param args  </span>&#160;</span>14.  <span><span class=\"comment\">&#160;&#160;&#160;&#160; * @return -1 </span>&#160;</span>15.  <span><span class=\"comment\">&#160;&#160;&#160;&#160; */</span><span>&#160; </span></span>\n16.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">int</span><span> set(String[] args);&#160;&#160; </span></span>\n17.  <span>}&#160;&#160; </span>         </div>       </td>     </tr>   </tbody></table>  \n\nHashCommandSimpleCommand\n  <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>     <tr>       <td valign=\"top\" width=\"568\">         <div class=\"dp-highlighter\">           <div class=\"bar\"></div>            \n\n1.  <span><span class=\"keyword\">package</span><span> com.wikieno.factory;&#160;&#160; </span></span>\n2.  <span>&#160; </span>\n3.  <span></span><span class=\"comment\">/** </span>&#160;</span>4.  <span><span class=\"comment\">*&#160; </span>&#160;</span>5.  <span><span class=\"comment\">* RedisHash </span>&#160;</span>6.  <span><span class=\"comment\">*&#160; </span>&#160;</span>7.  <span><span class=\"comment\">* @author  Wikie </span>&#160;</span>8.  <span><span class=\"comment\">* @date 2011-12-15 </span>&#160;</span>9.  <span><span class=\"comment\">*/</span><span>&#160; </span></span>\n10.  <span></span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">class</span><span> HashCommand </span><span class=\"keyword\">implements</span><span> Command {&#160;&#160; </span></span>\n11.  <span>&#160; </span>\n12.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">private</span><span>&#160;</span><span class=\"keyword\">static</span><span> String KEY = </span><span class=\"string\">&quot;default_key&quot;</span><span>;&#160;&#160; </span></span>\n13.  <span>&#160; </span>\n14.  <span>&#160;&#160;&#160; </span><span class=\"annotation\">@Override</span><span>&#160; </span></span>\n15.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span> String get(String[] args) {&#160;&#160; </span></span>\n16.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; String key, field, value = </span><span class=\"keyword\">null</span><span>;&#160;&#160; </span></span>\n17.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">if</span><span> (</span><span class=\"number\">2</span><span> == args.length) {&#160;&#160; </span></span>\n18.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; key = args[</span><span class=\"number\">0</span><span>];&#160;&#160; </span></span>\n19.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; field = args[</span><span class=\"number\">1</span><span>];&#160;&#160; </span></span>\n20.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; } </span><span class=\"keyword\">else</span><span>&#160;</span><span class=\"keyword\">if</span><span> (</span><span class=\"number\">1</span><span> == args.length) {&#160;&#160; </span></span>\n21.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; key = KEY;&#160;&#160; </span>\n22.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; field = args[</span><span class=\"number\">0</span><span>];&#160;&#160; </span></span>\n23.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; } </span><span class=\"keyword\">else</span><span> {&#160;&#160; </span></span>\n24.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">throw</span><span>&#160;</span><span class=\"keyword\">new</span><span> IllegalArgumentException(</span><span class=\"string\">&quot;&quot;</span><span>);&#160;&#160; </span></span>\n25.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; }&#160;&#160; </span>\n26.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"comment\">// client </span><span>&#160; </span></span>\n27.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"comment\">// sample: value = conn.get.....; </span><span>&#160; </span></span>\n28.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">return</span><span> value;&#160;&#160; </span></span>\n29.  <span>&#160;&#160;&#160; }&#160;&#160; </span>\n30.  <span>&#160; </span>\n31.  <span>&#160;&#160;&#160; </span><span class=\"annotation\">@Override</span><span>&#160; </span></span>\n32.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">int</span><span> set(String[] args) {&#160;&#160; </span></span>\n33.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; String key, field, value;&#160;&#160; </span>\n34.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">int</span><span> result = -</span><span class=\"number\">1</span><span>;&#160;&#160; </span></span>\n35.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">if</span><span> (</span><span class=\"number\">3</span><span> == args.length) {&#160;&#160; </span></span>\n36.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; key = args[</span><span class=\"number\">0</span><span>];&#160;&#160; </span></span>\n37.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; field = args[</span><span class=\"number\">1</span><span>];&#160;&#160; </span></span>\n38.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; value = args[</span><span class=\"number\">2</span><span>];&#160;&#160; </span></span>\n39.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; } </span><span class=\"keyword\">else</span><span>&#160;</span><span class=\"keyword\">if</span><span> (</span><span class=\"number\">2</span><span> == args.length) {&#160;&#160; </span></span>\n40.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; key = KEY;&#160;&#160; </span>\n41.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; field = args[</span><span class=\"number\">0</span><span>];&#160;&#160; </span></span>\n42.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; value = args[</span><span class=\"number\">1</span><span>];&#160;&#160; </span></span>\n43.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; } </span><span class=\"keyword\">else</span><span> {&#160;&#160; </span></span>\n44.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">throw</span><span>&#160;</span><span class=\"keyword\">new</span><span> IllegalArgumentException(</span><span class=\"string\">&quot;&quot;</span><span>);&#160;&#160; </span></span>\n45.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; }&#160;&#160; </span>\n46.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"comment\">// client </span><span>&#160; </span></span>\n47.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"comment\">// sample: result = conn.set.....; </span><span>&#160; </span></span>\n48.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">return</span><span> result;&#160;&#160; </span></span>\n49.  <span>&#160;&#160;&#160; }&#160;&#160; </span>\n50.  <span>}&#160;&#160; </span>         </div>       </td>     </tr>   </tbody></table>  <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>     <tr>       <td valign=\"top\" width=\"568\">         <div class=\"dp-highlighter\">           <div class=\"bar\"></div>            \n\n1.  <span><span class=\"keyword\">package</span><span> com.wikieno.factory;&#160;&#160; </span></span>\n2.  <span>&#160; </span>\n3.  <span></span><span class=\"comment\">/** </span>&#160;</span>4.  <span><span class=\"comment\">*&#160; </span>&#160;</span>5.  <span><span class=\"comment\">* RedisKey/Value </span>&#160;</span>6.  <span><span class=\"comment\">*&#160; </span>&#160;</span>7.  <span><span class=\"comment\">*&#160; </span>&#160;</span>8.  <span><span class=\"comment\">* @author  Wikie </span>&#160;</span>9.  <span><span class=\"comment\">* @date 2011-12-15 </span>&#160;</span>10.  <span><span class=\"comment\">*/</span><span>&#160; </span></span>\n11.  <span></span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">class</span><span> SimpleCommand </span><span class=\"keyword\">implements</span><span> Command {&#160;&#160; </span></span>\n12.  <span>&#160; </span>\n13.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span> String get(String[] args) {&#160;&#160; </span></span>\n14.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; String key, value = </span><span class=\"keyword\">null</span><span>;&#160;&#160; </span></span>\n15.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">if</span><span> (</span><span class=\"number\">1</span><span> == args.length) {&#160;&#160; </span></span>\n16.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; key = args[</span><span class=\"number\">0</span><span>];&#160;&#160; </span></span>\n17.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; } </span><span class=\"keyword\">else</span><span> {&#160;&#160; </span></span>\n18.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">throw</span><span>&#160;</span><span class=\"keyword\">new</span><span> IllegalArgumentException(</span><span class=\"string\">&quot;&quot;</span><span>);&#160;&#160; </span></span>\n19.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; }&#160;&#160; </span>\n20.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"comment\">// client </span><span>&#160; </span></span>\n21.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"comment\">// sample: value = conn.get.....; </span><span>&#160; </span></span>\n22.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">return</span><span> value;&#160;&#160; </span></span>\n23.  <span>&#160;&#160;&#160; }&#160;&#160; </span>\n24.  <span>&#160; </span>\n25.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">int</span><span> set(String[] args) {&#160;&#160; </span></span>\n26.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; String key, value;&#160;&#160; </span>\n27.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">int</span><span> result = -</span><span class=\"number\">1</span><span>;&#160;&#160; </span></span>\n28.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">if</span><span> (</span><span class=\"number\">2</span><span> == args.length) {&#160;&#160; </span></span>\n29.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; key = args[</span><span class=\"number\">0</span><span>];&#160;&#160; </span></span>\n30.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; value = args[</span><span class=\"number\">1</span><span>];&#160;&#160; </span></span>\n31.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; } </span><span class=\"keyword\">else</span><span> {&#160;&#160; </span></span>\n32.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">throw</span><span>&#160;</span><span class=\"keyword\">new</span><span> IllegalArgumentException(</span><span class=\"string\">&quot;&quot;</span><span>);&#160;&#160; </span></span>\n33.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; }&#160;&#160; </span>\n34.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"comment\">// client </span><span>&#160; </span></span>\n35.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"comment\">// sample: result = conn.set.....; </span><span>&#160; </span></span>\n36.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">return</span><span> result;&#160;&#160; </span></span>\n37.  <span>&#160;&#160;&#160; }&#160;&#160; </span>\n38.  <span>}&#160;&#160; </span>         </div>       </td>     </tr>   </tbody></table>  \n\ncreate\n  <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>     <tr>       <td valign=\"top\" width=\"568\">         <div class=\"dp-highlighter\">           <div class=\"bar\"></div>            \n\n1.  <span><span class=\"keyword\">package</span><span> com.wikieno.factory;&#160;&#160; </span></span>\n2.  <span>&#160; </span>\n3.  <span></span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">class</span><span> CommandFactory {&#160;&#160; </span></span>\n4.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">static</span><span> Command create(String className) {&#160;&#160; </span></span>\n5.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; Command cmd = </span><span class=\"keyword\">null</span><span>;&#160;&#160; </span></span>\n6.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">try</span><span> {&#160;&#160; </span></span>\n7.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; cmd = (Command) Class.forName(className).newInstance();&#160;&#160; </span>\n8.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; } </span><span class=\"keyword\">catch</span><span> (InstantiationException e) {&#160;&#160; </span></span>\n9.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"comment\">// TOOD  </span><span>&#160; </span></span>\n10.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; } </span><span class=\"keyword\">catch</span><span> (IllegalAccessException e) {&#160;&#160; </span></span>\n11.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"comment\">// TOOD  </span><span>&#160; </span></span>\n12.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; } </span><span class=\"keyword\">catch</span><span> (ClassNotFoundException e) {&#160;&#160; </span></span>\n13.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"comment\">// TOOD  </span><span>&#160; </span></span>\n14.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; }&#160;&#160; </span>\n15.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">return</span><span> cmd;&#160;&#160; </span></span>\n16.  <span>&#160;&#160;&#160; }&#160;&#160; </span>\n17.  <span>}&#160;&#160; </span>         </div>       </td>     </tr>   </tbody></table>  \n\nUtils\n  <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>     <tr>       <td valign=\"top\" width=\"568\">         <div class=\"bar\"></div>          <div class=\"dp-highlighter\">           \n\n1.  <span><span class=\"keyword\">package</span><span> com.wikieno.factory;&#160;&#160; </span></span>\n2.  <span>&#160; </span>\n3.  <span></span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">class</span><span> Application {&#160;&#160; </span></span>\n4.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">static</span><span>&#160;</span><span class=\"keyword\">void</span><span> main(String[] args) {&#160;&#160; </span></span>\n5.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; String[] hGetArgs = {</span><span class=\"string\">&quot;key&quot;</span><span>, </span><span class=\"string\">&quot;field&quot;</span><span>};&#160;&#160; </span></span>\n6.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; String[] hSetArgs = {</span><span class=\"string\">&quot;key&quot;</span><span>, </span><span class=\"string\">&quot;field&quot;</span><span>, </span><span class=\"string\">&quot;value&quot;</span><span>};&#160;&#160; </span></span>\n7.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; String[] sGetArgs = {</span><span class=\"string\">&quot;key&quot;</span><span>};&#160;&#160; </span></span>\n8.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; String[] sSetArgs = {</span><span class=\"string\">&quot;key&quot;</span><span>, </span><span class=\"string\">&quot;value&quot;</span><span>};&#160;&#160; </span></span>\n9.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; Command cmd = CommandFactory.create(Utils.CLASS_HASH);&#160;&#160; </span>\n10.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span>\n11.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; cmd.set(hSetArgs);&#160;&#160; </span>\n12.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; cmd.get(hGetArgs);&#160;&#160; </span>\n13.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span>\n14.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; cmd = CommandFactory.create(Utils.CLASS_SIMPLE);&#160;&#160; </span>\n15.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; cmd.set(sSetArgs);&#160;&#160; </span>\n16.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; cmd.get(sGetArgs);&#160;&#160; </span>\n17.  <span>&#160;&#160;&#160; }&#160;&#160; </span>\n18.  <span>}&#160;&#160; </span>         </div>       </td>     </tr>   </tbody></table>","slug":"design-pattern-factory","published":1,"updated":"2015-12-29T13:31:03.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciirfw72l009jsv8fphrpj3v5"},{"title":" - ","id":"215","date":"2011-12-15T16:58:38.000Z","_content":"\n**GOF**\n\n_Provide an interface for creating familiesof related or dependent objects withoutspecifying their concrete classes._\n\n__\n <!--more-->  \n\n\n\n\n\n\n\ngetsetincrbyCommand\n\nIncrable\n  <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>     <tr>       <td valign=\"top\" width=\"568\">         <div class=\"dp-highlighter\">           <div class=\"bar\"></div>            \n\n1.  <span><span class=\"keyword\">package</span><span> com.wikieno.abstractfactory;&#160;&#160; </span></span>\n2.  <span>&#160; </span>\n3.  <span></span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">interface</span><span> Incrable {&#160;&#160; </span></span>\n4.  <span>&#160;&#160;&#160; </span><span class=\"comment\">/** </span>&#160;</span>5.  <span><span class=\"comment\">&#160;&#160;&#160;&#160; *  </span>&#160;</span>6.  <span><span class=\"comment\">&#160;&#160;&#160;&#160; * @param args  </span>&#160;</span>7.  <span><span class=\"comment\">&#160;&#160;&#160;&#160; * @param step  </span>&#160;</span>8.  <span><span class=\"comment\">&#160;&#160;&#160;&#160; * @return  </span>&#160;</span>9.  <span><span class=\"comment\">&#160;&#160;&#160;&#160; */</span><span>&#160; </span></span>\n10.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">int</span><span> incrby(String[] args, </span><span class=\"keyword\">int</span><span> step);&#160;&#160; </span></span>\n11.  <span>}&#160;&#160; </span>         </div>       </td>     </tr>   </tbody></table>  \n\nHashIncrableSimpleIncrable\n  <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>     <tr>       <td valign=\"top\" width=\"568\">         <div class=\"dp-highlighter\">           <div class=\"bar\"></div>            \n\n1.  <span><span class=\"keyword\">package</span><span> com.wikieno.abstractfactory;&#160;&#160; </span></span>\n2.  <span>&#160; </span>\n3.  <span></span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">class</span><span> HashIncrable </span><span class=\"keyword\">implements</span><span> Incrable {&#160;&#160; </span></span>\n4.  <span>&#160;&#160;&#160; </span><span class=\"annotation\">@Override</span><span>&#160; </span></span>\n5.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">int</span><span> incrby(String[] args, </span><span class=\"keyword\">int</span><span> step) {&#160;&#160; </span></span>\n6.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; String key, field;&#160;&#160; </span>\n7.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">int</span><span> result = -</span><span class=\"number\">1</span><span>;&#160;&#160; </span></span>\n8.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">if</span><span> (</span><span class=\"number\">2</span><span> == args.length) {&#160;&#160; </span></span>\n9.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; key = args[</span><span class=\"number\">0</span><span>];&#160;&#160; </span></span>\n10.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; field = args[</span><span class=\"number\">1</span><span>];&#160;&#160; </span></span>\n11.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; } </span><span class=\"keyword\">else</span><span> {&#160;&#160; </span></span>\n12.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">throw</span><span>&#160;</span><span class=\"keyword\">new</span><span> IllegalArgumentException(</span><span class=\"string\">&quot;&quot;</span><span>);&#160;&#160; </span></span>\n13.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; }&#160;&#160; </span>\n14.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"comment\">// client </span><span>&#160; </span></span>\n15.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"comment\">// sample: result = conn.incrby.....; </span><span>&#160; </span></span>\n16.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">return</span><span> result;&#160;&#160; </span></span>\n17.  <span>&#160;&#160;&#160; }&#160;&#160; </span>\n18.  <span>}&#160;&#160; </span>         </div>       </td>     </tr>      <tr>       <td valign=\"top\" width=\"568\">         <div class=\"dp-highlighter\">           <div class=\"bar\"></div>            \n\n1.  <span><span class=\"keyword\">package</span><span> com.wikieno.abstractfactory;&#160;&#160; </span></span>\n2.  <span>&#160; </span>\n3.  <span></span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">class</span><span> SimpleIncrable </span><span class=\"keyword\">implements</span><span> Incrable {&#160;&#160; </span></span>\n4.  <span>&#160;&#160;&#160; </span><span class=\"annotation\">@Override</span><span>&#160; </span></span>\n5.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">int</span><span> incrby(String[] args, </span><span class=\"keyword\">int</span><span> step) {&#160;&#160; </span></span>\n6.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; String key;&#160;&#160; </span>\n7.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">int</span><span> result = -</span><span class=\"number\">1</span><span>;&#160;&#160; </span></span>\n8.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">if</span><span> (</span><span class=\"number\">1</span><span> == args.length) {&#160;&#160; </span></span>\n9.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; key = args[</span><span class=\"number\">0</span><span>];&#160;&#160; </span></span>\n10.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; } </span><span class=\"keyword\">else</span><span> {&#160;&#160; </span></span>\n11.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">throw</span><span>&#160;</span><span class=\"keyword\">new</span><span> IllegalArgumentException(</span><span class=\"string\">&quot;&quot;</span><span>);&#160;&#160; </span></span>\n12.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; }&#160;&#160; </span>\n13.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"comment\">// client </span><span>&#160; </span></span>\n14.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"comment\">// sample: result = conn.incrby.....; </span><span>&#160; </span></span>\n15.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">return</span><span> result;&#160;&#160; </span></span>\n16.  <span>&#160;&#160;&#160; }&#160;&#160; </span>\n17.  <span>}&#160;&#160; </span>         </div>       </td>     </tr>   </tbody></table>  \n\nAbstactFactory\n  <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>     <tr>       <td valign=\"top\" width=\"568\">         <div class=\"dp-highlighter\">           <div class=\"bar\"></div>            \n\n1.  <span><span class=\"keyword\">package</span><span> com.wikieno.abstractfactory;&#160;&#160; </span></span>\n2.  <span>&#160; </span>\n3.  <span></span><span class=\"comment\">/** </span>&#160;</span>4.  <span><span class=\"comment\">*&#160; </span>&#160;</span>5.  <span><span class=\"comment\">*  </span>&#160;</span>6.  <span><span class=\"comment\">*&#160; </span>&#160;</span>7.  <span><span class=\"comment\">* @author  Wikie </span>&#160;</span>8.  <span><span class=\"comment\">* @date 2011-12-15 </span>&#160;</span>9.  <span><span class=\"comment\">*/</span><span>&#160; </span></span>\n10.  <span></span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">abstract</span><span>&#160;</span><span class=\"keyword\">class</span><span> AbstractFactory {&#160;&#160; </span></span>\n11.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">abstract</span><span> Command createCmd();&#160;&#160; </span></span>\n12.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">abstract</span><span> Incrable createIncrable();&#160;&#160; </span></span>\n13.  <span>}&#160;&#160; </span>         </div>       </td>     </tr>   </tbody></table>  \n\nAbstractFactory\n  <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>     <tr>       <td valign=\"top\" width=\"568\">         <div class=\"dp-highlighter\">           <div class=\"bar\"></div>            \n\n1.  <span><span class=\"keyword\">package</span><span> com.wikieno.abstractfactory;&#160;&#160; </span></span>\n2.  <span>&#160; </span>\n3.  <span></span><span class=\"comment\">/** </span>&#160;</span>4.  <span><span class=\"comment\">*&#160; </span>&#160;</span>5.  <span><span class=\"comment\">* HashHash </span>&#160;</span>6.  <span><span class=\"comment\">*&#160; </span>&#160;</span>7.  <span><span class=\"comment\">* @author  Wikie </span>&#160;</span>8.  <span><span class=\"comment\">* @date 2011-12-15 </span>&#160;</span>9.  <span><span class=\"comment\">*/</span><span>&#160; </span></span>\n10.  <span></span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">class</span><span> HashFactory </span><span class=\"keyword\">extends</span><span> AbstractFactory {&#160;&#160; </span></span>\n11.  <span>&#160;&#160;&#160; </span><span class=\"annotation\">@Override</span><span>&#160; </span></span>\n12.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span> Command createCmd() {&#160;&#160; </span></span>\n13.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">return</span><span>&#160;</span><span class=\"keyword\">new</span><span> HashCommand();&#160;&#160; </span></span>\n14.  <span>&#160;&#160;&#160; }&#160;&#160; </span>\n15.  <span>&#160;&#160;&#160; </span><span class=\"annotation\">@Override</span><span>&#160; </span></span>\n16.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span> Incrable createIncrable() {&#160;&#160; </span></span>\n17.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">return</span><span>&#160;</span><span class=\"keyword\">new</span><span> HashIncrable();&#160;&#160; </span></span>\n18.  <span>&#160;&#160;&#160; }&#160;&#160; </span>\n19.  <span>}&#160;&#160; </span>         </div>       </td>     </tr>   </tbody></table>  <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>     <tr>       <td valign=\"top\" width=\"568\">         <div class=\"dp-highlighter\">           <div class=\"bar\"></div>            \n\n1.  <span><span class=\"keyword\">package</span><span> com.wikieno.abstractfactory;&#160;&#160; </span></span>\n2.  <span>&#160; </span>\n3.  <span></span><span class=\"comment\">/** </span>&#160;</span>4.  <span><span class=\"comment\">*&#160; </span>&#160;</span>5.  <span><span class=\"comment\">* SimpleSimple </span>&#160;</span>6.  <span><span class=\"comment\">*&#160; </span>&#160;</span>7.  <span><span class=\"comment\">* @author  Wikie </span>&#160;</span>8.  <span><span class=\"comment\">* @date 2011-12-15 </span>&#160;</span>9.  <span><span class=\"comment\">*/</span><span>&#160; </span></span>\n10.  <span></span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">class</span><span> SimpleFactory </span><span class=\"keyword\">extends</span><span> AbstractFactory {&#160;&#160; </span></span>\n11.  <span>&#160;&#160;&#160; </span><span class=\"annotation\">@Override</span><span>&#160; </span></span>\n12.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span> Command createCmd() {&#160;&#160; </span></span>\n13.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">return</span><span>&#160;</span><span class=\"keyword\">new</span><span> SimpleCommand();&#160;&#160; </span></span>\n14.  <span>&#160;&#160;&#160; }&#160;&#160; </span>\n15.  <span>&#160;&#160;&#160; </span><span class=\"annotation\">@Override</span><span>&#160; </span></span>\n16.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span> Incrable createIncrable() {&#160;&#160; </span></span>\n17.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">return</span><span>&#160;</span><span class=\"keyword\">new</span><span> SimpleIncrable();&#160;&#160; </span></span>\n18.  <span>&#160;&#160;&#160; }&#160;&#160; </span>\n19.  <span>}&#160;&#160; </span>         </div>       </td>     </tr>   </tbody></table>  \n\n\n  <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>     <tr>       <td valign=\"top\" width=\"568\">         <div class=\"dp-highlighter\">           <div class=\"bar\"></div>            \n\n1.  <span><span class=\"keyword\">package</span><span> com.wikieno.abstractfactory;&#160;&#160; </span></span>\n2.  <span>&#160; </span>\n3.  <span></span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">class</span><span> Application {&#160;&#160; </span></span>\n4.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">static</span><span>&#160;</span><span class=\"keyword\">void</span><span> main(String[] args) {&#160;&#160; </span></span>\n5.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; AbstractFactory factory = </span><span class=\"keyword\">new</span><span> HashFactory();&#160;&#160; </span></span>\n6.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; Command cmd = factory.createCmd();&#160;&#160; </span>\n7.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; Incrable incrable = factory.createIncrable();&#160;&#160; </span>\n8.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"comment\">// cmd.get(args); </span><span>&#160; </span></span>\n9.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"comment\">// cmd.set(args); </span><span>&#160; </span></span>\n10.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"comment\">// incrable.incrby(args, step); </span><span>&#160; </span></span>\n11.  <span>&#160; </span>\n12.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; factory = </span><span class=\"keyword\">new</span><span> SimpleFactory();&#160;&#160; </span></span>\n13.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; cmd = factory.createCmd();&#160;&#160; </span>\n14.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; incrable = factory.createIncrable();&#160;&#160; </span>\n15.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"comment\">// cmd.get(args); </span><span>&#160; </span></span>\n16.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"comment\">// cmd.set(args); </span><span>&#160; </span></span>\n17.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"comment\">// incrable.incrby(args, step); </span><span>&#160; </span></span>\n18.  <span>&#160;&#160;&#160; }&#160;&#160; </span>\n19.  <span>}&#160;&#160; </span>         </div>       </td>     </tr>   </tbody></table>  \n\n","source":"_posts/design-pattern-factory-abs.md","raw":"title:  - \ntags:\n  - \nid: 215\ncategories:\n  - \ndate: 2011-12-16 00:58:38\n---\n\n**GOF**\n\n_Provide an interface for creating familiesof related or dependent objects withoutspecifying their concrete classes._\n\n__\n <!--more-->  \n\n\n\n\n\n\n\ngetsetincrbyCommand\n\nIncrable\n  <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>     <tr>       <td valign=\"top\" width=\"568\">         <div class=\"dp-highlighter\">           <div class=\"bar\"></div>            \n\n1.  <span><span class=\"keyword\">package</span><span> com.wikieno.abstractfactory;&#160;&#160; </span></span>\n2.  <span>&#160; </span>\n3.  <span></span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">interface</span><span> Incrable {&#160;&#160; </span></span>\n4.  <span>&#160;&#160;&#160; </span><span class=\"comment\">/** </span>&#160;</span>5.  <span><span class=\"comment\">&#160;&#160;&#160;&#160; *  </span>&#160;</span>6.  <span><span class=\"comment\">&#160;&#160;&#160;&#160; * @param args  </span>&#160;</span>7.  <span><span class=\"comment\">&#160;&#160;&#160;&#160; * @param step  </span>&#160;</span>8.  <span><span class=\"comment\">&#160;&#160;&#160;&#160; * @return  </span>&#160;</span>9.  <span><span class=\"comment\">&#160;&#160;&#160;&#160; */</span><span>&#160; </span></span>\n10.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">int</span><span> incrby(String[] args, </span><span class=\"keyword\">int</span><span> step);&#160;&#160; </span></span>\n11.  <span>}&#160;&#160; </span>         </div>       </td>     </tr>   </tbody></table>  \n\nHashIncrableSimpleIncrable\n  <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>     <tr>       <td valign=\"top\" width=\"568\">         <div class=\"dp-highlighter\">           <div class=\"bar\"></div>            \n\n1.  <span><span class=\"keyword\">package</span><span> com.wikieno.abstractfactory;&#160;&#160; </span></span>\n2.  <span>&#160; </span>\n3.  <span></span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">class</span><span> HashIncrable </span><span class=\"keyword\">implements</span><span> Incrable {&#160;&#160; </span></span>\n4.  <span>&#160;&#160;&#160; </span><span class=\"annotation\">@Override</span><span>&#160; </span></span>\n5.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">int</span><span> incrby(String[] args, </span><span class=\"keyword\">int</span><span> step) {&#160;&#160; </span></span>\n6.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; String key, field;&#160;&#160; </span>\n7.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">int</span><span> result = -</span><span class=\"number\">1</span><span>;&#160;&#160; </span></span>\n8.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">if</span><span> (</span><span class=\"number\">2</span><span> == args.length) {&#160;&#160; </span></span>\n9.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; key = args[</span><span class=\"number\">0</span><span>];&#160;&#160; </span></span>\n10.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; field = args[</span><span class=\"number\">1</span><span>];&#160;&#160; </span></span>\n11.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; } </span><span class=\"keyword\">else</span><span> {&#160;&#160; </span></span>\n12.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">throw</span><span>&#160;</span><span class=\"keyword\">new</span><span> IllegalArgumentException(</span><span class=\"string\">&quot;&quot;</span><span>);&#160;&#160; </span></span>\n13.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; }&#160;&#160; </span>\n14.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"comment\">// client </span><span>&#160; </span></span>\n15.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"comment\">// sample: result = conn.incrby.....; </span><span>&#160; </span></span>\n16.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">return</span><span> result;&#160;&#160; </span></span>\n17.  <span>&#160;&#160;&#160; }&#160;&#160; </span>\n18.  <span>}&#160;&#160; </span>         </div>       </td>     </tr>      <tr>       <td valign=\"top\" width=\"568\">         <div class=\"dp-highlighter\">           <div class=\"bar\"></div>            \n\n1.  <span><span class=\"keyword\">package</span><span> com.wikieno.abstractfactory;&#160;&#160; </span></span>\n2.  <span>&#160; </span>\n3.  <span></span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">class</span><span> SimpleIncrable </span><span class=\"keyword\">implements</span><span> Incrable {&#160;&#160; </span></span>\n4.  <span>&#160;&#160;&#160; </span><span class=\"annotation\">@Override</span><span>&#160; </span></span>\n5.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">int</span><span> incrby(String[] args, </span><span class=\"keyword\">int</span><span> step) {&#160;&#160; </span></span>\n6.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; String key;&#160;&#160; </span>\n7.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">int</span><span> result = -</span><span class=\"number\">1</span><span>;&#160;&#160; </span></span>\n8.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">if</span><span> (</span><span class=\"number\">1</span><span> == args.length) {&#160;&#160; </span></span>\n9.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; key = args[</span><span class=\"number\">0</span><span>];&#160;&#160; </span></span>\n10.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; } </span><span class=\"keyword\">else</span><span> {&#160;&#160; </span></span>\n11.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">throw</span><span>&#160;</span><span class=\"keyword\">new</span><span> IllegalArgumentException(</span><span class=\"string\">&quot;&quot;</span><span>);&#160;&#160; </span></span>\n12.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; }&#160;&#160; </span>\n13.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"comment\">// client </span><span>&#160; </span></span>\n14.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"comment\">// sample: result = conn.incrby.....; </span><span>&#160; </span></span>\n15.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">return</span><span> result;&#160;&#160; </span></span>\n16.  <span>&#160;&#160;&#160; }&#160;&#160; </span>\n17.  <span>}&#160;&#160; </span>         </div>       </td>     </tr>   </tbody></table>  \n\nAbstactFactory\n  <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>     <tr>       <td valign=\"top\" width=\"568\">         <div class=\"dp-highlighter\">           <div class=\"bar\"></div>            \n\n1.  <span><span class=\"keyword\">package</span><span> com.wikieno.abstractfactory;&#160;&#160; </span></span>\n2.  <span>&#160; </span>\n3.  <span></span><span class=\"comment\">/** </span>&#160;</span>4.  <span><span class=\"comment\">*&#160; </span>&#160;</span>5.  <span><span class=\"comment\">*  </span>&#160;</span>6.  <span><span class=\"comment\">*&#160; </span>&#160;</span>7.  <span><span class=\"comment\">* @author  Wikie </span>&#160;</span>8.  <span><span class=\"comment\">* @date 2011-12-15 </span>&#160;</span>9.  <span><span class=\"comment\">*/</span><span>&#160; </span></span>\n10.  <span></span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">abstract</span><span>&#160;</span><span class=\"keyword\">class</span><span> AbstractFactory {&#160;&#160; </span></span>\n11.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">abstract</span><span> Command createCmd();&#160;&#160; </span></span>\n12.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">abstract</span><span> Incrable createIncrable();&#160;&#160; </span></span>\n13.  <span>}&#160;&#160; </span>         </div>       </td>     </tr>   </tbody></table>  \n\nAbstractFactory\n  <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>     <tr>       <td valign=\"top\" width=\"568\">         <div class=\"dp-highlighter\">           <div class=\"bar\"></div>            \n\n1.  <span><span class=\"keyword\">package</span><span> com.wikieno.abstractfactory;&#160;&#160; </span></span>\n2.  <span>&#160; </span>\n3.  <span></span><span class=\"comment\">/** </span>&#160;</span>4.  <span><span class=\"comment\">*&#160; </span>&#160;</span>5.  <span><span class=\"comment\">* HashHash </span>&#160;</span>6.  <span><span class=\"comment\">*&#160; </span>&#160;</span>7.  <span><span class=\"comment\">* @author  Wikie </span>&#160;</span>8.  <span><span class=\"comment\">* @date 2011-12-15 </span>&#160;</span>9.  <span><span class=\"comment\">*/</span><span>&#160; </span></span>\n10.  <span></span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">class</span><span> HashFactory </span><span class=\"keyword\">extends</span><span> AbstractFactory {&#160;&#160; </span></span>\n11.  <span>&#160;&#160;&#160; </span><span class=\"annotation\">@Override</span><span>&#160; </span></span>\n12.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span> Command createCmd() {&#160;&#160; </span></span>\n13.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">return</span><span>&#160;</span><span class=\"keyword\">new</span><span> HashCommand();&#160;&#160; </span></span>\n14.  <span>&#160;&#160;&#160; }&#160;&#160; </span>\n15.  <span>&#160;&#160;&#160; </span><span class=\"annotation\">@Override</span><span>&#160; </span></span>\n16.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span> Incrable createIncrable() {&#160;&#160; </span></span>\n17.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">return</span><span>&#160;</span><span class=\"keyword\">new</span><span> HashIncrable();&#160;&#160; </span></span>\n18.  <span>&#160;&#160;&#160; }&#160;&#160; </span>\n19.  <span>}&#160;&#160; </span>         </div>       </td>     </tr>   </tbody></table>  <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>     <tr>       <td valign=\"top\" width=\"568\">         <div class=\"dp-highlighter\">           <div class=\"bar\"></div>            \n\n1.  <span><span class=\"keyword\">package</span><span> com.wikieno.abstractfactory;&#160;&#160; </span></span>\n2.  <span>&#160; </span>\n3.  <span></span><span class=\"comment\">/** </span>&#160;</span>4.  <span><span class=\"comment\">*&#160; </span>&#160;</span>5.  <span><span class=\"comment\">* SimpleSimple </span>&#160;</span>6.  <span><span class=\"comment\">*&#160; </span>&#160;</span>7.  <span><span class=\"comment\">* @author  Wikie </span>&#160;</span>8.  <span><span class=\"comment\">* @date 2011-12-15 </span>&#160;</span>9.  <span><span class=\"comment\">*/</span><span>&#160; </span></span>\n10.  <span></span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">class</span><span> SimpleFactory </span><span class=\"keyword\">extends</span><span> AbstractFactory {&#160;&#160; </span></span>\n11.  <span>&#160;&#160;&#160; </span><span class=\"annotation\">@Override</span><span>&#160; </span></span>\n12.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span> Command createCmd() {&#160;&#160; </span></span>\n13.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">return</span><span>&#160;</span><span class=\"keyword\">new</span><span> SimpleCommand();&#160;&#160; </span></span>\n14.  <span>&#160;&#160;&#160; }&#160;&#160; </span>\n15.  <span>&#160;&#160;&#160; </span><span class=\"annotation\">@Override</span><span>&#160; </span></span>\n16.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span> Incrable createIncrable() {&#160;&#160; </span></span>\n17.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">return</span><span>&#160;</span><span class=\"keyword\">new</span><span> SimpleIncrable();&#160;&#160; </span></span>\n18.  <span>&#160;&#160;&#160; }&#160;&#160; </span>\n19.  <span>}&#160;&#160; </span>         </div>       </td>     </tr>   </tbody></table>  \n\n\n  <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>     <tr>       <td valign=\"top\" width=\"568\">         <div class=\"dp-highlighter\">           <div class=\"bar\"></div>            \n\n1.  <span><span class=\"keyword\">package</span><span> com.wikieno.abstractfactory;&#160;&#160; </span></span>\n2.  <span>&#160; </span>\n3.  <span></span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">class</span><span> Application {&#160;&#160; </span></span>\n4.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">static</span><span>&#160;</span><span class=\"keyword\">void</span><span> main(String[] args) {&#160;&#160; </span></span>\n5.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; AbstractFactory factory = </span><span class=\"keyword\">new</span><span> HashFactory();&#160;&#160; </span></span>\n6.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; Command cmd = factory.createCmd();&#160;&#160; </span>\n7.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; Incrable incrable = factory.createIncrable();&#160;&#160; </span>\n8.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"comment\">// cmd.get(args); </span><span>&#160; </span></span>\n9.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"comment\">// cmd.set(args); </span><span>&#160; </span></span>\n10.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"comment\">// incrable.incrby(args, step); </span><span>&#160; </span></span>\n11.  <span>&#160; </span>\n12.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; factory = </span><span class=\"keyword\">new</span><span> SimpleFactory();&#160;&#160; </span></span>\n13.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; cmd = factory.createCmd();&#160;&#160; </span>\n14.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; incrable = factory.createIncrable();&#160;&#160; </span>\n15.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"comment\">// cmd.get(args); </span><span>&#160; </span></span>\n16.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"comment\">// cmd.set(args); </span><span>&#160; </span></span>\n17.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"comment\">// incrable.incrby(args, step); </span><span>&#160; </span></span>\n18.  <span>&#160;&#160;&#160; }&#160;&#160; </span>\n19.  <span>}&#160;&#160; </span>         </div>       </td>     </tr>   </tbody></table>  \n\n","slug":"design-pattern-factory-abs","published":1,"updated":"2015-12-29T13:31:03.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciirfw72m009msv8fcmbkhihm"},{"title":" - ","id":"235","date":"2011-12-26T12:29:00.000Z","_content":"\n**GOF******\n\n_Provide a unified interface to a set of interfaces in a subsystem. Facade defines a higher-level interface that makes the subsystem easier to use. _\n <!--more-->  \n\n__\n\n\n\n\n\n    <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>       <tr>         <td valign=\"top\" width=\"568\">           <div class=\"dp-highlighter\">             <div class=\"bar\"></div>              \n\n1.  <span><span class=\"keyword\">package</span><span> com.wikieno.facade;&#160;&#160; </span></span>\n2.  <span>&#160; </span>\n3.  <span></span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">class</span><span> UserFacade {&#160;&#160; </span></span>\n4.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">private</span><span> LoginModule loginModule = </span><span class=\"keyword\">new</span><span> LoginModule();&#160;&#160; </span></span>\n5.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">private</span><span> RegModule regModule = </span><span class=\"keyword\">new</span><span> RegModule();&#160;&#160; </span></span>\n6.  <span>&#160; </span>\n7.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">void</span><span> reg(String name, String pwd, String info) {&#160;&#160; </span></span>\n8.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; regModule.reg(name, pwd, info);&#160;&#160; </span>\n9.  <span>&#160;&#160;&#160; }&#160;&#160; </span>\n10.  <span>&#160; </span>\n11.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">void</span><span> login(String name, String pwd) {&#160;&#160; </span></span>\n12.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; loginModule.login(name, pwd);&#160;&#160; </span>\n13.  <span>&#160;&#160;&#160; }&#160;&#160; </span>\n14.  <span>}&#160;&#160; </span>           </div>         </td>       </tr>     </tbody></table> \n\nLoginModuleRegModuleloginreg\n\n\n\n**1 **\n\n\n\n**2 **\n\n\n\n**3 **\n\n\n\n","source":"_posts/design-pattern-facade.md","raw":"title:  - \ntags:\n  - \nid: 235\ncategories:\n  - \ndate: 2011-12-26 20:29:00\n---\n\n**GOF******\n\n_Provide a unified interface to a set of interfaces in a subsystem. Facade defines a higher-level interface that makes the subsystem easier to use. _\n <!--more-->  \n\n__\n\n\n\n\n\n    <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>       <tr>         <td valign=\"top\" width=\"568\">           <div class=\"dp-highlighter\">             <div class=\"bar\"></div>              \n\n1.  <span><span class=\"keyword\">package</span><span> com.wikieno.facade;&#160;&#160; </span></span>\n2.  <span>&#160; </span>\n3.  <span></span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">class</span><span> UserFacade {&#160;&#160; </span></span>\n4.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">private</span><span> LoginModule loginModule = </span><span class=\"keyword\">new</span><span> LoginModule();&#160;&#160; </span></span>\n5.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">private</span><span> RegModule regModule = </span><span class=\"keyword\">new</span><span> RegModule();&#160;&#160; </span></span>\n6.  <span>&#160; </span>\n7.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">void</span><span> reg(String name, String pwd, String info) {&#160;&#160; </span></span>\n8.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; regModule.reg(name, pwd, info);&#160;&#160; </span>\n9.  <span>&#160;&#160;&#160; }&#160;&#160; </span>\n10.  <span>&#160; </span>\n11.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">void</span><span> login(String name, String pwd) {&#160;&#160; </span></span>\n12.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; loginModule.login(name, pwd);&#160;&#160; </span>\n13.  <span>&#160;&#160;&#160; }&#160;&#160; </span>\n14.  <span>}&#160;&#160; </span>           </div>         </td>       </tr>     </tbody></table> \n\nLoginModuleRegModuleloginreg\n\n\n\n**1 **\n\n\n\n**2 **\n\n\n\n**3 **\n\n\n\n","slug":"design-pattern-facade","published":1,"updated":"2015-12-29T13:31:03.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciirfw72o009psv8fgzsqkv1c"},{"title":" - ","id":"234","date":"2011-12-25T15:41:03.000Z","_content":"\n**GOF******\n\n_Attach additional responsibilities to an object dynamically keeping the same interface. Decorators provide a flexible alternative to subclassing for extending functionality. _\n\n__\n <!--more-->  \n\nDecorator\n\nMp3    <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>       <tr>         <td valign=\"top\" width=\"568\">           <div class=\"dp-highlighter\">             <div class=\"bar\"></div>              \n\n1.  <span><span class=\"keyword\">package</span><span> com.wikieno.decorator;&#160;&#160; </span></span>\n2.  <span>&#160; </span>\n3.  <span></span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">class</span><span> MP3PlayerComponent </span><span class=\"keyword\">implements</span><span> Component {&#160;&#160; </span></span>\n4.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">void</span><span> operate() {&#160;&#160; </span></span>\n5.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"comment\">// TODO </span><span>&#160; </span></span>\n6.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; System.out.println(</span><span class=\"string\">&quot;Play a mp3 now!&quot;</span><span>);&#160;&#160; </span></span>\n7.  <span>&#160;&#160;&#160; }&#160;&#160; </span>\n8.  <span>}&#160; </span>           </div>         </td>       </tr>     </tbody></table> \n\nMP3PlayerWithLrcComponent    <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>       <tr>         <td valign=\"top\" width=\"568\">           <div class=\"dp-highlighter\">             <div class=\"bar\"></div>              \n\n1.  <span><span class=\"keyword\">package</span><span> com.wikieno.decorator;&#160;&#160; </span></span>\n2.  <span>&#160; </span>\n3.  <span></span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">abstract</span><span>&#160;</span><span class=\"keyword\">class</span><span> Decorator </span><span class=\"keyword\">implements</span><span> Component {&#160;&#160; </span></span>\n4.  <span>&#160; </span>\n5.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">private</span><span> Component component = </span><span class=\"keyword\">null</span><span>;&#160;&#160; </span></span>\n6.  <span>&#160; </span>\n7.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span> Decorator(Component component) {&#160;&#160; </span></span>\n8.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">this</span><span>.component = component;&#160;&#160; </span></span>\n9.  <span>&#160;&#160;&#160; }&#160;&#160; </span>\n10.  <span>&#160; </span>\n11.  <span>&#160;&#160;&#160; </span><span class=\"annotation\">@Override</span><span>&#160; </span></span>\n12.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">void</span><span> operate() {&#160;&#160; </span></span>\n13.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">this</span><span>.component.operate();&#160;&#160; </span></span>\n14.  <span>&#160;&#160;&#160; }&#160;&#160; </span>\n15.  <span>}&#160; </span>           </div>         </td>       </tr>        <tr>         <td valign=\"top\" width=\"568\">           <div class=\"dp-highlighter\">             <div class=\"bar\"></div>              \n\n1.  <span><span class=\"keyword\">package</span><span> com.wikieno.decorator;&#160;&#160; </span></span>2.  <span>&#160; </span>3.  <span></span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">class</span><span> MP3Decorator </span><span class=\"keyword\">extends</span><span> Decorator {&#160;&#160; </span></span>4.  <span>&#160; </span>5.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span> MP3Decorator(Component component) {&#160;&#160; </span></span>6.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">super</span><span>(component);&#160;&#160; </span></span>7.  <span>&#160;&#160;&#160; }&#160;&#160; </span>8.  <span>&#160; </span>9.  <span>&#160;&#160;&#160; </span><span class=\"comment\">/** </span>&#160;</span>10.  <span><span class=\"comment\">&#160;&#160;&#160;&#160; *   </span>&#160;</span>11.  <span><span class=\"comment\">&#160;&#160;&#160;&#160; */</span><span>&#160; </span></span>12.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">void</span><span> showLrc() {&#160;&#160; </span></span>13.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"comment\">// TODO </span><span>&#160; </span></span>14.  <span>&#160;&#160;&#160; }&#160;&#160; </span>15.  <span>&#160; </span>16.  <span>&#160;&#160;&#160; </span><span class=\"annotation\">@Override</span><span>&#160; </span></span>17.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">void</span><span> operate() {&#160;&#160; </span></span>18.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">super</span><span>.operate();&#160;&#160; </span></span>19.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">this</span><span>.showLrc();&#160;&#160; </span></span>20.  <span>&#160;&#160;&#160; }&#160;&#160; </span>21.  <span>}&#160; </span>           </div>         </td>       </tr>     </tbody></table> \n\n\n\n**1 ******\n\n\n\n**2 ******","source":"_posts/design-pattern-decorate.md","raw":"title:  - \ntags:\n  - \nid: 234\ncategories:\n  - \ndate: 2011-12-25 23:41:03\n---\n\n**GOF******\n\n_Attach additional responsibilities to an object dynamically keeping the same interface. Decorators provide a flexible alternative to subclassing for extending functionality. _\n\n__\n <!--more-->  \n\nDecorator\n\nMp3    <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>       <tr>         <td valign=\"top\" width=\"568\">           <div class=\"dp-highlighter\">             <div class=\"bar\"></div>              \n\n1.  <span><span class=\"keyword\">package</span><span> com.wikieno.decorator;&#160;&#160; </span></span>\n2.  <span>&#160; </span>\n3.  <span></span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">class</span><span> MP3PlayerComponent </span><span class=\"keyword\">implements</span><span> Component {&#160;&#160; </span></span>\n4.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">void</span><span> operate() {&#160;&#160; </span></span>\n5.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"comment\">// TODO </span><span>&#160; </span></span>\n6.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; System.out.println(</span><span class=\"string\">&quot;Play a mp3 now!&quot;</span><span>);&#160;&#160; </span></span>\n7.  <span>&#160;&#160;&#160; }&#160;&#160; </span>\n8.  <span>}&#160; </span>           </div>         </td>       </tr>     </tbody></table> \n\nMP3PlayerWithLrcComponent    <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>       <tr>         <td valign=\"top\" width=\"568\">           <div class=\"dp-highlighter\">             <div class=\"bar\"></div>              \n\n1.  <span><span class=\"keyword\">package</span><span> com.wikieno.decorator;&#160;&#160; </span></span>\n2.  <span>&#160; </span>\n3.  <span></span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">abstract</span><span>&#160;</span><span class=\"keyword\">class</span><span> Decorator </span><span class=\"keyword\">implements</span><span> Component {&#160;&#160; </span></span>\n4.  <span>&#160; </span>\n5.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">private</span><span> Component component = </span><span class=\"keyword\">null</span><span>;&#160;&#160; </span></span>\n6.  <span>&#160; </span>\n7.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span> Decorator(Component component) {&#160;&#160; </span></span>\n8.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">this</span><span>.component = component;&#160;&#160; </span></span>\n9.  <span>&#160;&#160;&#160; }&#160;&#160; </span>\n10.  <span>&#160; </span>\n11.  <span>&#160;&#160;&#160; </span><span class=\"annotation\">@Override</span><span>&#160; </span></span>\n12.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">void</span><span> operate() {&#160;&#160; </span></span>\n13.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">this</span><span>.component.operate();&#160;&#160; </span></span>\n14.  <span>&#160;&#160;&#160; }&#160;&#160; </span>\n15.  <span>}&#160; </span>           </div>         </td>       </tr>        <tr>         <td valign=\"top\" width=\"568\">           <div class=\"dp-highlighter\">             <div class=\"bar\"></div>              \n\n1.  <span><span class=\"keyword\">package</span><span> com.wikieno.decorator;&#160;&#160; </span></span>2.  <span>&#160; </span>3.  <span></span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">class</span><span> MP3Decorator </span><span class=\"keyword\">extends</span><span> Decorator {&#160;&#160; </span></span>4.  <span>&#160; </span>5.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span> MP3Decorator(Component component) {&#160;&#160; </span></span>6.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">super</span><span>(component);&#160;&#160; </span></span>7.  <span>&#160;&#160;&#160; }&#160;&#160; </span>8.  <span>&#160; </span>9.  <span>&#160;&#160;&#160; </span><span class=\"comment\">/** </span>&#160;</span>10.  <span><span class=\"comment\">&#160;&#160;&#160;&#160; *   </span>&#160;</span>11.  <span><span class=\"comment\">&#160;&#160;&#160;&#160; */</span><span>&#160; </span></span>12.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">void</span><span> showLrc() {&#160;&#160; </span></span>13.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"comment\">// TODO </span><span>&#160; </span></span>14.  <span>&#160;&#160;&#160; }&#160;&#160; </span>15.  <span>&#160; </span>16.  <span>&#160;&#160;&#160; </span><span class=\"annotation\">@Override</span><span>&#160; </span></span>17.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">void</span><span> operate() {&#160;&#160; </span></span>18.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">super</span><span>.operate();&#160;&#160; </span></span>19.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">this</span><span>.showLrc();&#160;&#160; </span></span>20.  <span>&#160;&#160;&#160; }&#160;&#160; </span>21.  <span>}&#160; </span>           </div>         </td>       </tr>     </tbody></table> \n\n\n\n**1 ******\n\n\n\n**2 ******","slug":"design-pattern-decorate","published":1,"updated":"2015-12-29T13:31:03.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciirfw72p009ssv8f5kbieiqw"},{"title":" - ","id":"229","date":"2011-12-22T02:51:28.000Z","_content":"\n**GOF******\n\n_Avoid coupling thesender of a request to its receiver by giving more than one object a chance to handle the request. Chain the receiving objects and pass the request along the chain until an object handles it _\n\n__\n <!--more-->  \n\n\n\n\n\nVIP1-67\n  <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>     <tr>       <td valign=\"top\" width=\"568\">         <div class=\"dp-highlighter\">           <div class=\"bar\"></div>            \n\n1.  <span><span class=\"keyword\">package</span><span> com.wikieno.chainofresponsibility;&#160;&#160; </span></span>\n2.  <span>&#160; </span>\n3.  <span></span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">abstract</span><span>&#160;</span><span class=\"keyword\">class</span><span> Speeder {&#160;&#160; </span></span>\n4.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">protected</span><span> Speeder next;&#160;&#160; </span></span>\n5.  <span>&#160; </span>\n6.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">void</span><span> setNext(Speeder next) {&#160;&#160; </span></span>\n7.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; Speeder tmp = </span><span class=\"keyword\">this</span><span>;&#160;&#160; </span></span>\n8.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">while</span><span> (</span><span class=\"keyword\">null</span><span> != tmp.next) {&#160;&#160; </span></span>\n9.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; tmp = tmp.next;&#160;&#160; </span>\n10.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; }&#160;&#160; </span>\n11.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; tmp.next = next;&#160;&#160; </span>\n12.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; tmp = </span><span class=\"keyword\">null</span><span>;&#160;&#160; </span></span>\n13.  <span>&#160;&#160;&#160; }&#160;&#160; </span>\n14.  <span>&#160; </span>\n15.  <span>&#160;&#160;&#160; </span><span class=\"comment\">/** </span>&#160;</span>16.  <span><span class=\"comment\">&#160;&#160;&#160;&#160; *  </span>&#160;</span>17.  <span><span class=\"comment\">&#160;&#160;&#160;&#160; *&#160; </span>&#160;</span>18.  <span><span class=\"comment\">&#160;&#160;&#160;&#160; * @return </span>&#160;</span>19.  <span><span class=\"comment\">&#160;&#160;&#160;&#160; */</span><span>&#160; </span></span>\n20.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">boolean</span><span> hasNext() {&#160;&#160; </span></span>\n21.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">if</span><span> (</span><span class=\"keyword\">null</span><span> != next) {&#160;&#160; </span></span>\n22.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">return</span><span>&#160;</span><span class=\"keyword\">true</span><span>;&#160;&#160; </span></span>\n23.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; }&#160;&#160; </span>\n24.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">return</span><span>&#160;</span><span class=\"keyword\">false</span><span>;&#160;&#160; </span></span>\n25.  <span>&#160;&#160;&#160; }&#160;&#160; </span>\n26.  <span>&#160; </span>\n27.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">abstract</span><span>&#160;</span><span class=\"keyword\">void</span><span> speed(User user);&#160;&#160; </span></span>\n28.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">abstract</span><span>&#160;</span><span class=\"keyword\">boolean</span><span> canHandle(User user);&#160;&#160; </span></span>\n29.  <span>}&#160;&#160; </span>         </div>       </td>     </tr>   </tbody></table>  \n\n    <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>       <tr>         <td valign=\"top\" width=\"568\">           <div class=\"dp-highlighter\">             <div class=\"bar\"></div>              \n\n1.  <span><span class=\"keyword\">package</span><span> com.wikieno.chainofresponsibility;&#160;&#160; </span></span>\n2.  <span>&#160; </span>\n3.  <span></span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">class</span><span> SimpleSpeeder </span><span class=\"keyword\">extends</span><span> Speeder {&#160;&#160; </span></span>\n4.  <span>&#160; </span>\n5.  <span>&#160;&#160;&#160; </span><span class=\"annotation\">@Override</span><span>&#160; </span></span>\n6.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">void</span><span> speed(User user) {&#160;&#160; </span></span>\n7.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">if</span><span> (canHandle(user)) {&#160;&#160; </span></span>\n8.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"comment\">// TODO </span><span>&#160; </span></span>\n9.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; } </span><span class=\"keyword\">else</span><span> {&#160;&#160; </span></span>\n10.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">if</span><span> (hasNext()) {&#160;&#160; </span></span>\n11.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; next.speed(user);&#160;&#160; </span>\n12.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; }&#160;&#160; </span>\n13.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; }&#160;&#160; </span>\n14.  <span>&#160;&#160;&#160; }&#160;&#160; </span>\n15.  <span>&#160; </span>\n16.  <span>&#160;&#160;&#160; </span><span class=\"annotation\">@Override</span><span>&#160; </span></span>\n17.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">boolean</span><span> canHandle(User user) {&#160;&#160; </span></span>\n18.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">if</span><span> (!user.isVIP) {&#160;&#160; </span></span>\n19.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">return</span><span>&#160;</span><span class=\"keyword\">true</span><span>;&#160;&#160; </span></span>\n20.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; }&#160;&#160; </span>\n21.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">return</span><span>&#160;</span><span class=\"keyword\">false</span><span>;&#160;&#160; </span></span>\n22.  <span>&#160;&#160;&#160; }&#160;&#160; </span>\n23.  <span>}&#160;&#160; </span>           </div>         </td>       </tr>     </tbody></table> \n\nVIP1    <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>       <tr>         <td valign=\"top\" width=\"568\">           <div class=\"dp-highlighter\">             <div class=\"bar\"></div>              \n\n1.  <span><span class=\"keyword\">package</span><span> com.wikieno.chainofresponsibility;&#160;&#160; </span></span>\n2.  <span>&#160; </span>\n3.  <span></span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">class</span><span> VIP1Speeder </span><span class=\"keyword\">extends</span><span> Speeder {&#160;&#160; </span></span>\n4.  <span>&#160; </span>\n5.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">static</span><span>&#160;</span><span class=\"keyword\">int</span><span> LEVEL = </span><span class=\"number\">1</span><span>;&#160;&#160; </span></span>\n6.  <span>&#160; </span>\n7.  <span>&#160;&#160;&#160; </span><span class=\"annotation\">@Override</span><span>&#160; </span></span>\n8.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">void</span><span> speed(User user) {&#160;&#160; </span></span>\n9.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">if</span><span> (canHandle(user)) {&#160;&#160; </span></span>\n10.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"comment\">// TODO </span><span>&#160; </span></span>\n11.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; System.out.println(</span><span class=\"number\">1</span><span>+</span><span class=\"string\">&quot;&quot;</span><span>);&#160;&#160; </span></span>\n12.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; } </span><span class=\"keyword\">else</span><span> {&#160;&#160; </span></span>\n13.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">if</span><span> (hasNext()) {&#160;&#160; </span></span>\n14.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; next.speed(user);&#160;&#160; </span>\n15.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; }&#160;&#160; </span>\n16.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; }&#160;&#160; </span>\n17.  <span>&#160;&#160;&#160; }&#160;&#160; </span>\n18.  <span>&#160; </span>\n19.  <span>&#160;&#160;&#160; </span><span class=\"annotation\">@Override</span><span>&#160; </span></span>\n20.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">boolean</span><span> canHandle(User user) {&#160;&#160; </span></span>\n21.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">if</span><span> (LEVEL == user.levelVIP) {&#160;&#160; </span></span>\n22.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">return</span><span>&#160;</span><span class=\"keyword\">true</span><span>;&#160;&#160; </span></span>\n23.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; }&#160;&#160; </span>\n24.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">return</span><span>&#160;</span><span class=\"keyword\">false</span><span>;&#160;&#160; </span></span>\n25.  <span>&#160;&#160;&#160; }&#160;&#160; </span>\n26.  <span>}&#160;&#160; </span>           </div>         </td>       </tr>     </tbody></table> \n\nVIP2LEVEL\n\n    <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>       <tr>         <td valign=\"top\" width=\"568\">           <div class=\"dp-highlighter\">             <div class=\"bar\"></div>              \n\n1.  <span><span class=\"keyword\">package</span><span> com.wikieno.chainofresponsibility;&#160;&#160; </span></span>\n2.  <span>&#160; </span>\n3.  <span></span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">class</span><span> Application {&#160;&#160; </span></span>\n4.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">static</span><span>&#160;</span><span class=\"keyword\">void</span><span> main(String[] args) {&#160;&#160; </span></span>\n5.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; User user = </span><span class=\"keyword\">new</span><span> User();&#160;&#160; </span></span>\n6.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; user.isVIP = </span><span class=\"keyword\">true</span><span>;&#160;&#160; </span></span>\n7.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; user.levelVIP = </span><span class=\"number\">2</span><span>;&#160;&#160; </span></span>\n8.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; Speeder speeder = </span><span class=\"keyword\">new</span><span> SimpleSpeeder();&#160;&#160; </span></span>\n9.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; speeder.setNext(</span><span class=\"keyword\">new</span><span> VIP1Speeder());&#160;&#160; </span></span>\n10.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; speeder.setNext(</span><span class=\"keyword\">new</span><span> VIP2Speeder());&#160;&#160; </span></span>\n11.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span>\n12.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; speeder.speed(user);&#160;&#160; </span>\n13.  <span>&#160;&#160;&#160; }&#160;&#160; </span>\n14.  <span>}&#160;&#160; </span>           </div>         </td>       </tr>     </tbody></table> \n\nQQ\n\nVIP66VIP7speedVIP7Speederspeeder","source":"_posts/design-pattern-cor.md","raw":"title:  - \ntags:\n  - \nid: 229\ncategories:\n  - \ndate: 2011-12-22 10:51:28\n---\n\n**GOF******\n\n_Avoid coupling thesender of a request to its receiver by giving more than one object a chance to handle the request. Chain the receiving objects and pass the request along the chain until an object handles it _\n\n__\n <!--more-->  \n\n\n\n\n\nVIP1-67\n  <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>     <tr>       <td valign=\"top\" width=\"568\">         <div class=\"dp-highlighter\">           <div class=\"bar\"></div>            \n\n1.  <span><span class=\"keyword\">package</span><span> com.wikieno.chainofresponsibility;&#160;&#160; </span></span>\n2.  <span>&#160; </span>\n3.  <span></span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">abstract</span><span>&#160;</span><span class=\"keyword\">class</span><span> Speeder {&#160;&#160; </span></span>\n4.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">protected</span><span> Speeder next;&#160;&#160; </span></span>\n5.  <span>&#160; </span>\n6.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">void</span><span> setNext(Speeder next) {&#160;&#160; </span></span>\n7.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; Speeder tmp = </span><span class=\"keyword\">this</span><span>;&#160;&#160; </span></span>\n8.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">while</span><span> (</span><span class=\"keyword\">null</span><span> != tmp.next) {&#160;&#160; </span></span>\n9.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; tmp = tmp.next;&#160;&#160; </span>\n10.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; }&#160;&#160; </span>\n11.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; tmp.next = next;&#160;&#160; </span>\n12.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; tmp = </span><span class=\"keyword\">null</span><span>;&#160;&#160; </span></span>\n13.  <span>&#160;&#160;&#160; }&#160;&#160; </span>\n14.  <span>&#160; </span>\n15.  <span>&#160;&#160;&#160; </span><span class=\"comment\">/** </span>&#160;</span>16.  <span><span class=\"comment\">&#160;&#160;&#160;&#160; *  </span>&#160;</span>17.  <span><span class=\"comment\">&#160;&#160;&#160;&#160; *&#160; </span>&#160;</span>18.  <span><span class=\"comment\">&#160;&#160;&#160;&#160; * @return </span>&#160;</span>19.  <span><span class=\"comment\">&#160;&#160;&#160;&#160; */</span><span>&#160; </span></span>\n20.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">boolean</span><span> hasNext() {&#160;&#160; </span></span>\n21.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">if</span><span> (</span><span class=\"keyword\">null</span><span> != next) {&#160;&#160; </span></span>\n22.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">return</span><span>&#160;</span><span class=\"keyword\">true</span><span>;&#160;&#160; </span></span>\n23.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; }&#160;&#160; </span>\n24.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">return</span><span>&#160;</span><span class=\"keyword\">false</span><span>;&#160;&#160; </span></span>\n25.  <span>&#160;&#160;&#160; }&#160;&#160; </span>\n26.  <span>&#160; </span>\n27.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">abstract</span><span>&#160;</span><span class=\"keyword\">void</span><span> speed(User user);&#160;&#160; </span></span>\n28.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">abstract</span><span>&#160;</span><span class=\"keyword\">boolean</span><span> canHandle(User user);&#160;&#160; </span></span>\n29.  <span>}&#160;&#160; </span>         </div>       </td>     </tr>   </tbody></table>  \n\n    <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>       <tr>         <td valign=\"top\" width=\"568\">           <div class=\"dp-highlighter\">             <div class=\"bar\"></div>              \n\n1.  <span><span class=\"keyword\">package</span><span> com.wikieno.chainofresponsibility;&#160;&#160; </span></span>\n2.  <span>&#160; </span>\n3.  <span></span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">class</span><span> SimpleSpeeder </span><span class=\"keyword\">extends</span><span> Speeder {&#160;&#160; </span></span>\n4.  <span>&#160; </span>\n5.  <span>&#160;&#160;&#160; </span><span class=\"annotation\">@Override</span><span>&#160; </span></span>\n6.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">void</span><span> speed(User user) {&#160;&#160; </span></span>\n7.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">if</span><span> (canHandle(user)) {&#160;&#160; </span></span>\n8.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"comment\">// TODO </span><span>&#160; </span></span>\n9.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; } </span><span class=\"keyword\">else</span><span> {&#160;&#160; </span></span>\n10.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">if</span><span> (hasNext()) {&#160;&#160; </span></span>\n11.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; next.speed(user);&#160;&#160; </span>\n12.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; }&#160;&#160; </span>\n13.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; }&#160;&#160; </span>\n14.  <span>&#160;&#160;&#160; }&#160;&#160; </span>\n15.  <span>&#160; </span>\n16.  <span>&#160;&#160;&#160; </span><span class=\"annotation\">@Override</span><span>&#160; </span></span>\n17.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">boolean</span><span> canHandle(User user) {&#160;&#160; </span></span>\n18.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">if</span><span> (!user.isVIP) {&#160;&#160; </span></span>\n19.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">return</span><span>&#160;</span><span class=\"keyword\">true</span><span>;&#160;&#160; </span></span>\n20.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; }&#160;&#160; </span>\n21.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">return</span><span>&#160;</span><span class=\"keyword\">false</span><span>;&#160;&#160; </span></span>\n22.  <span>&#160;&#160;&#160; }&#160;&#160; </span>\n23.  <span>}&#160;&#160; </span>           </div>         </td>       </tr>     </tbody></table> \n\nVIP1    <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>       <tr>         <td valign=\"top\" width=\"568\">           <div class=\"dp-highlighter\">             <div class=\"bar\"></div>              \n\n1.  <span><span class=\"keyword\">package</span><span> com.wikieno.chainofresponsibility;&#160;&#160; </span></span>\n2.  <span>&#160; </span>\n3.  <span></span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">class</span><span> VIP1Speeder </span><span class=\"keyword\">extends</span><span> Speeder {&#160;&#160; </span></span>\n4.  <span>&#160; </span>\n5.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">static</span><span>&#160;</span><span class=\"keyword\">int</span><span> LEVEL = </span><span class=\"number\">1</span><span>;&#160;&#160; </span></span>\n6.  <span>&#160; </span>\n7.  <span>&#160;&#160;&#160; </span><span class=\"annotation\">@Override</span><span>&#160; </span></span>\n8.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">void</span><span> speed(User user) {&#160;&#160; </span></span>\n9.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">if</span><span> (canHandle(user)) {&#160;&#160; </span></span>\n10.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"comment\">// TODO </span><span>&#160; </span></span>\n11.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; System.out.println(</span><span class=\"number\">1</span><span>+</span><span class=\"string\">&quot;&quot;</span><span>);&#160;&#160; </span></span>\n12.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; } </span><span class=\"keyword\">else</span><span> {&#160;&#160; </span></span>\n13.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">if</span><span> (hasNext()) {&#160;&#160; </span></span>\n14.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; next.speed(user);&#160;&#160; </span>\n15.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; }&#160;&#160; </span>\n16.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; }&#160;&#160; </span>\n17.  <span>&#160;&#160;&#160; }&#160;&#160; </span>\n18.  <span>&#160; </span>\n19.  <span>&#160;&#160;&#160; </span><span class=\"annotation\">@Override</span><span>&#160; </span></span>\n20.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">boolean</span><span> canHandle(User user) {&#160;&#160; </span></span>\n21.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">if</span><span> (LEVEL == user.levelVIP) {&#160;&#160; </span></span>\n22.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">return</span><span>&#160;</span><span class=\"keyword\">true</span><span>;&#160;&#160; </span></span>\n23.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; }&#160;&#160; </span>\n24.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">return</span><span>&#160;</span><span class=\"keyword\">false</span><span>;&#160;&#160; </span></span>\n25.  <span>&#160;&#160;&#160; }&#160;&#160; </span>\n26.  <span>}&#160;&#160; </span>           </div>         </td>       </tr>     </tbody></table> \n\nVIP2LEVEL\n\n    <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>       <tr>         <td valign=\"top\" width=\"568\">           <div class=\"dp-highlighter\">             <div class=\"bar\"></div>              \n\n1.  <span><span class=\"keyword\">package</span><span> com.wikieno.chainofresponsibility;&#160;&#160; </span></span>\n2.  <span>&#160; </span>\n3.  <span></span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">class</span><span> Application {&#160;&#160; </span></span>\n4.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">static</span><span>&#160;</span><span class=\"keyword\">void</span><span> main(String[] args) {&#160;&#160; </span></span>\n5.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; User user = </span><span class=\"keyword\">new</span><span> User();&#160;&#160; </span></span>\n6.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; user.isVIP = </span><span class=\"keyword\">true</span><span>;&#160;&#160; </span></span>\n7.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; user.levelVIP = </span><span class=\"number\">2</span><span>;&#160;&#160; </span></span>\n8.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; Speeder speeder = </span><span class=\"keyword\">new</span><span> SimpleSpeeder();&#160;&#160; </span></span>\n9.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; speeder.setNext(</span><span class=\"keyword\">new</span><span> VIP1Speeder());&#160;&#160; </span></span>\n10.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; speeder.setNext(</span><span class=\"keyword\">new</span><span> VIP2Speeder());&#160;&#160; </span></span>\n11.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span>\n12.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; speeder.speed(user);&#160;&#160; </span>\n13.  <span>&#160;&#160;&#160; }&#160;&#160; </span>\n14.  <span>}&#160;&#160; </span>           </div>         </td>       </tr>     </tbody></table> \n\nQQ\n\nVIP66VIP7speedVIP7Speederspeeder","slug":"design-pattern-cor","published":1,"updated":"2015-12-29T13:31:03.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciirfw72q009vsv8feyqu4njv"},{"title":" - ","id":"232","date":"2011-12-25T15:36:59.000Z","_content":"\n\n <!--more-->  \n\n\n\n ****\n\n1 \n\n\n\n2 \n\nRedissetSetCommand\n\n3 \n\n\n\n ****\n\n1 \n\n2 \n\n\n\n ****\n\n1 \n\n\n\n2 \n\n\n\n3 \n\n\n\n ****\n\n1 \n\n\n\n2 \n\n\n\n ****\n\n1 \n\n\n\n2 \n\n","source":"_posts/design-pattern-additional.md","raw":"title:  - \ntags:\n  - \nid: 232\ncategories:\n  - \ndate: 2011-12-25 23:36:59\n---\n\n\n <!--more-->  \n\n\n\n ****\n\n1 \n\n\n\n2 \n\nRedissetSetCommand\n\n3 \n\n\n\n ****\n\n1 \n\n2 \n\n\n\n ****\n\n1 \n\n\n\n2 \n\n\n\n3 \n\n\n\n ****\n\n1 \n\n\n\n2 \n\n\n\n ****\n\n1 \n\n\n\n2 \n\n","slug":"design-pattern-additional","published":1,"updated":"2015-12-29T13:31:03.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciirfw72s009ysv8frduazeua"},{"title":" - ","id":"238","date":"2011-12-26T14:31:00.000Z","_content":"\n**GOF******\n\n_Convert the interface of a class into another interface clients expect. Adapter lets classed work together thar couldnt otherwise because of incompatible interfaces. _\n\n__\n <!--more-->  \n\n110V330V\n\nAndroid\n\nIBasicInfoIEducationInfo    <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>       <tr>         <td valign=\"top\" width=\"568\">           <div class=\"dp-highlighter\">             <div class=\"bar\"></div>              \n\n1.  <span><span class=\"keyword\">package</span><span> com.wikieno.adapter;&#160;&#160; </span></span>\n2.  <span>&#160; </span>\n3.  <span></span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">class</span><span> BasicInfo </span><span class=\"keyword\">implements</span><span> IBasicInfo {&#160;&#160; </span></span>\n4.  <span>&#160; </span>\n5.  <span>&#160;&#160;&#160; </span><span class=\"comment\">/** </span>&#160;</span>6.  <span><span class=\"comment\">&#160;&#160;&#160;&#160; *  </span>&#160;</span>7.  <span><span class=\"comment\">&#160;&#160;&#160;&#160; */</span><span>&#160; </span></span>\n8.  <span>&#160;&#160;&#160; </span><span class=\"annotation\">@Override</span><span>&#160; </span></span>\n9.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span> Map&lt;String, String&gt; getBasicInfo() {&#160;&#160; </span></span>\n10.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; Map&lt;String, String&gt; map = </span><span class=\"keyword\">new</span><span> HashMap&lt;String, String&gt;();&#160;&#160; </span></span>\n11.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; map.put(</span><span class=\"string\">&quot;Name&quot;</span><span>, </span><span class=\"string\">&quot;Wikie&quot;</span><span>);&#160;&#160; </span></span>\n12.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; map.put(</span><span class=\"string\">&quot;Gender&quot;</span><span>, </span><span class=\"string\">&quot;male&quot;</span><span>);&#160;&#160; </span></span>\n13.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">return</span><span> map;&#160;&#160; </span></span>\n14.  <span>&#160;&#160;&#160; }&#160;&#160; </span>\n15.  <span>}&#160;&#160; </span>           </div>         </td>       </tr>        <tr>         <td valign=\"top\" width=\"568\">           <div class=\"dp-highlighter\">             <div class=\"bar\"></div>              \n\n1.  <span><span class=\"keyword\">package</span><span> com.wikieno.adapter;&#160;&#160; </span></span>\n2.  <span>&#160; </span>\n3.  <span></span><span class=\"keyword\">import</span><span> java.util.HashMap;&#160;&#160; </span></span>\n4.  <span></span><span class=\"keyword\">import</span><span> java.util.Map;&#160;&#160; </span></span>\n5.  <span>&#160; </span>\n6.  <span></span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">class</span><span> EducationInfo </span><span class=\"keyword\">implements</span><span> IEducationInfo {&#160;&#160; </span></span>\n7.  <span>&#160; </span>\n8.  <span>&#160;&#160;&#160; </span><span class=\"comment\">/** </span>&#160;</span>9.  <span><span class=\"comment\">&#160;&#160;&#160;&#160; *  </span>&#160;</span>10.  <span><span class=\"comment\">&#160;&#160;&#160;&#160; */</span><span>&#160; </span></span>\n11.  <span>&#160;&#160;&#160; </span><span class=\"annotation\">@Override</span><span>&#160; </span></span>\n12.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span> Map&lt;String, String&gt; getEducationInfo() {&#160;&#160; </span></span>\n13.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; Map&lt;String, String&gt; map = </span><span class=\"keyword\">new</span><span> HashMap&lt;String, String&gt;();&#160;&#160; </span></span>\n14.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; map.put(</span><span class=\"string\">&quot;Master&quot;</span><span>, </span><span class=\"string\">&quot;BUAA&quot;</span><span>);&#160;&#160; </span></span>\n15.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; map.put(</span><span class=\"string\">&quot;Major&quot;</span><span>, </span><span class=\"string\">&quot;Software Engineering&quot;</span><span>);&#160;&#160; </span></span>\n16.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">return</span><span> map;&#160;&#160; </span></span>\n17.  <span>&#160;&#160;&#160; }&#160;&#160; </span>\n18.  <span>}&#160;&#160; </span>           </div>         </td>       </tr>     </tbody></table> \n\n    <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>       <tr>         <td valign=\"top\" width=\"568\">           <div class=\"dp-highlighter\">             <div class=\"bar\"></div>              \n\n1.  <span><span class=\"keyword\">package</span><span> com.wikieno.adapter;&#160;&#160; </span></span>\n2.  <span>&#160; </span>\n3.  <span></span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">class</span><span> Application {&#160;&#160; </span></span>\n4.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">static</span><span>&#160;</span><span class=\"keyword\">void</span><span> main(String[] args) {&#160;&#160; </span></span>\n5.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; IBasicInfo basicInfo = </span><span class=\"keyword\">new</span><span> BasicInfo();&#160;&#160; </span></span>\n6.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; IEducationInfo educationInfo = </span><span class=\"keyword\">new</span><span> EducationInfo();&#160;&#160; </span></span>\n7.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; System.out.println(basicInfo.getBasicInfo());&#160;&#160; </span>\n8.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; System.out.println(educationInfo.getEducationInfo());&#160;&#160; </span>\n9.  <span>&#160;&#160;&#160; }&#160;&#160; </span>\n10.  <span>}&#160;&#160; </span>           </div>         </td>       </tr>     </tbody></table> \n\n    <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>       <tr>         <td valign=\"top\" width=\"568\">           <div class=\"dp-highlighter\">             <div class=\"bar\"></div>              \n\n1.  <span><span class=\"keyword\">package</span><span> com.wikieno.adapter;&#160;&#160; </span></span>\n2.  <span>&#160; </span>\n3.  <span></span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">class</span><span> Application {&#160;&#160; </span></span>\n4.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">static</span><span>&#160;</span><span class=\"keyword\">void</span><span> main(String[] args) {&#160;&#160; </span></span>\n5.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; IBasicInfo basicInfo = </span><span class=\"keyword\">new</span><span> BasicInfo();&#160;&#160; </span></span>\n6.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; IEducationInfo educationInfo = </span><span class=\"keyword\">new</span><span> EducationInfo();&#160;&#160; </span></span>\n7.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; System.out.println(basicInfo.getBasicInfo());&#160;&#160; </span>\n8.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; System.out.println(educationInfo.getEducationInfo());&#160;&#160; </span>\n9.  <span>&#160;&#160;&#160; }&#160;&#160; </span>\n10.  <span>}&#160;&#160; </span>           </div>         </td>       </tr>     </tbody></table> \n\n    <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>       <tr>         <td valign=\"top\" width=\"568\">           <div class=\"dp-highlighter\">             <div class=\"bar\"></div>              \n\n1.  <span><span class=\"keyword\">package</span><span> com.wikieno.adapter;&#160;&#160; </span></span>2.  <span>&#160; </span>3.  <span></span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">class</span><span> Application {&#160;&#160; </span></span>4.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">static</span><span>&#160;</span><span class=\"keyword\">void</span><span> main(String[] args) {&#160;&#160; </span></span>5.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; IInfoAdapter infoAdapter = </span><span class=\"keyword\">new</span><span> InfoAdapter();&#160;&#160; </span></span>6.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; System.out.println(infoAdapter.getInfo());&#160;&#160; </span>7.  <span>&#160;&#160;&#160; }&#160;&#160; </span>8.  <span>}&#160;&#160; </span>           </div>         </td>       </tr>     </tbody></table> \n\nIInfo\n\n\n\n**1 ******\n\n\n\n**2 ******\n\n\n\n**3 ******\n\n","source":"_posts/design-pattern-adapter.md","raw":"title:  - \ntags:\n  - \nid: 238\ncategories:\n  - \ndate: 2011-12-26 22:31:00\n---\n\n**GOF******\n\n_Convert the interface of a class into another interface clients expect. Adapter lets classed work together thar couldnt otherwise because of incompatible interfaces. _\n\n__\n <!--more-->  \n\n110V330V\n\nAndroid\n\nIBasicInfoIEducationInfo    <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>       <tr>         <td valign=\"top\" width=\"568\">           <div class=\"dp-highlighter\">             <div class=\"bar\"></div>              \n\n1.  <span><span class=\"keyword\">package</span><span> com.wikieno.adapter;&#160;&#160; </span></span>\n2.  <span>&#160; </span>\n3.  <span></span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">class</span><span> BasicInfo </span><span class=\"keyword\">implements</span><span> IBasicInfo {&#160;&#160; </span></span>\n4.  <span>&#160; </span>\n5.  <span>&#160;&#160;&#160; </span><span class=\"comment\">/** </span>&#160;</span>6.  <span><span class=\"comment\">&#160;&#160;&#160;&#160; *  </span>&#160;</span>7.  <span><span class=\"comment\">&#160;&#160;&#160;&#160; */</span><span>&#160; </span></span>\n8.  <span>&#160;&#160;&#160; </span><span class=\"annotation\">@Override</span><span>&#160; </span></span>\n9.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span> Map&lt;String, String&gt; getBasicInfo() {&#160;&#160; </span></span>\n10.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; Map&lt;String, String&gt; map = </span><span class=\"keyword\">new</span><span> HashMap&lt;String, String&gt;();&#160;&#160; </span></span>\n11.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; map.put(</span><span class=\"string\">&quot;Name&quot;</span><span>, </span><span class=\"string\">&quot;Wikie&quot;</span><span>);&#160;&#160; </span></span>\n12.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; map.put(</span><span class=\"string\">&quot;Gender&quot;</span><span>, </span><span class=\"string\">&quot;male&quot;</span><span>);&#160;&#160; </span></span>\n13.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">return</span><span> map;&#160;&#160; </span></span>\n14.  <span>&#160;&#160;&#160; }&#160;&#160; </span>\n15.  <span>}&#160;&#160; </span>           </div>         </td>       </tr>        <tr>         <td valign=\"top\" width=\"568\">           <div class=\"dp-highlighter\">             <div class=\"bar\"></div>              \n\n1.  <span><span class=\"keyword\">package</span><span> com.wikieno.adapter;&#160;&#160; </span></span>\n2.  <span>&#160; </span>\n3.  <span></span><span class=\"keyword\">import</span><span> java.util.HashMap;&#160;&#160; </span></span>\n4.  <span></span><span class=\"keyword\">import</span><span> java.util.Map;&#160;&#160; </span></span>\n5.  <span>&#160; </span>\n6.  <span></span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">class</span><span> EducationInfo </span><span class=\"keyword\">implements</span><span> IEducationInfo {&#160;&#160; </span></span>\n7.  <span>&#160; </span>\n8.  <span>&#160;&#160;&#160; </span><span class=\"comment\">/** </span>&#160;</span>9.  <span><span class=\"comment\">&#160;&#160;&#160;&#160; *  </span>&#160;</span>10.  <span><span class=\"comment\">&#160;&#160;&#160;&#160; */</span><span>&#160; </span></span>\n11.  <span>&#160;&#160;&#160; </span><span class=\"annotation\">@Override</span><span>&#160; </span></span>\n12.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span> Map&lt;String, String&gt; getEducationInfo() {&#160;&#160; </span></span>\n13.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; Map&lt;String, String&gt; map = </span><span class=\"keyword\">new</span><span> HashMap&lt;String, String&gt;();&#160;&#160; </span></span>\n14.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; map.put(</span><span class=\"string\">&quot;Master&quot;</span><span>, </span><span class=\"string\">&quot;BUAA&quot;</span><span>);&#160;&#160; </span></span>\n15.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; map.put(</span><span class=\"string\">&quot;Major&quot;</span><span>, </span><span class=\"string\">&quot;Software Engineering&quot;</span><span>);&#160;&#160; </span></span>\n16.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class=\"keyword\">return</span><span> map;&#160;&#160; </span></span>\n17.  <span>&#160;&#160;&#160; }&#160;&#160; </span>\n18.  <span>}&#160;&#160; </span>           </div>         </td>       </tr>     </tbody></table> \n\n    <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>       <tr>         <td valign=\"top\" width=\"568\">           <div class=\"dp-highlighter\">             <div class=\"bar\"></div>              \n\n1.  <span><span class=\"keyword\">package</span><span> com.wikieno.adapter;&#160;&#160; </span></span>\n2.  <span>&#160; </span>\n3.  <span></span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">class</span><span> Application {&#160;&#160; </span></span>\n4.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">static</span><span>&#160;</span><span class=\"keyword\">void</span><span> main(String[] args) {&#160;&#160; </span></span>\n5.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; IBasicInfo basicInfo = </span><span class=\"keyword\">new</span><span> BasicInfo();&#160;&#160; </span></span>\n6.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; IEducationInfo educationInfo = </span><span class=\"keyword\">new</span><span> EducationInfo();&#160;&#160; </span></span>\n7.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; System.out.println(basicInfo.getBasicInfo());&#160;&#160; </span>\n8.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; System.out.println(educationInfo.getEducationInfo());&#160;&#160; </span>\n9.  <span>&#160;&#160;&#160; }&#160;&#160; </span>\n10.  <span>}&#160;&#160; </span>           </div>         </td>       </tr>     </tbody></table> \n\n    <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>       <tr>         <td valign=\"top\" width=\"568\">           <div class=\"dp-highlighter\">             <div class=\"bar\"></div>              \n\n1.  <span><span class=\"keyword\">package</span><span> com.wikieno.adapter;&#160;&#160; </span></span>\n2.  <span>&#160; </span>\n3.  <span></span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">class</span><span> Application {&#160;&#160; </span></span>\n4.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">static</span><span>&#160;</span><span class=\"keyword\">void</span><span> main(String[] args) {&#160;&#160; </span></span>\n5.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; IBasicInfo basicInfo = </span><span class=\"keyword\">new</span><span> BasicInfo();&#160;&#160; </span></span>\n6.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; IEducationInfo educationInfo = </span><span class=\"keyword\">new</span><span> EducationInfo();&#160;&#160; </span></span>\n7.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; System.out.println(basicInfo.getBasicInfo());&#160;&#160; </span>\n8.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; System.out.println(educationInfo.getEducationInfo());&#160;&#160; </span>\n9.  <span>&#160;&#160;&#160; }&#160;&#160; </span>\n10.  <span>}&#160;&#160; </span>           </div>         </td>       </tr>     </tbody></table> \n\n    <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>       <tr>         <td valign=\"top\" width=\"568\">           <div class=\"dp-highlighter\">             <div class=\"bar\"></div>              \n\n1.  <span><span class=\"keyword\">package</span><span> com.wikieno.adapter;&#160;&#160; </span></span>2.  <span>&#160; </span>3.  <span></span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">class</span><span> Application {&#160;&#160; </span></span>4.  <span>&#160;&#160;&#160; </span><span class=\"keyword\">public</span><span>&#160;</span><span class=\"keyword\">static</span><span>&#160;</span><span class=\"keyword\">void</span><span> main(String[] args) {&#160;&#160; </span></span>5.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; IInfoAdapter infoAdapter = </span><span class=\"keyword\">new</span><span> InfoAdapter();&#160;&#160; </span></span>6.  <span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; System.out.println(infoAdapter.getInfo());&#160;&#160; </span>7.  <span>&#160;&#160;&#160; }&#160;&#160; </span>8.  <span>}&#160;&#160; </span>           </div>         </td>       </tr>     </tbody></table> \n\nIInfo\n\n\n\n**1 ******\n\n\n\n**2 ******\n\n\n\n**3 ******\n\n","slug":"design-pattern-adapter","published":1,"updated":"2015-12-29T13:31:03.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciirfw72t00a1sv8f1f3gc36b"},{"title":" - SkipLists","id":"460","date":"2012-03-09T13:13:11.000Z","_content":"\n**1******\n\nAVL\n  <!--more-->\n\nSkipListsSkipListWilliam Pugh\n  > _Skip lists are a data structure that can be used in place of balanced trees. Skip lists use probabilistic balancing rather than strictly enforced balancing and as a result the algorithms for insertion and deletion in skip lists are much simpler and significantly faster than equivalent algorithms for balanced trees.(1990)_  \n\nSkipListsSkipList\n\n**2****SkipLists**\n\n[![image](http://www.hongweiyi.com/wp-content/uploads/2012/03/image_thumb4.png \"image\")](http://www.hongweiyi.com/wp-content/uploads/2012/03/image4.png) CopyO(n)\n\n[![image](http://www.hongweiyi.com/wp-content/uploads/2012/03/image_thumb5.png \"image\")](http://www.hongweiyi.com/wp-content/uploads/2012/03/image5.png) O(n/2)\n\n\n\n**3******\n\n1\n\n2\n\n3Top\n\n423\n\n\n\n[![clip_image006](http://www.hongweiyi.com/wp-content/uploads/2012/03/clip_image006_thumb.jpg \"clip_image006\")](http://www.hongweiyi.com/wp-content/uploads/2012/03/clip_image006.jpg)\n\n**4******\n\n1SkipListLevel\n\n2SkipList\n\n3\n\n4Xi&lt;iX\n\n5Top\n\n6idown\n\n7\n\n**5******\n\n**1******\n\n    <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>       <tr>         <td valign=\"top\" width=\"568\">           <p>randomLevel()\n\n&#160;&#160;&#160; lvl := 1\n\n_&#160;&#160;&#160; -- random_() _that returns a random value in _[0...1)\n\n**&#160;&#160;&#160; while **random() &lt; p **and **lvl &lt; MaxLevel **do**\n\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; lvl := lvl + 1\n\n**&#160;&#160;&#160; return **lvl\n         </td>       </tr>     </tbody></table> </p>  \n\np0.5i0.5^i\n\n**2******\n\nSkipListsTopNULLO(logn)\n\n**3******\n\nupdateupdate\n\nO(logn)\n\n**4******\n\nO(logn)\n  > \n> \n> William Pugh[Skip lists: a probabilistic alternative to balanced trees](http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.85.9211&amp;rep=rep1&amp;type=pdf)\n> \n> [www.cnblogs.com/xuqiang/archive/2011/05/22/2053516.html](http://www.cnblogs.com/xuqiang/archive/2011/05/22/2053516.html)","source":"_posts/data-structure-skiplists.md","raw":"title:  - SkipLists\ntags:\n  - \nid: 460\ncategories:\n  - \ndate: 2012-03-09 21:13:11\n---\n\n**1******\n\nAVL\n  <!--more-->\n\nSkipListsSkipListWilliam Pugh\n  > _Skip lists are a data structure that can be used in place of balanced trees. Skip lists use probabilistic balancing rather than strictly enforced balancing and as a result the algorithms for insertion and deletion in skip lists are much simpler and significantly faster than equivalent algorithms for balanced trees.(1990)_  \n\nSkipListsSkipList\n\n**2****SkipLists**\n\n[![image](http://www.hongweiyi.com/wp-content/uploads/2012/03/image_thumb4.png \"image\")](http://www.hongweiyi.com/wp-content/uploads/2012/03/image4.png) CopyO(n)\n\n[![image](http://www.hongweiyi.com/wp-content/uploads/2012/03/image_thumb5.png \"image\")](http://www.hongweiyi.com/wp-content/uploads/2012/03/image5.png) O(n/2)\n\n\n\n**3******\n\n1\n\n2\n\n3Top\n\n423\n\n\n\n[![clip_image006](http://www.hongweiyi.com/wp-content/uploads/2012/03/clip_image006_thumb.jpg \"clip_image006\")](http://www.hongweiyi.com/wp-content/uploads/2012/03/clip_image006.jpg)\n\n**4******\n\n1SkipListLevel\n\n2SkipList\n\n3\n\n4Xi&lt;iX\n\n5Top\n\n6idown\n\n7\n\n**5******\n\n**1******\n\n    <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>       <tr>         <td valign=\"top\" width=\"568\">           <p>randomLevel()\n\n&#160;&#160;&#160; lvl := 1\n\n_&#160;&#160;&#160; -- random_() _that returns a random value in _[0...1)\n\n**&#160;&#160;&#160; while **random() &lt; p **and **lvl &lt; MaxLevel **do**\n\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; lvl := lvl + 1\n\n**&#160;&#160;&#160; return **lvl\n         </td>       </tr>     </tbody></table> </p>  \n\np0.5i0.5^i\n\n**2******\n\nSkipListsTopNULLO(logn)\n\n**3******\n\nupdateupdate\n\nO(logn)\n\n**4******\n\nO(logn)\n  > \n> \n> William Pugh[Skip lists: a probabilistic alternative to balanced trees](http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.85.9211&amp;rep=rep1&amp;type=pdf)\n> \n> [www.cnblogs.com/xuqiang/archive/2011/05/22/2053516.html](http://www.cnblogs.com/xuqiang/archive/2011/05/22/2053516.html)","slug":"data-structure-skiplists","published":1,"updated":"2015-12-29T13:31:03.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciirfw72u00a4sv8fhtrfnfju"},{"title":" - ","id":"477","date":"2012-03-16T14:45:30.000Z","_content":"\n**1******\n\nndisjointfindunionDisjoint-Set or Union-find set\n  <!--more-->\n\niwom\n\n**2******\n\n\n\n**Union-Set(x, y)**\n\n**Find-Set(x)**\n\n\n\n**Make-Set(x)**x\n\n**3******\n\n{1, 3, 7}{4}{2, 5, 9, 10}{6, 8}\n\n**1**\n\n{**1**, 3, 7}{**4**}{**2**, 5, 9, 10}{**6**, 8}\n\n**2set[1...n]set[i]i**\n\n[![clip_image002](http://www.hongweiyi.com/wp-content/uploads/2012/03/clip_image002_thumb.jpg \"clip_image002\")](http://www.hongweiyi.com/wp-content/uploads/2012/03/clip_image002.jpg)\n\n**3find**    <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>       <tr>         <td valign=\"top\" width=\"568\">           <p>find(x):\n\n&#160;&#160;&#160;&#160; return set[x];\n         </td>       </tr>     </tbody></table> </p>  \n\n**4Union**    <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>       <tr>         <td valign=\"top\" width=\"568\">           <p>union(x, y):\n\n&#160;&#160;&#160; for k in [0, n): // \n\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; if (set[k] == find(a)):\n\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set[k] := find(b);\n         </td>       </tr>     </tbody></table> </p>  \n\n**4******\n\nfindO(1)UnionO(n)\n\n&#160;\n\n**5******\n\n**1**\n\n\n\nfindO(1)O(n)\n\n**2**\n\n\n\n\n\na. Make-Set\n\nb. Find-SetO(n)\n\nc. Union-SetO(n)\n\n[![clip_image003](http://www.hongweiyi.com/wp-content/uploads/2012/03/clip_image003_thumb.jpg \"clip_image003\")](http://www.hongweiyi.com/wp-content/uploads/2012/03/clip_image003.jpg)\n\n\n\n**a. ****union by rank**\n\nRank\n\n**b. ******\n\n**[![clip_image005](http://www.hongweiyi.com/wp-content/uploads/2012/03/clip_image005_thumb.jpg \"clip_image005\")](http://www.hongweiyi.com/wp-content/uploads/2012/03/clip_image005.jpg)**\n\n\n\n&#160;\n\n**6******\n\nUnion-SetFind-Set\n\nO(N)O(1) NMO(M Alpha(N))AlphaAckerman10804&lt;&gt;\n\nLCA\n\n&#160;\n  > \n> \n> &lt;&gt;\n> \n> [](http://dongxicheng.org/structure/union-find-set/)","source":"_posts/data-structure-disjoint-set.md","raw":"title:  - \ntags:\n  - \nid: 477\ncategories:\n  - \ndate: 2012-03-16 22:45:30\n---\n\n**1******\n\nndisjointfindunionDisjoint-Set or Union-find set\n  <!--more-->\n\niwom\n\n**2******\n\n\n\n**Union-Set(x, y)**\n\n**Find-Set(x)**\n\n\n\n**Make-Set(x)**x\n\n**3******\n\n{1, 3, 7}{4}{2, 5, 9, 10}{6, 8}\n\n**1**\n\n{**1**, 3, 7}{**4**}{**2**, 5, 9, 10}{**6**, 8}\n\n**2set[1...n]set[i]i**\n\n[![clip_image002](http://www.hongweiyi.com/wp-content/uploads/2012/03/clip_image002_thumb.jpg \"clip_image002\")](http://www.hongweiyi.com/wp-content/uploads/2012/03/clip_image002.jpg)\n\n**3find**    <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>       <tr>         <td valign=\"top\" width=\"568\">           <p>find(x):\n\n&#160;&#160;&#160;&#160; return set[x];\n         </td>       </tr>     </tbody></table> </p>  \n\n**4Union**    <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>       <tr>         <td valign=\"top\" width=\"568\">           <p>union(x, y):\n\n&#160;&#160;&#160; for k in [0, n): // \n\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; if (set[k] == find(a)):\n\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set[k] := find(b);\n         </td>       </tr>     </tbody></table> </p>  \n\n**4******\n\nfindO(1)UnionO(n)\n\n&#160;\n\n**5******\n\n**1**\n\n\n\nfindO(1)O(n)\n\n**2**\n\n\n\n\n\na. Make-Set\n\nb. Find-SetO(n)\n\nc. Union-SetO(n)\n\n[![clip_image003](http://www.hongweiyi.com/wp-content/uploads/2012/03/clip_image003_thumb.jpg \"clip_image003\")](http://www.hongweiyi.com/wp-content/uploads/2012/03/clip_image003.jpg)\n\n\n\n**a. ****union by rank**\n\nRank\n\n**b. ******\n\n**[![clip_image005](http://www.hongweiyi.com/wp-content/uploads/2012/03/clip_image005_thumb.jpg \"clip_image005\")](http://www.hongweiyi.com/wp-content/uploads/2012/03/clip_image005.jpg)**\n\n\n\n&#160;\n\n**6******\n\nUnion-SetFind-Set\n\nO(N)O(1) NMO(M Alpha(N))AlphaAckerman10804&lt;&gt;\n\nLCA\n\n&#160;\n  > \n> \n> &lt;&gt;\n> \n> [](http://dongxicheng.org/structure/union-find-set/)","slug":"data-structure-disjoint-set","published":1,"updated":"2015-12-29T13:31:03.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciirfw72w00a7sv8fatt6e8l1"},{"title":" - BitMap","id":"422","date":"2012-03-05T13:37:49.000Z","_content":"\n**1****Bit-Map**\n\nBit-Map.BMPMapBit-MapHashBit-MapBitvalue\n  <!--more-->\n\n(1,2,5,8,10)\n\nint[] array = {1, 2, 5, 8, 10}\n\n452010,000,0004G\n\nBit-Map\n\nbyte[] bytes = new bytes[2];\n\nbytes[0] = 01100100; // \n\nbytes[1] = 10100000;\n\n**2****Bit-Map**\n\nBit-MapBit-Map\n\n**1******\n\nBit-Mapbyte/intBit0\n\n[![image](http://www.hongweiyi.com/wp-content/uploads/2012/03/image_thumb2.png \"image\")](http://www.hongweiyi.com/wp-content/uploads/2012/03/image2.png) \n\n**2****Bit-Map**\n\narray{1, 2, 5, 8, 10}Bit-MapBit-MapHashkeyarray[i]/8valuebytearray[i]%8hash   <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>       <tr>         <td valign=\"top\" width=\"568\">           <p>Byte: MASK = 0X07; SHIFT = 3; Integer: MASK = 0X1F; SHIFT = 5; \n\n// i&gt;&gt; SHIFT =&gt; i/8; i &amp; MASK =&gt; i%8\n\nset(i): array[i&gt;&gt;SHITF] |= (1 &lt;&lt; (i &amp; MASK);\n\n// return 0: not exist\n\nisExist(i) : return array[i&gt;&gt;SHIFT] &amp; (1 &lt;&lt; (i &amp; MASK);\n         </td>       </tr>     </tbody></table> </p>  \n\n\n\n[![image](http://www.hongweiyi.com/wp-content/uploads/2012/03/image_thumb3.png \"image\")](http://www.hongweiyi.com/wp-content/uploads/2012/03/image3.png) \n\n**3****Bit-Map**\n\nBit-MapBit-Map\n\n10,000,000Integer4GBit-Map125MB{1,2 99999}\n\nbytecopy\n\n**1)****8**\n\n899 999 99999mbit10m0-99 999 999Bit99MBit==1.2MBytes1.2M8\n\n**2)2.5****2.5**\n\nbit-map2bit0122011222bitbit-map2bit-map\n  > \n> \n> [Bit-map](http://blog.redfox66.com/post/2010/09/26/mass-data-4-bitmap.aspx)","source":"_posts/data-structure-bitmap.md","raw":"title:  - BitMap\ntags:\n  - \nid: 422\ncategories:\n  - \ndate: 2012-03-05 21:37:49\n---\n\n**1****Bit-Map**\n\nBit-Map.BMPMapBit-MapHashBit-MapBitvalue\n  <!--more-->\n\n(1,2,5,8,10)\n\nint[] array = {1, 2, 5, 8, 10}\n\n452010,000,0004G\n\nBit-Map\n\nbyte[] bytes = new bytes[2];\n\nbytes[0] = 01100100; // \n\nbytes[1] = 10100000;\n\n**2****Bit-Map**\n\nBit-MapBit-Map\n\n**1******\n\nBit-Mapbyte/intBit0\n\n[![image](http://www.hongweiyi.com/wp-content/uploads/2012/03/image_thumb2.png \"image\")](http://www.hongweiyi.com/wp-content/uploads/2012/03/image2.png) \n\n**2****Bit-Map**\n\narray{1, 2, 5, 8, 10}Bit-MapBit-MapHashkeyarray[i]/8valuebytearray[i]%8hash   <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>       <tr>         <td valign=\"top\" width=\"568\">           <p>Byte: MASK = 0X07; SHIFT = 3; Integer: MASK = 0X1F; SHIFT = 5; \n\n// i&gt;&gt; SHIFT =&gt; i/8; i &amp; MASK =&gt; i%8\n\nset(i): array[i&gt;&gt;SHITF] |= (1 &lt;&lt; (i &amp; MASK);\n\n// return 0: not exist\n\nisExist(i) : return array[i&gt;&gt;SHIFT] &amp; (1 &lt;&lt; (i &amp; MASK);\n         </td>       </tr>     </tbody></table> </p>  \n\n\n\n[![image](http://www.hongweiyi.com/wp-content/uploads/2012/03/image_thumb3.png \"image\")](http://www.hongweiyi.com/wp-content/uploads/2012/03/image3.png) \n\n**3****Bit-Map**\n\nBit-MapBit-Map\n\n10,000,000Integer4GBit-Map125MB{1,2 99999}\n\nbytecopy\n\n**1)****8**\n\n899 999 99999mbit10m0-99 999 999Bit99MBit==1.2MBytes1.2M8\n\n**2)2.5****2.5**\n\nbit-map2bit0122011222bitbit-map2bit-map\n  > \n> \n> [Bit-map](http://blog.redfox66.com/post/2010/09/26/mass-data-4-bitmap.aspx)","slug":"data-structure-bitmap","published":1,"updated":"2015-12-29T13:31:03.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciirfw72y00aasv8fc5yfvq26"},{"title":"CSS ","date":"2015-08-29T16:03:00.000Z","_content":"\n##  (Pseudo-elements)\n\n### \n\n* `:before`\n* `:after`\n* `:first-child`\n* `:last-child`\n\n### \n\n* [JsFiddle](https://jsfiddle.net/pg4kpc3k/)\n\n*  clearfix[JsFiddle](https://jsfiddle.net/hy4av6eu/)\n\n* first-child & last-child  ul li  \n\n\n## \n\n\n\n* [ - JsFiddle](https://jsfiddle.net/j94nvngo/)\n\n\n## ...","source":"_posts/css-practice.md","raw":"title: CSS \ndate: 2015-08-30 00:03:00\ncategories: \ntags: [CSS, Frontend]\n---\n\n##  (Pseudo-elements)\n\n### \n\n* `:before`\n* `:after`\n* `:first-child`\n* `:last-child`\n\n### \n\n* [JsFiddle](https://jsfiddle.net/pg4kpc3k/)\n\n*  clearfix[JsFiddle](https://jsfiddle.net/hy4av6eu/)\n\n* first-child & last-child  ul li  \n\n\n## \n\n\n\n* [ - JsFiddle](https://jsfiddle.net/j94nvngo/)\n\n\n## ...","slug":"css-practice","published":1,"updated":"2015-12-29T13:30:15.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciirfw72z00adsv8fgbdkk3h1"},{"title":"EclipseSolr","id":"735","date":"2013-03-19T16:06:01.000Z","_content":"\n**1.** solrsrc\n\n\t&nbsp;\n\n\t**2.** ant eclipseeclipse\n\n\teclipseFile &gt; Import &gt; Existing Projects into Workspace\n\n\tjava build path\n\n<!--more-->\n\n\t&nbsp;\n\n\t**3.** Open Type(Ctrl+Shift+T)StartSolrJetty mainsetPort8983ContextPath,War\n\n> War&rdquo;solr/webapp/web/&rdquo;\n\n\t\n\n[code lang=\"java\"]\nServer server = new Server();\nSocketConnector connector = new SocketConnector();\n// Set some timeout options to make debugging easier.\nconnector.setMaxIdleTime(1000 * 60 * 60);\nconnector.setSoLingerTime(-1);\nconnector.setPort(8983); // HWY: MODI\nserver.setConnectors(new Connector[] { connector });\nWebAppContext bb = new WebAppContext();\nbb.setServer(server);\nbb.setContextPath(&quot;/solr&quot;); // HWY: MODI\nbb.setWar(&quot;solr/webapp/web&quot;); // HWY: MODI [/code]\n\n\t&nbsp;\n\n\t**4.** solr.solr.homerun\n\n\trun configureArguments &gt; VM arguments\n\n> -Dsolr.solr.home=your/path/of/example/solr\n\n\t\n\n> System.setProperty(&quot;solr.solr.home&quot;, &quot;your/path/of/example/solr&quot;);\n\n\tsolrexamplesoldsolrrunSolrdebug\n\n\t&nbsp;\n\n\t5\\. [http://localhost:8983/solr](http://localhost:8983/solr)Solr Admin\n\n\t&nbsp;\n\n> ****[http://t.cn/zYduXSq](http://www.zwsun.com/solr_in_eclipse_2012_06_10_post)\r> \n> \n> \t\t**BTW **lucene[http://t.cn/zYDUP9j](http://archive.apache.org/dist/lucene/)","source":"_posts/configurate-solr-src-in-eclipse.md","raw":"title: EclipseSolr\ntags:\n  - Eclipse\n  - java\n  - Solr\nid: 735\ncategories:\n  - \ndate: 2013-03-20 00:06:01\n---\n\n**1.** solrsrc\n\n\t&nbsp;\n\n\t**2.** ant eclipseeclipse\n\n\teclipseFile &gt; Import &gt; Existing Projects into Workspace\n\n\tjava build path\n\n<!--more-->\n\n\t&nbsp;\n\n\t**3.** Open Type(Ctrl+Shift+T)StartSolrJetty mainsetPort8983ContextPath,War\n\n> War&rdquo;solr/webapp/web/&rdquo;\n\n\t\n\n[code lang=\"java\"]\nServer server = new Server();\nSocketConnector connector = new SocketConnector();\n// Set some timeout options to make debugging easier.\nconnector.setMaxIdleTime(1000 * 60 * 60);\nconnector.setSoLingerTime(-1);\nconnector.setPort(8983); // HWY: MODI\nserver.setConnectors(new Connector[] { connector });\nWebAppContext bb = new WebAppContext();\nbb.setServer(server);\nbb.setContextPath(&quot;/solr&quot;); // HWY: MODI\nbb.setWar(&quot;solr/webapp/web&quot;); // HWY: MODI [/code]\n\n\t&nbsp;\n\n\t**4.** solr.solr.homerun\n\n\trun configureArguments &gt; VM arguments\n\n> -Dsolr.solr.home=your/path/of/example/solr\n\n\t\n\n> System.setProperty(&quot;solr.solr.home&quot;, &quot;your/path/of/example/solr&quot;);\n\n\tsolrexamplesoldsolrrunSolrdebug\n\n\t&nbsp;\n\n\t5\\. [http://localhost:8983/solr](http://localhost:8983/solr)Solr Admin\n\n\t&nbsp;\n\n> ****[http://t.cn/zYduXSq](http://www.zwsun.com/solr_in_eclipse_2012_06_10_post)\r> \n> \n> \t\t**BTW **lucene[http://t.cn/zYDUP9j](http://archive.apache.org/dist/lucene/)","slug":"configurate-solr-src-in-eclipse","published":1,"updated":"2015-12-29T13:31:03.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciirfw73100ajsv8fhyfwnwfy"},{"title":"","id":"83","date":"2011-02-12T14:12:10.000Z","_content":"\n\n> \r> \n> \n> i3i5320G500G512M1G\r> \n> \n> \r> \n> \n> \n\n\n<!--more-->**1**\n\n3Ki65008K25006500Thinkpad\n\n**2**\n\nQQPPSpPhotoshop10ps\n\n3D4K5K-6K3D5K3D6K+Alienware512M3D\n\n**3**\n\n12\n\n****\n\n****100-200\n\n****\n\n****\n\n**P.S.: ^_^**","source":"_posts/buying-laptop.md","raw":"title: \ntags:\n  - \nid: 83\ncategories:\n  - \ndate: 2011-02-12 22:12:10\n---\n\n\n> \r> \n> \n> i3i5320G500G512M1G\r> \n> \n> \r> \n> \n> \n\n\n<!--more-->**1**\n\n3Ki65008K25006500Thinkpad\n\n**2**\n\nQQPPSpPhotoshop10ps\n\n3D4K5K-6K3D5K3D6K+Alienware512M3D\n\n**3**\n\n12\n\n****\n\n****100-200\n\n****\n\n****\n\n**P.S.: ^_^**","slug":"buying-laptop","published":1,"updated":"2015-12-29T13:31:03.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciirfw73300aosv8f29js8hpk"},{"title":"Apache Solr  Facet Pivot","date":"2013-03-27T15:12:00.000Z","_content":"\n### 1\n\nSolr4.0facet.pivotpivot[Apache Solr  Facet](http://hongweiyi.com/2013/03/apache-solr-facet-introduction/) PivotSolr\n\n<!--more-->\n\n### 2Pivot\n\n> `http://...?q=*:*&facet=true&&facet.field=province&facet.field=city&facet.pivot=province,city&wt=json`\n\n#### 2.1 pivots\n\n> e.g.: [\"province,city\", ]\n\n#### 2.2 pivotsPivotFacetHelper\n\n``` java\n// FacetComponent.java -> process\n// e.g.: [\"province,city\"]\nString[] pivots = params.getParams(FacetParams.FACET_PIVOT);\nif (pivots != null && pivots.length > 0) {\n\tPivotFacetHelper pivotHelper = new PivotFacetHelper(rb.req,\n\t\t\t\t\t\trb.getResults().docSet, params, rb);\n\t// process each pivots individually\n\tNamedList v = pivotHelper.process(pivots);\n\tif (v != null) {\n\t\tcounts.add(PIVOT_KEY, v);\n\t}\n}\n```\n\n#### 2.3 pivotfield > pivot: field subField fnames\n\n``` Java\n// PivotFacetHelper.java -> process\nfor (String pivot : pivots) {\n\t// \n\n\tString[] fields = pivot.split(\",\");\n\n\tif (fields.length < 2) {\n\t    throw new SolrException(ErrorCode.BAD_REQUEST,\n\t\t\t\"Pivot Facet needs at least two fields: \" + pivot);\n\t}\n\n\tString field = fields[0];\n\tString subField = fields[1];\n\n\t// the rest of fields\n\tDeque<String> fnames = new LinkedList<String>();\n\tfor (int i = fields.length - 1; i > 1; i--) {\n\t\tfnames.push(fields[i]);\n\t}\n\t// \n}\n```\n\n#### 2.4 fieldfacets\n\n``` java\n// PivotFacetHelper.java -> process\n// e.g.: field: province\n//        superFacets : [\"Jiangsu\", 4, \"Hunan\", 3, \"Guangdong\", 2, \"Beijing\", 1, \"Zhejiang\", 1]\nNamedList<Integer> superFacets = this.getTermCounts(field);\n```\n\n#### 2.5 pivotResult = doPivot(superFacets, field, subField, fnames, docs)\n\n``` java\n        // \n        // super.key usually == pivot unless local-param 'key' used\n        pivotResponse.add(key,\n        doPivots(superFacets, field, subField, fnames, base));\n\t}\n\treturn pivotResponse;\n}\n\n// PivotFacetHelper.java -> doPivots\nprotected List<NamedList<Object>> doPivots(NamedList<Integer> superFacets, String field, String subField, Deque<String> fnames, DocSet docs) throws IOException {\n\n\t// \n\t// facetfacetfacet\n    // [\"Jiangsu\", \"Hunan\", \"Guangdong\", \"Beijing\", \"Zhejiang\"]\n\tfor (Map.Entry<String, Integer> kv : superFacets) {\n\t\t// Only sub-facet if parent facet has positive count - still may not\n\t\t// be any values for the sub-field though\n\t\tif (kv.getValue() >= minMatch) {\n\n\t\t\t// \n\t\t\t// pivotfacetfieldvaluecount\n\t\t\tSimpleOrderedMap<Object> pivot = new SimpleOrderedMap<Object>();\n\t\t\tpivot.add(\"field\", field);\n\t\t\tif (null == fieldValue) {\n\t\t\t\tpivot.add(\"value\", null);\n\t\t\t} else {\n\t\t\t    // termvalfacetsfield\n                // e.g.: Jiangsu\n\t\t\t\ttermval = new BytesRef();\n\t\t\t\tftype.readableToIndexed(fieldValue, termval);\n\t\t\t\tpivot.add(\"value\", ftype.toObject(sfield, termval));\n\t\t\t}\n\t\t\tpivot.add(\"count\", kv.getValue());\n\n\t\t\t// subFieldfacetpivot\n\t\t\tif (subField == null) {\n\t\t\t\tvalues.add(pivot);\n\t\t\t// subField\n\t\t\t} else {\n\t\t\t    // subset: facetfield:value\n\t\t\t    // field:value -> province:Jiangsu\n\t\t\t\tDocSet subset = null;\n\n\t\t\t\tif (null == termval) {\n\t\t\t\t\tDocSet hasVal = searcher.getDocSet(new TermRangeQuery(\n\t\t\t\t\t\t\tfield, null, null, false, false));\n\t\t\t\t\tsubset = docs.andNot(hasVal);\n\t\t\t\t} else {\n\t\t\t\t\tString term = new String(new String(termval.bytes,\n\t\t\t\t\t\t\ttermval.offset, termval.length));\n\n\t\t\t\t\tQuery query = new TermQuery(new Term(field, term));\n\t\t\t\t\tsubset = searcher.getDocSet(query, docs);\n\t\t\t\t}\n\t\t\t\tsuper.docs = subset;// used by getTermCounts()\n\n                 // nl: docsfieldfacets\n                 // nlnext level\n                 // e.g.: subField: city\n                 //         nl: [Suzhou, 3, Nanjing, 1]\n\t\t\t\tNamedList<Integer> nl = this.getTermCounts(subField);\n\t\t\t\tif (nl.size() >= minMatch) {\n                     // \n\t\t\t\t\tpivot.add(\t\"pivot\",doPivots(nl, subField, nextField, fnames, subset));\n\t\t\t\t\tvalues.add(pivot); // only add response if there are\n\t\t\t\t\t\t\t\t\t\t\t// some counts\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t\t// put the field back on the list\n\tfnames.push(nextField);\n\treturn values;\n}\n```\n\n> facet\n\n### 3Pivot\n\n> solr4.0solr3.5\n\nPivotFacetHelper\n\n``` java\nIndex: core/src/java/org/apache/solr/handler/component/FacetComponent.java\n===================================================================\n--- core/src/java/org/apache/solr/handler/component/FacetComponent.java\t(Version unknown old)\n+++ core/src/java/org/apache/solr/handler/component/FacetComponent.java\t(Version unknown new)\n\n46a47,48\n> \tstatic final String PIVOT_KEY = \"facet_pivot\";\n>\n66c68,79\n<\n---\n> \t\t\tNamedList<Object> counts = f.getFacetCounts();\n> \t\t\t// e.g.: [\"province,city\"]\n> \t\t\tString[] pivots = params.getParams(FacetParams.FACET_PIVOT);\n> \t\t\tif (pivots != null && pivots.length > 0) {\n> \t\t\t\tPivotFacetHelper pivotHelper = new PivotFacetHelper(rb.req,\n> \t\t\t\t\t\trb.getResults().docSet, params, rb);\n> \t\t\t\t// process each pivots individually\n> \t\t\t\tNamedList v = pivotHelper.process(pivots);\n> \t\t\t\tif (v != null) {\n> \t\t\t\t\tcounts.add(PIVOT_KEY, v);\n> \t\t\t\t}\n> \t\t\t}\n68c81\n< \t\t\trb.rsp.add(\"facet_counts\", f.getFacetCounts());\n---\n> \t\t\trb.rsp.add(\"facet_counts\", counts);\n```\n\n``` java\nIndex: solrj/src/java/org/apache/solr/common/params/FacetParams.java\n===================================================================\n--- solrj/src/java/org/apache/solr/common/params/FacetParams.java\t(Version unknown old)\n+++ solrj/src/java/org/apache/solr/common/params/FacetParams.java\t(Version unknown new)\n\n92a93,98\n> \t/**\n> \t * Comma separated list of fields to pivot\n> \t *\n> \t * example: author,type (for types by author / types within author)\n> \t */\n> \tpublic static final String FACET_PIVOT = FACET + \".pivot\";\n94a101,106\n> \t * Minimum number of docs that need to match to be included in the sublist\n> \t *\n> \t * default value is 1\n> \t */\n> \tpublic static final String FACET_PIVOT_MINCOUNT = FACET_PIVOT + \".mincount\";\n> \t/**\n```\n\n``` java\nIndex: core/src/java/org/apache/solr/request/SimpleFacets.java\n===================================================================\n--- core/src/java/org/apache/solr/request/SimpleFacets.java\t(Version unknown old)\n+++ core/src/java/org/apache/solr/request/SimpleFacets.java\t(Version unknown new)\n\n74,76c74,77\n< \tString facetValue; // the field to or query to facet on (minus local params)\n< \tDocSet base; // the base docset for this particular facet\n< \tString key; // what name should the results be stored under\n---\n> \tprotected String facetValue; // the field to or query to facet on (minus\n> \t\t\t\t\t\t\t\t\t// local params)\n> \tprotected DocSet base; // the base docset for this particular facet\n> \tprotected String key; // what name should the results be stored under\n92,93c93,94\n< \tvoid parseParams(String type, String param) throws ParseException,\n< \t\t\tIOException {\n---\n> \tprotected void parseParams(String type, String param)\n> \t\t\tthrows ParseException, IOException {\n```\n\n```\nIndex: core/src/java/org/apache/solr/schema/FieldType.java\n===================================================================\n--- core/src/java/org/apache/solr/schema/FieldType.java\t(Version unknown old)\n+++ core/src/java/org/apache/solr/schema/FieldType.java\t(Version unknown new)\n394a399,411\n> \tpublic Object toObject(SchemaField sf, BytesRef term) {\n> \t\tfinal CharsRef ref = new CharsRef(term.length);\n> \t\tindexedToReadable(term, ref);\n> \t\tfinal Fieldable f =  createField(sf, ref.toString(), 1.0f);\n> \t\treturn toObject(f);\n> \t}\n>\n> \t/** Given an indexed term, append the human readable representation */\n> \tpublic CharsRef indexedToReadable(BytesRef input, CharsRef output) {\n> \t\tUnicodeUtil.UTF8toUTF16(input, output);\n> \t\treturn output;\n> \t}\n>\n418a436,441\n> \t/** Given the readable value, return the term value that will match it. */\n> \tpublic void readableToIndexed(CharSequence val, BytesRef result) {\n> \t\tfinal String internal = readableToIndexed(val.toString());\n> \t\tUnicodeUtil.UTF16toUTF8(internal, 0, internal.length(), result);\n> \t}\n>\n```\n\n```\nIndex: core/src/java/org/apache/solr/handler/component/PivotFacetHelper.java\n===================================================================\n--- core/src/java/org/apache/solr/handler/component/PivotFacetHelper.java\t(Version unknown old)\n+++ core/src/java/org/apache/solr/handler/component/PivotFacetHelper.java\t(Version unknown new)\n\n144c152,155\n<        Query query = new TermQuery(new Term(field, termval));\n---\n>        String term = new String(new String(termval.bytes,\n>                       termval.offset, termval.length));\n>\n>        Query query = new TermQuery(new Term(field, term));\n147,148c158,159\n<        super.docs = subset;// used by getTermCounts()\n<\n---\n>        super.base = subset;// used by getTermCounts()\n>\n```\n\n> patch\n\n> **WARNING**:\n>\n> 3.xSimpleFacetdocs/base4.xdocsOrig/docs\n\n> **WARNING**:\n>\n> BytesRef4.xTermBytesRefBytesRef.bytesString\n\n> **WARNING**:\n>\n>  </blockquote>\n","source":"_posts/apache-solr-facet-pivot-implementation-tranplant.md","raw":"title: Apache Solr  Facet Pivot\ndate: 2013-03-27 23:12:00\ncategories: \ntags: Solr\n---\n\n### 1\n\nSolr4.0facet.pivotpivot[Apache Solr  Facet](http://hongweiyi.com/2013/03/apache-solr-facet-introduction/) PivotSolr\n\n<!--more-->\n\n### 2Pivot\n\n> `http://...?q=*:*&facet=true&&facet.field=province&facet.field=city&facet.pivot=province,city&wt=json`\n\n#### 2.1 pivots\n\n> e.g.: [\"province,city\", ]\n\n#### 2.2 pivotsPivotFacetHelper\n\n``` java\n// FacetComponent.java -> process\n// e.g.: [\"province,city\"]\nString[] pivots = params.getParams(FacetParams.FACET_PIVOT);\nif (pivots != null && pivots.length > 0) {\n\tPivotFacetHelper pivotHelper = new PivotFacetHelper(rb.req,\n\t\t\t\t\t\trb.getResults().docSet, params, rb);\n\t// process each pivots individually\n\tNamedList v = pivotHelper.process(pivots);\n\tif (v != null) {\n\t\tcounts.add(PIVOT_KEY, v);\n\t}\n}\n```\n\n#### 2.3 pivotfield > pivot: field subField fnames\n\n``` Java\n// PivotFacetHelper.java -> process\nfor (String pivot : pivots) {\n\t// \n\n\tString[] fields = pivot.split(\",\");\n\n\tif (fields.length < 2) {\n\t    throw new SolrException(ErrorCode.BAD_REQUEST,\n\t\t\t\"Pivot Facet needs at least two fields: \" + pivot);\n\t}\n\n\tString field = fields[0];\n\tString subField = fields[1];\n\n\t// the rest of fields\n\tDeque<String> fnames = new LinkedList<String>();\n\tfor (int i = fields.length - 1; i > 1; i--) {\n\t\tfnames.push(fields[i]);\n\t}\n\t// \n}\n```\n\n#### 2.4 fieldfacets\n\n``` java\n// PivotFacetHelper.java -> process\n// e.g.: field: province\n//        superFacets : [\"Jiangsu\", 4, \"Hunan\", 3, \"Guangdong\", 2, \"Beijing\", 1, \"Zhejiang\", 1]\nNamedList<Integer> superFacets = this.getTermCounts(field);\n```\n\n#### 2.5 pivotResult = doPivot(superFacets, field, subField, fnames, docs)\n\n``` java\n        // \n        // super.key usually == pivot unless local-param 'key' used\n        pivotResponse.add(key,\n        doPivots(superFacets, field, subField, fnames, base));\n\t}\n\treturn pivotResponse;\n}\n\n// PivotFacetHelper.java -> doPivots\nprotected List<NamedList<Object>> doPivots(NamedList<Integer> superFacets, String field, String subField, Deque<String> fnames, DocSet docs) throws IOException {\n\n\t// \n\t// facetfacetfacet\n    // [\"Jiangsu\", \"Hunan\", \"Guangdong\", \"Beijing\", \"Zhejiang\"]\n\tfor (Map.Entry<String, Integer> kv : superFacets) {\n\t\t// Only sub-facet if parent facet has positive count - still may not\n\t\t// be any values for the sub-field though\n\t\tif (kv.getValue() >= minMatch) {\n\n\t\t\t// \n\t\t\t// pivotfacetfieldvaluecount\n\t\t\tSimpleOrderedMap<Object> pivot = new SimpleOrderedMap<Object>();\n\t\t\tpivot.add(\"field\", field);\n\t\t\tif (null == fieldValue) {\n\t\t\t\tpivot.add(\"value\", null);\n\t\t\t} else {\n\t\t\t    // termvalfacetsfield\n                // e.g.: Jiangsu\n\t\t\t\ttermval = new BytesRef();\n\t\t\t\tftype.readableToIndexed(fieldValue, termval);\n\t\t\t\tpivot.add(\"value\", ftype.toObject(sfield, termval));\n\t\t\t}\n\t\t\tpivot.add(\"count\", kv.getValue());\n\n\t\t\t// subFieldfacetpivot\n\t\t\tif (subField == null) {\n\t\t\t\tvalues.add(pivot);\n\t\t\t// subField\n\t\t\t} else {\n\t\t\t    // subset: facetfield:value\n\t\t\t    // field:value -> province:Jiangsu\n\t\t\t\tDocSet subset = null;\n\n\t\t\t\tif (null == termval) {\n\t\t\t\t\tDocSet hasVal = searcher.getDocSet(new TermRangeQuery(\n\t\t\t\t\t\t\tfield, null, null, false, false));\n\t\t\t\t\tsubset = docs.andNot(hasVal);\n\t\t\t\t} else {\n\t\t\t\t\tString term = new String(new String(termval.bytes,\n\t\t\t\t\t\t\ttermval.offset, termval.length));\n\n\t\t\t\t\tQuery query = new TermQuery(new Term(field, term));\n\t\t\t\t\tsubset = searcher.getDocSet(query, docs);\n\t\t\t\t}\n\t\t\t\tsuper.docs = subset;// used by getTermCounts()\n\n                 // nl: docsfieldfacets\n                 // nlnext level\n                 // e.g.: subField: city\n                 //         nl: [Suzhou, 3, Nanjing, 1]\n\t\t\t\tNamedList<Integer> nl = this.getTermCounts(subField);\n\t\t\t\tif (nl.size() >= minMatch) {\n                     // \n\t\t\t\t\tpivot.add(\t\"pivot\",doPivots(nl, subField, nextField, fnames, subset));\n\t\t\t\t\tvalues.add(pivot); // only add response if there are\n\t\t\t\t\t\t\t\t\t\t\t// some counts\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t\t// put the field back on the list\n\tfnames.push(nextField);\n\treturn values;\n}\n```\n\n> facet\n\n### 3Pivot\n\n> solr4.0solr3.5\n\nPivotFacetHelper\n\n``` java\nIndex: core/src/java/org/apache/solr/handler/component/FacetComponent.java\n===================================================================\n--- core/src/java/org/apache/solr/handler/component/FacetComponent.java\t(Version unknown old)\n+++ core/src/java/org/apache/solr/handler/component/FacetComponent.java\t(Version unknown new)\n\n46a47,48\n> \tstatic final String PIVOT_KEY = \"facet_pivot\";\n>\n66c68,79\n<\n---\n> \t\t\tNamedList<Object> counts = f.getFacetCounts();\n> \t\t\t// e.g.: [\"province,city\"]\n> \t\t\tString[] pivots = params.getParams(FacetParams.FACET_PIVOT);\n> \t\t\tif (pivots != null && pivots.length > 0) {\n> \t\t\t\tPivotFacetHelper pivotHelper = new PivotFacetHelper(rb.req,\n> \t\t\t\t\t\trb.getResults().docSet, params, rb);\n> \t\t\t\t// process each pivots individually\n> \t\t\t\tNamedList v = pivotHelper.process(pivots);\n> \t\t\t\tif (v != null) {\n> \t\t\t\t\tcounts.add(PIVOT_KEY, v);\n> \t\t\t\t}\n> \t\t\t}\n68c81\n< \t\t\trb.rsp.add(\"facet_counts\", f.getFacetCounts());\n---\n> \t\t\trb.rsp.add(\"facet_counts\", counts);\n```\n\n``` java\nIndex: solrj/src/java/org/apache/solr/common/params/FacetParams.java\n===================================================================\n--- solrj/src/java/org/apache/solr/common/params/FacetParams.java\t(Version unknown old)\n+++ solrj/src/java/org/apache/solr/common/params/FacetParams.java\t(Version unknown new)\n\n92a93,98\n> \t/**\n> \t * Comma separated list of fields to pivot\n> \t *\n> \t * example: author,type (for types by author / types within author)\n> \t */\n> \tpublic static final String FACET_PIVOT = FACET + \".pivot\";\n94a101,106\n> \t * Minimum number of docs that need to match to be included in the sublist\n> \t *\n> \t * default value is 1\n> \t */\n> \tpublic static final String FACET_PIVOT_MINCOUNT = FACET_PIVOT + \".mincount\";\n> \t/**\n```\n\n``` java\nIndex: core/src/java/org/apache/solr/request/SimpleFacets.java\n===================================================================\n--- core/src/java/org/apache/solr/request/SimpleFacets.java\t(Version unknown old)\n+++ core/src/java/org/apache/solr/request/SimpleFacets.java\t(Version unknown new)\n\n74,76c74,77\n< \tString facetValue; // the field to or query to facet on (minus local params)\n< \tDocSet base; // the base docset for this particular facet\n< \tString key; // what name should the results be stored under\n---\n> \tprotected String facetValue; // the field to or query to facet on (minus\n> \t\t\t\t\t\t\t\t\t// local params)\n> \tprotected DocSet base; // the base docset for this particular facet\n> \tprotected String key; // what name should the results be stored under\n92,93c93,94\n< \tvoid parseParams(String type, String param) throws ParseException,\n< \t\t\tIOException {\n---\n> \tprotected void parseParams(String type, String param)\n> \t\t\tthrows ParseException, IOException {\n```\n\n```\nIndex: core/src/java/org/apache/solr/schema/FieldType.java\n===================================================================\n--- core/src/java/org/apache/solr/schema/FieldType.java\t(Version unknown old)\n+++ core/src/java/org/apache/solr/schema/FieldType.java\t(Version unknown new)\n394a399,411\n> \tpublic Object toObject(SchemaField sf, BytesRef term) {\n> \t\tfinal CharsRef ref = new CharsRef(term.length);\n> \t\tindexedToReadable(term, ref);\n> \t\tfinal Fieldable f =  createField(sf, ref.toString(), 1.0f);\n> \t\treturn toObject(f);\n> \t}\n>\n> \t/** Given an indexed term, append the human readable representation */\n> \tpublic CharsRef indexedToReadable(BytesRef input, CharsRef output) {\n> \t\tUnicodeUtil.UTF8toUTF16(input, output);\n> \t\treturn output;\n> \t}\n>\n418a436,441\n> \t/** Given the readable value, return the term value that will match it. */\n> \tpublic void readableToIndexed(CharSequence val, BytesRef result) {\n> \t\tfinal String internal = readableToIndexed(val.toString());\n> \t\tUnicodeUtil.UTF16toUTF8(internal, 0, internal.length(), result);\n> \t}\n>\n```\n\n```\nIndex: core/src/java/org/apache/solr/handler/component/PivotFacetHelper.java\n===================================================================\n--- core/src/java/org/apache/solr/handler/component/PivotFacetHelper.java\t(Version unknown old)\n+++ core/src/java/org/apache/solr/handler/component/PivotFacetHelper.java\t(Version unknown new)\n\n144c152,155\n<        Query query = new TermQuery(new Term(field, termval));\n---\n>        String term = new String(new String(termval.bytes,\n>                       termval.offset, termval.length));\n>\n>        Query query = new TermQuery(new Term(field, term));\n147,148c158,159\n<        super.docs = subset;// used by getTermCounts()\n<\n---\n>        super.base = subset;// used by getTermCounts()\n>\n```\n\n> patch\n\n> **WARNING**:\n>\n> 3.xSimpleFacetdocs/base4.xdocsOrig/docs\n\n> **WARNING**:\n>\n> BytesRef4.xTermBytesRefBytesRef.bytesString\n\n> **WARNING**:\n>\n>  </blockquote>\n","slug":"apache-solr-facet-pivot-implementation-tranplant","published":1,"updated":"2015-12-29T13:30:15.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciirfw73500arsv8fwoq5gxej"},{"title":"Apache Solr  Facet","date":"2013-03-23T06:31:00.000Z","_content":"\n### 1Faceted Search\n\n`Facet['fst]`SolrYonik SeeleyGuided NavigationParamatic Search\n\n<!--more-->\n\n<center><div style=\"width: 80%;\">![facet-1](/images/facet-1.png)</div></center>\n\nFaceted SearchFacetAppleLenovoFacet valuesConstraintsFacet valuesFacet count/Constraint count\n\n### 2Facet\n> q = \nfacet = true\nfacet.field = \nfacet.field = \nfacet.field = \n> `http://.../select?q=&facet=true&wt=json&facet.field=&facet.field=&facet.field=`\n\n```\n\"facet_counts\": {\n\"facet_fields\": {\n  \"\": [\n    \"Apple\", 4,\n    \"Lenovo\", 39\n      ]\n  \"\": [\n    \"\", 42,\n    \"\", 38\n      ]\n\n  }}\n```\n\nfq(filter query)\n\n> q = \nfacet = true\nfq = :[8000 TO \\*]\nfacet.mincount = 1 // fqcount0\nfacet.field = \nfacet.field = \nfacet.field = </blockquote>\n> `http://.../select?q=&facet=true&wt=json&fq=:[8000 TO *]&facet.mincount=1&facet.field=&facet.field=&facet.field=\n\n``` json\n\"facet_counts\": {\n\"facet_fields\": {\n  \"\": [\n    \"Apple\", 4,\n    \"Lenovo\", 10\n      ]\n  \"\": [\n    \"\", 11,\n    \"\", 20\n      ]\n\n  }}\n```\n\nApplefqApplefacet.field\n\n> `http://.../select?q=&facet=true&wt=json&fq=:[8000 TO *]&fq=:Apple&facet.mincount=1 &facet.field=&facet.field=`\n\n### 3Facet\n\n* **facet.prefix**: constaints\n* **facet.mincount=0**: constants count0\n* **facet.sort=count**: countindex\n* **facet.offset=0**: \n* **facet.limit=100**: constraints\n* **facet.missing=false**: field\n* **facet.date**: Deprecated, use facet.range\n* **facet.query**: Facet Constraint\n\n```\nfacet.query = rank:[* TO 20]\nfacet.query = rank:[21 TO *]\n```\n\n``` xml\n  <result numFound=\"27\" ... />\n  ...\n  <lst name=\"facet_counts\">\n  <lst name=\"facet_queries\">\n    <int name=\"rank:[* TO 20]\">2</int>\n    <int name=\"rank:[21 TO *]\">15</int>\n  </lst>\n ...\n```\n\n* **facet.range:\n\n`http://.../select?&facet=true&facet.range=price&facet.range.start=5000&facet.range.end=8000&facet.range.gap=1000`\n\n``` json\n \"facet_counts\":{\n  \"facet_ranges\":{\n    \"price\":{\n      \"counts:[\n        \"5000.0,5,\n        \"6000.0,2,\n        \"7000.0,3,],\n      \"gap\":1000.0,\n      \"start\":5000.0,\n      \"end\":8000.0}}}}\n```\n\n> **WARNING:**\n>\n> range`[start, end)`\n\n* **facet.pivot**\n\nSolr 4.0pivotfacet\n\n> **Syntax:** facet.pivot=field1,field2,field3...\n> **e.g.:** facet.pivot=comment_user, grade\n\n|   |#docs|#docs grade:|#docs :|#docs :|\n|---|----|--------------|------------|-----------|\n|comment_user:1|10|8|1|1|\n|comment_user:2|20|18|2|0|\n|comment_user:3|15|12|2|1|\n|comment_user:4|18|15|2|1|\n\n```\n  \"facet_counts\":{\n  \"facet_pivot\":{\n   \"comment_user, grade \":[{\n     \"field\":\"comment_user\",\n     \"value\":\"1\",\n     \"count\":10,\n     \"pivot\":[{\n       \"field\":\"grade\",\n       \"value\":\"\",\n       \"count\":8}, {\n       \"field\":\"grade\",\n       \"value\":\"\",\n       \"count\":1}, {\n       \"field\":\"grade\",\n       \"value\":\"\",\n       \"count\":1}]\n     }, {\n       \"field\":\" comment_user \",\n       \"value\":\"2\",\n       \"count\":20,\n       \"pivot\":[{\n       ...\n```\n\npivot\n> `http://...q=comment&fq=grade:&facet=true&facet.field=comment_user`\n> `http://...q=comment&fq=grade:&facet=true&facet.field=comment_user`\n> `http://...q=comment&fq=grade:&facet=true&facet.field=comment_user`\n\n> Facet.pivot - Computes a Matrix of Constraint Counts across multiple Facet Fields. by Yonik Seeley.\n\n\n> \n> * [The Many Facets of Apache Solr](http://2011.lucene-eurocon.org/attachments/0002/8835/Seeley_Eurocon_SolrFacets_1_.pdf)\n> * [SimpleFacetParameters Wiki](http://wiki.apache.org/solr/SimpleFacetParameters)\n","source":"_posts/apache-solr-facet-introduction.md","raw":"title: Apache Solr  Facet\ndate: 2013-03-23 14:31:00\ncategories: \ntags: Solr\n---\n\n### 1Faceted Search\n\n`Facet['fst]`SolrYonik SeeleyGuided NavigationParamatic Search\n\n<!--more-->\n\n<center><div style=\"width: 80%;\">![facet-1](/images/facet-1.png)</div></center>\n\nFaceted SearchFacetAppleLenovoFacet valuesConstraintsFacet valuesFacet count/Constraint count\n\n### 2Facet\n> q = \nfacet = true\nfacet.field = \nfacet.field = \nfacet.field = \n> `http://.../select?q=&facet=true&wt=json&facet.field=&facet.field=&facet.field=`\n\n```\n\"facet_counts\": {\n\"facet_fields\": {\n  \"\": [\n    \"Apple\", 4,\n    \"Lenovo\", 39\n      ]\n  \"\": [\n    \"\", 42,\n    \"\", 38\n      ]\n\n  }}\n```\n\nfq(filter query)\n\n> q = \nfacet = true\nfq = :[8000 TO \\*]\nfacet.mincount = 1 // fqcount0\nfacet.field = \nfacet.field = \nfacet.field = </blockquote>\n> `http://.../select?q=&facet=true&wt=json&fq=:[8000 TO *]&facet.mincount=1&facet.field=&facet.field=&facet.field=\n\n``` json\n\"facet_counts\": {\n\"facet_fields\": {\n  \"\": [\n    \"Apple\", 4,\n    \"Lenovo\", 10\n      ]\n  \"\": [\n    \"\", 11,\n    \"\", 20\n      ]\n\n  }}\n```\n\nApplefqApplefacet.field\n\n> `http://.../select?q=&facet=true&wt=json&fq=:[8000 TO *]&fq=:Apple&facet.mincount=1 &facet.field=&facet.field=`\n\n### 3Facet\n\n* **facet.prefix**: constaints\n* **facet.mincount=0**: constants count0\n* **facet.sort=count**: countindex\n* **facet.offset=0**: \n* **facet.limit=100**: constraints\n* **facet.missing=false**: field\n* **facet.date**: Deprecated, use facet.range\n* **facet.query**: Facet Constraint\n\n```\nfacet.query = rank:[* TO 20]\nfacet.query = rank:[21 TO *]\n```\n\n``` xml\n  <result numFound=\"27\" ... />\n  ...\n  <lst name=\"facet_counts\">\n  <lst name=\"facet_queries\">\n    <int name=\"rank:[* TO 20]\">2</int>\n    <int name=\"rank:[21 TO *]\">15</int>\n  </lst>\n ...\n```\n\n* **facet.range:\n\n`http://.../select?&facet=true&facet.range=price&facet.range.start=5000&facet.range.end=8000&facet.range.gap=1000`\n\n``` json\n \"facet_counts\":{\n  \"facet_ranges\":{\n    \"price\":{\n      \"counts:[\n        \"5000.0,5,\n        \"6000.0,2,\n        \"7000.0,3,],\n      \"gap\":1000.0,\n      \"start\":5000.0,\n      \"end\":8000.0}}}}\n```\n\n> **WARNING:**\n>\n> range`[start, end)`\n\n* **facet.pivot**\n\nSolr 4.0pivotfacet\n\n> **Syntax:** facet.pivot=field1,field2,field3...\n> **e.g.:** facet.pivot=comment_user, grade\n\n|   |#docs|#docs grade:|#docs :|#docs :|\n|---|----|--------------|------------|-----------|\n|comment_user:1|10|8|1|1|\n|comment_user:2|20|18|2|0|\n|comment_user:3|15|12|2|1|\n|comment_user:4|18|15|2|1|\n\n```\n  \"facet_counts\":{\n  \"facet_pivot\":{\n   \"comment_user, grade \":[{\n     \"field\":\"comment_user\",\n     \"value\":\"1\",\n     \"count\":10,\n     \"pivot\":[{\n       \"field\":\"grade\",\n       \"value\":\"\",\n       \"count\":8}, {\n       \"field\":\"grade\",\n       \"value\":\"\",\n       \"count\":1}, {\n       \"field\":\"grade\",\n       \"value\":\"\",\n       \"count\":1}]\n     }, {\n       \"field\":\" comment_user \",\n       \"value\":\"2\",\n       \"count\":20,\n       \"pivot\":[{\n       ...\n```\n\npivot\n> `http://...q=comment&fq=grade:&facet=true&facet.field=comment_user`\n> `http://...q=comment&fq=grade:&facet=true&facet.field=comment_user`\n> `http://...q=comment&fq=grade:&facet=true&facet.field=comment_user`\n\n> Facet.pivot - Computes a Matrix of Constraint Counts across multiple Facet Fields. by Yonik Seeley.\n\n\n> \n> * [The Many Facets of Apache Solr](http://2011.lucene-eurocon.org/attachments/0002/8835/Seeley_Eurocon_SolrFacets_1_.pdf)\n> * [SimpleFacetParameters Wiki](http://wiki.apache.org/solr/SimpleFacetParameters)\n","slug":"apache-solr-facet-introduction","published":1,"updated":"2015-12-29T13:30:15.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciirfw73700ausv8f6zj4bhae"},{"title":"Apache Solr  DistributedSearch","date":"2013-04-08T10:04:00.000Z","_content":"\n### 1\n\nSolrmulticoreSolrCPU\n\nSolrshards\n\n<!--more-->\n\n### 2\n\nSearchComponentDistributed SearchComponent\n\n* distributedProcess()\n* modifyRequest()\n* handleResponses()\n* finishStage()\n\nDistributed Search4\n\n* **Start**(ResponseBuilder.STAGE_START)\n* **Query Parse**(ResponseBuilder.STAGE_PARSE_QUERY)\n* **Execute Query**(ResponseBuilder.STAGE_EXECUTE_QUERY)\n* **Get Fields**(ResponseBuilder.STAGE_GET_FIELDS)</blockquote>\n* **Done**(ResponseBuilder.STAGE_DONE)\n\nSearchHandler****\n\n#### 1. STAGE_DONE\n#### 2. distributedProcess4 ShardRequestrb.outgoing)\n\n> Componentspurpose\n\n``` java\npublic void handleResponses(ResponseBuilder rb, ShardRequest sreq) {\n  if (!rb.doFacets )\n     return;\n\n  if ((sreq.purpose & ShardRequest.PURPOSE_GET_FACETS) != 0) {\n     countFacets(rb, sreq);\n  } else if ((sreq.purpose & ShardRequest.PURPOSE_REFINE_FACETS ) != 0) {\n     refineFacets(rb, sreq);\n  }\n}\n```\n\n> modifyRequest()shardResponseBuilder.addRequest()FacetComponent.modifyRequest\n\n``` java\npublic void addRequest(SearchComponent me, ShardRequest sreq) {\n  outgoing.add(sreq);\n  if ((sreq.purpose & ShardRequest.PURPOSE_PRIVATE)==0) {\n   // if this isn't a private request, let other components modify it.\n   for (SearchComponent component : components) {\n      if (component != me) {\n        component.modifyRequest( this, me, sreq);\n      }\n    }\n  }\n}\n```\n\n#### 3. rb.outgoing) ShardRequest Shards\n#### 4. handleResponse)\n\n> idQueryComponent.handleResponse\n\n#### 5. finishStage()\n\n> nulldocresponseDocs\n\n``` java\n// SearchHandler.handleRequestBody()\nif (rb.shards == null) {\n  // a normal non-distributed request\n  // ...\n} else {\n  // a distributed request\n\n  HttpCommComponent comm = new HttpCommComponent();\n\n  if (rb.outgoing == null ) {\n    rb.outgoing = new LinkedList<ShardRequest>();\n  }\n  rb.finished = new ArrayList<ShardRequest>();\n\n  int nextStage = 0;\n  do {\n    rb.stage = nextStage;\n    nextStage = ResponseBuilder.STAGE_DONE;\n\n    // call all components\n    for( SearchComponent c : components ) {\n      // the next stage is the minimum of what all components report\n      nextStage = Math.min(nextStage, c.distributedProcess(rb));\n    }\n\n\n    // check the outgoing queue and send requests\n    while (rb.outgoing.size() > 0) {\n\n      // submit all current request tasks at once\n      while (rb.outgoing.size() > 0) {\n        ShardRequest sreq = rb.outgoing.remove(0);\n        sreq.actualShards = sreq.shards ;\n        if (sreq.actualShards ==ShardRequest.ALL_SHARDS) {\n          sreq.actualShards = rb.shards ;\n        }\n        sreq.responses = new ArrayList<ShardResponse>();\n\n        // TODO: map from shard to address[]\n        for (String shard : sreq.actualShards ) {\n          ModifiableSolrParams params = new ModifiableSolrParams(sreq.params );\n          params.remove(ShardParams.SHARDS);      // not a top-level request\n          params.remove( \"indent\");\n          params.remove(CommonParams.HEADER_ECHO_PARAMS);\n          params.set(ShardParams.IS_SHARD, true );  // a sub (shard) request\n          String shardHandler = req.getParams().get(ShardParams.SHARDS_QT );\n          if (shardHandler == null) {\n            params.remove(CommonParams.QT);\n          } else {\n            params.set(CommonParams.QT, shardHandler);\n          }\n          // You can see CommonsHttpSolrServer.request.\n          comm.submit(sreq, shard, params);\n        }\n      }\n\n\n      // now wait for replies, but if anyone puts more requests on\n      // the outgoing queue, send them out immediately (by exiting\n      // this loop)\n      while (rb.outgoing.size() == 0) {\n        ShardResponse srsp = comm.takeCompletedOrError();\n        if (srsp == null) break;  // no more requests to wait for\n\n        // Was there an exception?  If so, abort everything and\n        // rethrow\n        if (srsp.getException() != null) {\n          comm.cancelAll();\n          if (srsp.getException() instanceof SolrException) {\n            throw (SolrException)srsp.getException();\n          } else {\n            throw new SolrException(SolrException.ErrorCode.SERVER_ERROR, srsp.getException());\n          }\n        }\n\n        rb.finished.add(srsp.getShardRequest());\n\n        // let the components see the responses to the request\n        for(SearchComponent c : components ) {\n          c.handleResponses(rb, srsp.getShardRequest());\n        }\n      }\n    }\n\n    for(SearchComponent c : components) {\n        c.finishStage(rb);\n     }\n\n    // we are done when the next stage is MAX_VALUE\n    // BTW ResponseBuilder.STAGE_DONE == Integer.MAX_VALUE\n  } while (nextStage != Integer.MAX_VALUE);\n}\n```\n\n### 3\n\nSolr 3.5reference\n\n> It is up to you to get all your documents indexed on each shard of your server farm. Solr does not include out-of-the-box support for distributed indexing, but your method can be as simple as a round robin technique. Just index each document to the next server in the circle.\n\n> Solrhashmulticoreshards\n\n4.0Solr Cloud\n\n> SolrCloud is the name of a set of new distributed capabilities in Solr. Passing parameters to enable these capabilities will enable you to set up a highly available, fault tolerant cluster of Solr servers. Use SolrCloud when you want high scale, fault tolerant, distributed indexing and search capabilities.\n\nSolr Cloud Architecture\n\n> \n* [SolrCloud](http://wiki.apache.org/solr/SolrCloud)\n* [DistributedSearchComponent](http://wiki.apache.org/solr/WritingDistributedSearchComponents)\n","source":"_posts/apache-solr-distributed-search.md","raw":"title: Apache Solr  DistributedSearch\ndate: 2013-04-08 18:04:00\ncategories: \ntags: Solr\n---\n\n### 1\n\nSolrmulticoreSolrCPU\n\nSolrshards\n\n<!--more-->\n\n### 2\n\nSearchComponentDistributed SearchComponent\n\n* distributedProcess()\n* modifyRequest()\n* handleResponses()\n* finishStage()\n\nDistributed Search4\n\n* **Start**(ResponseBuilder.STAGE_START)\n* **Query Parse**(ResponseBuilder.STAGE_PARSE_QUERY)\n* **Execute Query**(ResponseBuilder.STAGE_EXECUTE_QUERY)\n* **Get Fields**(ResponseBuilder.STAGE_GET_FIELDS)</blockquote>\n* **Done**(ResponseBuilder.STAGE_DONE)\n\nSearchHandler****\n\n#### 1. STAGE_DONE\n#### 2. distributedProcess4 ShardRequestrb.outgoing)\n\n> Componentspurpose\n\n``` java\npublic void handleResponses(ResponseBuilder rb, ShardRequest sreq) {\n  if (!rb.doFacets )\n     return;\n\n  if ((sreq.purpose & ShardRequest.PURPOSE_GET_FACETS) != 0) {\n     countFacets(rb, sreq);\n  } else if ((sreq.purpose & ShardRequest.PURPOSE_REFINE_FACETS ) != 0) {\n     refineFacets(rb, sreq);\n  }\n}\n```\n\n> modifyRequest()shardResponseBuilder.addRequest()FacetComponent.modifyRequest\n\n``` java\npublic void addRequest(SearchComponent me, ShardRequest sreq) {\n  outgoing.add(sreq);\n  if ((sreq.purpose & ShardRequest.PURPOSE_PRIVATE)==0) {\n   // if this isn't a private request, let other components modify it.\n   for (SearchComponent component : components) {\n      if (component != me) {\n        component.modifyRequest( this, me, sreq);\n      }\n    }\n  }\n}\n```\n\n#### 3. rb.outgoing) ShardRequest Shards\n#### 4. handleResponse)\n\n> idQueryComponent.handleResponse\n\n#### 5. finishStage()\n\n> nulldocresponseDocs\n\n``` java\n// SearchHandler.handleRequestBody()\nif (rb.shards == null) {\n  // a normal non-distributed request\n  // ...\n} else {\n  // a distributed request\n\n  HttpCommComponent comm = new HttpCommComponent();\n\n  if (rb.outgoing == null ) {\n    rb.outgoing = new LinkedList<ShardRequest>();\n  }\n  rb.finished = new ArrayList<ShardRequest>();\n\n  int nextStage = 0;\n  do {\n    rb.stage = nextStage;\n    nextStage = ResponseBuilder.STAGE_DONE;\n\n    // call all components\n    for( SearchComponent c : components ) {\n      // the next stage is the minimum of what all components report\n      nextStage = Math.min(nextStage, c.distributedProcess(rb));\n    }\n\n\n    // check the outgoing queue and send requests\n    while (rb.outgoing.size() > 0) {\n\n      // submit all current request tasks at once\n      while (rb.outgoing.size() > 0) {\n        ShardRequest sreq = rb.outgoing.remove(0);\n        sreq.actualShards = sreq.shards ;\n        if (sreq.actualShards ==ShardRequest.ALL_SHARDS) {\n          sreq.actualShards = rb.shards ;\n        }\n        sreq.responses = new ArrayList<ShardResponse>();\n\n        // TODO: map from shard to address[]\n        for (String shard : sreq.actualShards ) {\n          ModifiableSolrParams params = new ModifiableSolrParams(sreq.params );\n          params.remove(ShardParams.SHARDS);      // not a top-level request\n          params.remove( \"indent\");\n          params.remove(CommonParams.HEADER_ECHO_PARAMS);\n          params.set(ShardParams.IS_SHARD, true );  // a sub (shard) request\n          String shardHandler = req.getParams().get(ShardParams.SHARDS_QT );\n          if (shardHandler == null) {\n            params.remove(CommonParams.QT);\n          } else {\n            params.set(CommonParams.QT, shardHandler);\n          }\n          // You can see CommonsHttpSolrServer.request.\n          comm.submit(sreq, shard, params);\n        }\n      }\n\n\n      // now wait for replies, but if anyone puts more requests on\n      // the outgoing queue, send them out immediately (by exiting\n      // this loop)\n      while (rb.outgoing.size() == 0) {\n        ShardResponse srsp = comm.takeCompletedOrError();\n        if (srsp == null) break;  // no more requests to wait for\n\n        // Was there an exception?  If so, abort everything and\n        // rethrow\n        if (srsp.getException() != null) {\n          comm.cancelAll();\n          if (srsp.getException() instanceof SolrException) {\n            throw (SolrException)srsp.getException();\n          } else {\n            throw new SolrException(SolrException.ErrorCode.SERVER_ERROR, srsp.getException());\n          }\n        }\n\n        rb.finished.add(srsp.getShardRequest());\n\n        // let the components see the responses to the request\n        for(SearchComponent c : components ) {\n          c.handleResponses(rb, srsp.getShardRequest());\n        }\n      }\n    }\n\n    for(SearchComponent c : components) {\n        c.finishStage(rb);\n     }\n\n    // we are done when the next stage is MAX_VALUE\n    // BTW ResponseBuilder.STAGE_DONE == Integer.MAX_VALUE\n  } while (nextStage != Integer.MAX_VALUE);\n}\n```\n\n### 3\n\nSolr 3.5reference\n\n> It is up to you to get all your documents indexed on each shard of your server farm. Solr does not include out-of-the-box support for distributed indexing, but your method can be as simple as a round robin technique. Just index each document to the next server in the circle.\n\n> Solrhashmulticoreshards\n\n4.0Solr Cloud\n\n> SolrCloud is the name of a set of new distributed capabilities in Solr. Passing parameters to enable these capabilities will enable you to set up a highly available, fault tolerant cluster of Solr servers. Use SolrCloud when you want high scale, fault tolerant, distributed indexing and search capabilities.\n\nSolr Cloud Architecture\n\n> \n* [SolrCloud](http://wiki.apache.org/solr/SolrCloud)\n* [DistributedSearchComponent](http://wiki.apache.org/solr/WritingDistributedSearchComponents)\n","slug":"apache-solr-distributed-search","published":1,"updated":"2015-12-29T13:30:15.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciirfw73800axsv8fp846g8pk"},{"title":"Apache Solr  ","date":"2013-04-08T10:04:00.000Z","_content":"\n### 1\n\n[Apache Solr  ](http://hongweiyi.com/2013/04/apache-solr-data-structrue-part-1/)NamedListDocSetResponseBuilderQuery\n\n<!--more-->\n\n### 2ResponseBuilder\n\n QueryComponentFacetComponentMoreLikeThisComponentHighlightComponent DebugComponent) ResponseBuilder\n\nResponseBuilderSearchHandlerhandleRequestBodySolrQueryRequestSolrQueryResponsecomponentsSearchComponentResponseBuilder\n\nComponentspreparerbrequestrbprocessresponse\n\nFacetComponentprepare\n\n``` java\npublic void prepare(ResponseBuilder rb) throws IOException {\n  if (rb.req .getParams().getBool(FacetParams.FACET, false)) {\n    rb.setNeedDocSet( true);\n    rb. doFacets = true ;\n  }\n}\n```\n\n\n### 3Query\n\nLuceneQueryorg.apache.lucene.searchQueryQueryMatchAllDocsQueryBooleanQueryTermQueryQueryParserQuery\"*:*\"MatchAllDocsQuery\"queryStr1 OR queryStr2\"BooleanQuery\n\nQueryQueryScoreQueryScorerWeightQuerySearcherWeightQueryQueryWeight\n\nQuerySolrLucene\n\n\n\n* [Apache Lucene - Scoring](http://lucene.apache.org/core/3_6_2/scoring.html)\n* [Package - org.apache.lucene.search - query](http://lucene.apache.org/core/3_6_2/api/core/org/apache/lucene/search/package-summary.html#query)\n* [LuceneSimilarity](http://my.oschina.net/BreathL/blog/51498)\n\n### 4\n\n\n","source":"_posts/apache-solr-data-structrue-part-2.md","raw":"title: Apache Solr  \ndate: 2013-04-08 18:04:00\ncategories: \ntags: Solr, \n---\n\n### 1\n\n[Apache Solr  ](http://hongweiyi.com/2013/04/apache-solr-data-structrue-part-1/)NamedListDocSetResponseBuilderQuery\n\n<!--more-->\n\n### 2ResponseBuilder\n\n QueryComponentFacetComponentMoreLikeThisComponentHighlightComponent DebugComponent) ResponseBuilder\n\nResponseBuilderSearchHandlerhandleRequestBodySolrQueryRequestSolrQueryResponsecomponentsSearchComponentResponseBuilder\n\nComponentspreparerbrequestrbprocessresponse\n\nFacetComponentprepare\n\n``` java\npublic void prepare(ResponseBuilder rb) throws IOException {\n  if (rb.req .getParams().getBool(FacetParams.FACET, false)) {\n    rb.setNeedDocSet( true);\n    rb. doFacets = true ;\n  }\n}\n```\n\n\n### 3Query\n\nLuceneQueryorg.apache.lucene.searchQueryQueryMatchAllDocsQueryBooleanQueryTermQueryQueryParserQuery\"*:*\"MatchAllDocsQuery\"queryStr1 OR queryStr2\"BooleanQuery\n\nQueryQueryScoreQueryScorerWeightQuerySearcherWeightQueryQueryWeight\n\nQuerySolrLucene\n\n\n\n* [Apache Lucene - Scoring](http://lucene.apache.org/core/3_6_2/scoring.html)\n* [Package - org.apache.lucene.search - query](http://lucene.apache.org/core/3_6_2/api/core/org/apache/lucene/search/package-summary.html#query)\n* [LuceneSimilarity](http://my.oschina.net/BreathL/blog/51498)\n\n### 4\n\n\n","slug":"apache-solr-data-structrue-part-2","published":1,"updated":"2015-12-29T13:30:15.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciirfw73a00b0sv8fdy4zkgcz"},{"title":"Apache Solr  ","date":"2013-04-08T10:04:00.000Z","_content":"\n### 1\n\nSolr/NamedListDocSetDocIdSetQueryDocumentFieldTypeResponseBuilder/SolrSolr\n\n<!--more-->\n\n### 2NamedList\n\nMap\n\n* \n* \n* \n* null\n\nArrayListlist\n\n* [key1, value1, key2, value2, key3, value3,...]\n\n\n\n* key = list.get(idx << 1);\n* value = list.get((idx << 1) +1);\n\nlistO(N)SimpleOrderedMapMap\n\nSimpleOrderedMapsuper()clone()\n\nNamedListresparamsterms\n\n### 3DocSet\n\n<center><div style=\"width: 80%;\">![DocSet](/images/sofa-DocSet.png)</div></center>\n\nDocSetDocListDocSetDocSetDocIdunionintersectionaddNot\n\n* DocSetLucene Document Id\n* DocListLucene Document Idorderedsorteddocsscores\n\nDocSetSolrDocSetBaseDocSetDocSliceunion\n\nDocSliceDocListDocListDocSlicesubset\n\nHashDocSetHashdocIdsSolr- -\n\nSortedIntDocSetDocSetSortedIntDocSetdocs\n\nBitDocSetdocIdsluceneOpenBitSetSolrDocSet[ - Bitmap](http://hongweiyi.com/2012/03/data-structure-bitmap/)\n\n> BTWDocIdSetDocSetDocument IdDocIdSetDocument IdDocIdSetId\n\n### 4\n\nNamedListDocSet\n","source":"_posts/apache-solr-data-structrue-part-1.md","raw":"title: Apache Solr  \ndate: 2013-04-08 18:04:00\ncategories: \ntags: Solr, \n---\n\n### 1\n\nSolr/NamedListDocSetDocIdSetQueryDocumentFieldTypeResponseBuilder/SolrSolr\n\n<!--more-->\n\n### 2NamedList\n\nMap\n\n* \n* \n* \n* null\n\nArrayListlist\n\n* [key1, value1, key2, value2, key3, value3,...]\n\n\n\n* key = list.get(idx << 1);\n* value = list.get((idx << 1) +1);\n\nlistO(N)SimpleOrderedMapMap\n\nSimpleOrderedMapsuper()clone()\n\nNamedListresparamsterms\n\n### 3DocSet\n\n<center><div style=\"width: 80%;\">![DocSet](/images/sofa-DocSet.png)</div></center>\n\nDocSetDocListDocSetDocSetDocIdunionintersectionaddNot\n\n* DocSetLucene Document Id\n* DocListLucene Document Idorderedsorteddocsscores\n\nDocSetSolrDocSetBaseDocSetDocSliceunion\n\nDocSliceDocListDocListDocSlicesubset\n\nHashDocSetHashdocIdsSolr- -\n\nSortedIntDocSetDocSetSortedIntDocSetdocs\n\nBitDocSetdocIdsluceneOpenBitSetSolrDocSet[ - Bitmap](http://hongweiyi.com/2012/03/data-structure-bitmap/)\n\n> BTWDocIdSetDocSetDocument IdDocIdSetDocument IdDocIdSetId\n\n### 4\n\nNamedListDocSet\n","slug":"apache-solr-data-structrue-part-1","published":1,"updated":"2015-12-29T13:30:15.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciirfw73b00b4sv8f0w2p2dxh"},{"title":"Apache Hadoop YARN - ","id":"578","date":"2012-09-06T14:41:59.000Z","_content":"\nyahoo!YARNNext-genMapReduce[](http://developer.yahoo.com/blogs/hadoop/posts/2011/02/mapreduce-nextgen/)Hadoop0.200.231.2.hadoopHDFS FederationNameNodeHABackupNode[](http://ai-longyu.iteye.com/blog/1566619)[](http://hadoop.apache.org/common/docs/r0.23.0/hadoop-yarn/hadoop-yarn-site/Federation.html)MapReduce2.0MR2.0YARNYARNMapReduceApache Hadoop MapReduce[](http://hortonworks.com/blog/apache-hadoop-yarn-background-and-an-overview/)YARN\n<!--more-->\n\n**Apache Hadoop MapReduce**\n\nApache Hadoop MapReduceGoogle MapReduceApache6HadoopMapReduce\n  > 1\\. **MapReduce API**MR\n> \n> 2\\. **MapReduce **MRphrasemap phrasereduce phrasesort/shuffle/merge phrase\n> \n> 3\\. **MapReduce **MR  \n\nMRMRAPIMR\n\n0.230.20.2MapReduceMaster-SlavesJobTracker-TaskTracker\n\nJobTrackerTaskTracker/JobTracker\n\nMROverhaulJobTrackerJobTracker\n\n****\n\nMapReduce([Google Pregel](http://www.csdn.net/article/2012-08-20/2808870)/[Apache Giapah](http://giraph.apache.org/))([MPI](http://en.wikipedia.org/wiki/Message_Passing_Interface))HDFS\n\nMRHadoop\n\nHDFSHadoopHadoop\n\n****\n\n\n\n2009 - 8 cores, 16GB of RAM, 4*1TB disk\n\n2012 - 16+ cores, 48-96GB of RAM, 12*2TB or 12*3TB of disk\n\n2-3Hadoop10,000200,000Hadoop16cores 64GB of RAM\n\n****\n\nJobTrackerMap/ReduceslotMRreducemapmap 100% reduce 0%\n\n****\n\nHadoopHadoophadoopMapReduceHadoop\n\n**Apache Hadoop YARN**\n\nYARNJobTracker/YARNResourceManager(RM)ApplicationMaster(AM)ResourceManagerslaveNodeManager(NM)\n\nRMAMMapReduceRMNM\n\nRMMapReduceCapacity SchedulerFair Scheduler\n\nNodeManagerTaskTrackerContainerJVMcontainerCPUResouceManagerContainer\n\nApplicationMastercontainercontainer\n\nYARN\n\n[![YARNArch](http://www.hongweiyi.com/wp-content/uploads/2012/09/YARNArch_thumb.png \"YARNArch\")](http://www.hongweiyi.com/wp-content/uploads/2012/09/YARNArch.png)\n\nYARNMapReduceMR\n\nHadoopgraph, MPI\n\nHortonworks' Arun MurthyYARN\n  > People are not going to be comfortable buying a $5 million Hadoop cluster just to do MapReduce and a $2 million cluster to do something else. If you can allow them to run both apps in the same cluster, its not only easier for you in terms of a CapEx perspective  its also easier from an operational perspective because you dont have to have two separate sets of people managing your clusters or two sets of tools for managing your clusters.","source":"_posts/apache-hadoop-yarn-background-and-an-overview.md","raw":"title: Apache Hadoop YARN - \ntags:\n  - Hadoop\n  - MapReduce\n  - YARN\nid: 578\ncategories:\n  - \ndate: 2012-09-06 22:41:59\n---\n\nyahoo!YARNNext-genMapReduce[](http://developer.yahoo.com/blogs/hadoop/posts/2011/02/mapreduce-nextgen/)Hadoop0.200.231.2.hadoopHDFS FederationNameNodeHABackupNode[](http://ai-longyu.iteye.com/blog/1566619)[](http://hadoop.apache.org/common/docs/r0.23.0/hadoop-yarn/hadoop-yarn-site/Federation.html)MapReduce2.0MR2.0YARNYARNMapReduceApache Hadoop MapReduce[](http://hortonworks.com/blog/apache-hadoop-yarn-background-and-an-overview/)YARN\n<!--more-->\n\n**Apache Hadoop MapReduce**\n\nApache Hadoop MapReduceGoogle MapReduceApache6HadoopMapReduce\n  > 1\\. **MapReduce API**MR\n> \n> 2\\. **MapReduce **MRphrasemap phrasereduce phrasesort/shuffle/merge phrase\n> \n> 3\\. **MapReduce **MR  \n\nMRMRAPIMR\n\n0.230.20.2MapReduceMaster-SlavesJobTracker-TaskTracker\n\nJobTrackerTaskTracker/JobTracker\n\nMROverhaulJobTrackerJobTracker\n\n****\n\nMapReduce([Google Pregel](http://www.csdn.net/article/2012-08-20/2808870)/[Apache Giapah](http://giraph.apache.org/))([MPI](http://en.wikipedia.org/wiki/Message_Passing_Interface))HDFS\n\nMRHadoop\n\nHDFSHadoopHadoop\n\n****\n\n\n\n2009 - 8 cores, 16GB of RAM, 4*1TB disk\n\n2012 - 16+ cores, 48-96GB of RAM, 12*2TB or 12*3TB of disk\n\n2-3Hadoop10,000200,000Hadoop16cores 64GB of RAM\n\n****\n\nJobTrackerMap/ReduceslotMRreducemapmap 100% reduce 0%\n\n****\n\nHadoopHadoophadoopMapReduceHadoop\n\n**Apache Hadoop YARN**\n\nYARNJobTracker/YARNResourceManager(RM)ApplicationMaster(AM)ResourceManagerslaveNodeManager(NM)\n\nRMAMMapReduceRMNM\n\nRMMapReduceCapacity SchedulerFair Scheduler\n\nNodeManagerTaskTrackerContainerJVMcontainerCPUResouceManagerContainer\n\nApplicationMastercontainercontainer\n\nYARN\n\n[![YARNArch](http://www.hongweiyi.com/wp-content/uploads/2012/09/YARNArch_thumb.png \"YARNArch\")](http://www.hongweiyi.com/wp-content/uploads/2012/09/YARNArch.png)\n\nYARNMapReduceMR\n\nHadoopgraph, MPI\n\nHortonworks' Arun MurthyYARN\n  > People are not going to be comfortable buying a $5 million Hadoop cluster just to do MapReduce and a $2 million cluster to do something else. If you can allow them to run both apps in the same cluster, its not only easier for you in terms of a CapEx perspective  its also easier from an operational perspective because you dont have to have two separate sets of people managing your clusters or two sets of tools for managing your clusters.","slug":"apache-hadoop-yarn-background-and-an-overview","published":1,"updated":"2015-12-29T13:31:03.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciirfw73d00b7sv8fzuoxdnoc"},{"title":"Android UI","id":"145","date":"2011-07-21T10:57:24.000Z","_content":"\n**1\\. UI******\n\nAndroidUIAPKAPKUIres\n\n[![](http://www.hongweiyi.com/wp-content/uploads/2011/07/Android-Res1.png \"Android Res2\")](http://www.hongweiyi.com/wp-content/uploads/2011/07/Android-Res1.png)\n\n<!--more-->colorsdimensstyleshtml+css\n\ncolorsdimensstylesUI\n> &lt;!-- layout/main.xml TextView --&gt;\r> \n> \n> &lt;TextView style=_\"@style/StyleTest\"_ /&gt;\r> \n> \n> &lt;!-- values/styles.xml _StyleTest_ --&gt;\r> \n> \n> &lt;resources&gt;\r> \n> \n> &lt;style name=_\"StyleTest\"_&gt;\r> \n> \n> &lt;item name=_\"android:id\"_&gt;@+id/text&lt;/item&gt;\r> \n> \n> &lt;item name=_\"android:textSize\"_&gt;@dimen/text_medium&lt;/item&gt;\r> \n> \n> &lt;item name=_\"android:textStyle\"_&gt;bold&lt;/item&gt;\r> \n> \n> &lt;item name=_\"android:textColor\"_&gt;@color/title_text&lt;/item&gt;\r> \n> \n> &lt;item name=_\"android:ellipsize\"_&gt;end&lt;/item&gt;\r> \n> \n> &lt;item name=_\"android:gravity\"_&gt;center_vertical&lt;/item&gt;\r> \n> \n> &lt;item name=_\"android:layout_width\"_&gt;@dimen/text_width&lt;/item&gt;\r> \n> \n> &lt;item name=_\"android:layout_height\"_&gt;fill_parent&lt;/item&gt;\r> \n> \n> &lt;item name=_\"android:singleLine\"_&gt;true&lt;/item&gt;\r> \n> \n> &lt;/style&gt;\r> \n> \n> &lt;/resources&gt;\r> \n> \n> &lt;!-- values/dimens.xml text_medium text_width --&gt;\r> \n> \n> &lt;resources&gt;\r> \n> \n> &lt;dimen name=_\"text_medium\"_&gt;14.0dip&lt;/dimen&gt;\r> \n> \n> &lt;dimen name=_\"text_width\"_&gt;40.0dip&lt;/dimen&gt;\r> \n> \n> &lt;/resources&gt;\r> \n> \n> &lt;!-- values/colors.xml text_color --&gt;\r> \n> \n> &lt;resources&gt;\r> \n> \n> &lt;color name=_\"text_color\"_&gt;#000&lt;/color&gt;\r> \n> \n> &lt;/resources&gt;\nwebUIstyle\n\nandroidUIinclude\n\n&lt;include layout=_\"@layout/title_bar\" _/&gt;\n\n**2\\. ******\n\nUIfindViewByID(ID)setOnXXXListener(new OnXXXListener({ methods}))XXXListener.javaOnClickjavaScriptActivity\n> &lt;!-- layout/XXX.xml Button --&gt;\r> \n> \n> &lt;Button \r> \n> \n> android:onClick=_\"onButtonClicked\"_\r> \n> \n> /&gt;\r> \n> \n> // Button\r> \n> \n> public void onButtonClicked(View view){\r> \n> \n> \r> \n> \n> }\n\n\n**3\\. ******\n\n**3.1 Tab******\n\nTabxmlTabHostTabWidgetFrameLayout\n> **public** **void** setTabStyle(TabHost **tabHost**) {\r> \n> \n> // TabWidgetView\r> \n> \n> ** for**(**int** **i** = 0; **i**&lt; **tabHost**.getTabWidget().getChildCount();**i**++){\r> \n> \n> View **view** = **tabHost**.getTabWidget().getChildTabViewAt(**i**);\r> \n> \n> ** view**.setXXX();\r> \n> \n> // \r> \n> \n> TextView **tv** = (TextView) **view**.findViewById(android.R.id._title_);\r> \n> \n> ** tv**.setXXX();\r> \n> \n> }\r> \n> \n> }\n\n\n**3.2 DatePickerDialog**\n\nDatePickerDialogmonthOfYear0SDKmonthOfYear The month that was set (0-11) for compatibility with Calendar. ","source":"_posts/android-ui.md","raw":"title: Android UI\ntags:\n  - Android\nid: 145\ncategories:\n  - \ndate: 2011-07-21 18:57:24\n---\n\n**1\\. UI******\n\nAndroidUIAPKAPKUIres\n\n[![](http://www.hongweiyi.com/wp-content/uploads/2011/07/Android-Res1.png \"Android Res2\")](http://www.hongweiyi.com/wp-content/uploads/2011/07/Android-Res1.png)\n\n<!--more-->colorsdimensstyleshtml+css\n\ncolorsdimensstylesUI\n> &lt;!-- layout/main.xml TextView --&gt;\r> \n> \n> &lt;TextView style=_\"@style/StyleTest\"_ /&gt;\r> \n> \n> &lt;!-- values/styles.xml _StyleTest_ --&gt;\r> \n> \n> &lt;resources&gt;\r> \n> \n> &lt;style name=_\"StyleTest\"_&gt;\r> \n> \n> &lt;item name=_\"android:id\"_&gt;@+id/text&lt;/item&gt;\r> \n> \n> &lt;item name=_\"android:textSize\"_&gt;@dimen/text_medium&lt;/item&gt;\r> \n> \n> &lt;item name=_\"android:textStyle\"_&gt;bold&lt;/item&gt;\r> \n> \n> &lt;item name=_\"android:textColor\"_&gt;@color/title_text&lt;/item&gt;\r> \n> \n> &lt;item name=_\"android:ellipsize\"_&gt;end&lt;/item&gt;\r> \n> \n> &lt;item name=_\"android:gravity\"_&gt;center_vertical&lt;/item&gt;\r> \n> \n> &lt;item name=_\"android:layout_width\"_&gt;@dimen/text_width&lt;/item&gt;\r> \n> \n> &lt;item name=_\"android:layout_height\"_&gt;fill_parent&lt;/item&gt;\r> \n> \n> &lt;item name=_\"android:singleLine\"_&gt;true&lt;/item&gt;\r> \n> \n> &lt;/style&gt;\r> \n> \n> &lt;/resources&gt;\r> \n> \n> &lt;!-- values/dimens.xml text_medium text_width --&gt;\r> \n> \n> &lt;resources&gt;\r> \n> \n> &lt;dimen name=_\"text_medium\"_&gt;14.0dip&lt;/dimen&gt;\r> \n> \n> &lt;dimen name=_\"text_width\"_&gt;40.0dip&lt;/dimen&gt;\r> \n> \n> &lt;/resources&gt;\r> \n> \n> &lt;!-- values/colors.xml text_color --&gt;\r> \n> \n> &lt;resources&gt;\r> \n> \n> &lt;color name=_\"text_color\"_&gt;#000&lt;/color&gt;\r> \n> \n> &lt;/resources&gt;\nwebUIstyle\n\nandroidUIinclude\n\n&lt;include layout=_\"@layout/title_bar\" _/&gt;\n\n**2\\. ******\n\nUIfindViewByID(ID)setOnXXXListener(new OnXXXListener({ methods}))XXXListener.javaOnClickjavaScriptActivity\n> &lt;!-- layout/XXX.xml Button --&gt;\r> \n> \n> &lt;Button \r> \n> \n> android:onClick=_\"onButtonClicked\"_\r> \n> \n> /&gt;\r> \n> \n> // Button\r> \n> \n> public void onButtonClicked(View view){\r> \n> \n> \r> \n> \n> }\n\n\n**3\\. ******\n\n**3.1 Tab******\n\nTabxmlTabHostTabWidgetFrameLayout\n> **public** **void** setTabStyle(TabHost **tabHost**) {\r> \n> \n> // TabWidgetView\r> \n> \n> ** for**(**int** **i** = 0; **i**&lt; **tabHost**.getTabWidget().getChildCount();**i**++){\r> \n> \n> View **view** = **tabHost**.getTabWidget().getChildTabViewAt(**i**);\r> \n> \n> ** view**.setXXX();\r> \n> \n> // \r> \n> \n> TextView **tv** = (TextView) **view**.findViewById(android.R.id._title_);\r> \n> \n> ** tv**.setXXX();\r> \n> \n> }\r> \n> \n> }\n\n\n**3.2 DatePickerDialog**\n\nDatePickerDialogmonthOfYear0SDKmonthOfYear The month that was set (0-11) for compatibility with Calendar. ","slug":"android-ui","published":1,"updated":"2015-12-29T13:31:03.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciirfw73e00bdsv8foh0df0m8"},{"title":" - ","id":"331","date":"2012-02-21T16:56:00.000Z","_content":"\n****\n\n\t\n\n\t<!--more-->\n\n\t&ldquo;&rdquo;\n\n\t****\n\n\tnn\n\n\t[![clip_image002](http://www.hongweiyi.com/wp-content/uploads/2012/02/clip_image002_thumb2.jpg \"clip_image002\")](http://www.hongweiyi.com/wp-content/uploads/2012/02/clip_image0022.jpg)\n\n\tn01\n\n<table border=\"1\" cellpadding=\"0\" cellspacing=\"0\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td valign=\"top\" width=\"568\">\n\n\t\t\t\t\tdef powerset(i : int):\n\n\t\t\t\t\t&nbsp;&nbsp;&nbsp; if i &gt; n Then: print\n\n\t\t\t\t\t&nbsp;&nbsp;&nbsp; else:\n\n\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; i1; powerset(i+1);\n\n\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; i0; powerset(i+1);\n\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n\t&nbsp;\n\n\t****\n\n\t&ldquo;&rdquo;\n\n\t\n\n\t[![clip_image004](http://www.hongweiyi.com/wp-content/uploads/2012/02/clip_image004_thumb1.jpg \"clip_image004\")](http://www.hongweiyi.com/wp-content/uploads/2012/02/clip_image0041.jpg)\n\n\t\n\n<table border=\"1\" cellpadding=\"0\" cellspacing=\"0\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td valign=\"top\" width=\"568\">\n\n\t\t\t\t\tdef trial(i : int):\n\n\t\t\t\t\t&nbsp;&nbsp;&nbsp; if i&gt;n Then: print\n\n\t\t\t\t\t&nbsp;&nbsp;&nbsp; else:\n\n\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for j in [0, n):\n\n\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (i, j);\n\n\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if  Then: trail(i+1);\n\n\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (i, j)\n\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n\t&nbsp;\n\n\t**4**\n\n\t&lt;&gt;&lt;&gt;\n\n\t[@](http://weibo.com/liangke723)&ldquo;&rdquo;\n\n\tDFSBFS\n\n\tDFS&amp;&amp;BFS\n\n\t1DFS\n\n\t2BFS\n\n\t&ldquo;&rdquo;\n\n\t****\n\n\t&hellip;&hellip;","source":"_posts/algorithm-search.md","raw":"title:  - \ntags:\n  - \nid: 331\ncategories:\n  - \ndate: 2012-02-22 00:56:00\n---\n\n****\n\n\t\n\n\t<!--more-->\n\n\t&ldquo;&rdquo;\n\n\t****\n\n\tnn\n\n\t[![clip_image002](http://www.hongweiyi.com/wp-content/uploads/2012/02/clip_image002_thumb2.jpg \"clip_image002\")](http://www.hongweiyi.com/wp-content/uploads/2012/02/clip_image0022.jpg)\n\n\tn01\n\n<table border=\"1\" cellpadding=\"0\" cellspacing=\"0\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td valign=\"top\" width=\"568\">\n\n\t\t\t\t\tdef powerset(i : int):\n\n\t\t\t\t\t&nbsp;&nbsp;&nbsp; if i &gt; n Then: print\n\n\t\t\t\t\t&nbsp;&nbsp;&nbsp; else:\n\n\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; i1; powerset(i+1);\n\n\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; i0; powerset(i+1);\n\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n\t&nbsp;\n\n\t****\n\n\t&ldquo;&rdquo;\n\n\t\n\n\t[![clip_image004](http://www.hongweiyi.com/wp-content/uploads/2012/02/clip_image004_thumb1.jpg \"clip_image004\")](http://www.hongweiyi.com/wp-content/uploads/2012/02/clip_image0041.jpg)\n\n\t\n\n<table border=\"1\" cellpadding=\"0\" cellspacing=\"0\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td valign=\"top\" width=\"568\">\n\n\t\t\t\t\tdef trial(i : int):\n\n\t\t\t\t\t&nbsp;&nbsp;&nbsp; if i&gt;n Then: print\n\n\t\t\t\t\t&nbsp;&nbsp;&nbsp; else:\n\n\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for j in [0, n):\n\n\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (i, j);\n\n\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if  Then: trail(i+1);\n\n\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (i, j)\n\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n\t&nbsp;\n\n\t**4**\n\n\t&lt;&gt;&lt;&gt;\n\n\t[@](http://weibo.com/liangke723)&ldquo;&rdquo;\n\n\tDFSBFS\n\n\tDFS&amp;&amp;BFS\n\n\t1DFS\n\n\t2BFS\n\n\t&ldquo;&rdquo;\n\n\t****\n\n\t&hellip;&hellip;","slug":"algorithm-search","published":1,"updated":"2015-12-29T13:31:03.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciirfw73g00bhsv8fav8y6kae"},{"title":" - ","id":"320","date":"2012-02-16T04:36:40.000Z","_content":"\n****\n\nnm\n\n <!--more-->  \n\n****\n\n**1******\n\nmformrandom\n\n    <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\" width=\"561\"><tbody>       <tr>         <td valign=\"top\" width=\"559\">           <p>// random() -&gt; (0,1)\n\nfor i in [0, m):\n\n&#160;&#160;&#160; results[i] = data[random()*(n-1)] \n         </td>       </tr>     </tbody></table> </p>  \n\n\n\n**2******\n\n\n\n\n\n[![image](http://www.hongweiyi.com/wp-content/uploads/2012/02/image_thumb1.png \"image\")](http://www.hongweiyi.com/wp-content/uploads/2012/02/image1.png) \n\n    <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\" width=\"561\"><tbody>       <tr>         <td valign=\"top\" width=\"559\">           <p>// random() -&gt; (0,1)\n\ntmp := n-1;\n\nfor i in [0, m):\n\n&#160;&#160;&#160; swap(data, random()*tmp, tmp);\n\n&#160;&#160;&#160; tmp--;\n         </td>       </tr>     </tbody></table> </p>  \n\n&lt; II&gt;NMNMhaha!\n\n****\n\nGoogleNNNNkk\n\n****\n\nN\n\nReservoir Sampling\n\n1k\n\n2k+1[1, k+1]randomk\n\n32\n\n    <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>       <tr>         <td valign=\"top\" width=\"568\">           <p>// random() -&gt; (0,1)\n\nfor i in [0, n):\n\n&#160;&#160;&#160; if i &lt; k then: // k\n\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; results[i] := data[i];\n\n&#160;&#160;&#160; else:\n\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; tmp := random() * i;\n\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; if tmp &lt; k then:\n\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; swap(results, tmp, data, i); // \n         </td>       </tr>     </tbody></table> </p>  \n\n**1**\n\n1k1\n\n2k+1k/k+1 1-p p = k / k+11 / kk / k+1k+11 / kk / k+1\n\n3\n\n**2**\n\na\n\n +   \n\n[![image](http://www.hongweiyi.com/wp-content/uploads/2012/02/image_thumb2.png \"image\")](http://www.hongweiyi.com/wp-content/uploads/2012/02/image2.png) \n\n2\n\n****\n\nMonte CarloLas VegasSherwood\n\n","source":"_posts/algorithm-probability.md","raw":"title:  - \ntags:\n  - \nid: 320\ncategories:\n  - \ndate: 2012-02-16 12:36:40\n---\n\n****\n\nnm\n\n <!--more-->  \n\n****\n\n**1******\n\nmformrandom\n\n    <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\" width=\"561\"><tbody>       <tr>         <td valign=\"top\" width=\"559\">           <p>// random() -&gt; (0,1)\n\nfor i in [0, m):\n\n&#160;&#160;&#160; results[i] = data[random()*(n-1)] \n         </td>       </tr>     </tbody></table> </p>  \n\n\n\n**2******\n\n\n\n\n\n[![image](http://www.hongweiyi.com/wp-content/uploads/2012/02/image_thumb1.png \"image\")](http://www.hongweiyi.com/wp-content/uploads/2012/02/image1.png) \n\n    <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\" width=\"561\"><tbody>       <tr>         <td valign=\"top\" width=\"559\">           <p>// random() -&gt; (0,1)\n\ntmp := n-1;\n\nfor i in [0, m):\n\n&#160;&#160;&#160; swap(data, random()*tmp, tmp);\n\n&#160;&#160;&#160; tmp--;\n         </td>       </tr>     </tbody></table> </p>  \n\n&lt; II&gt;NMNMhaha!\n\n****\n\nGoogleNNNNkk\n\n****\n\nN\n\nReservoir Sampling\n\n1k\n\n2k+1[1, k+1]randomk\n\n32\n\n    <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><tbody>       <tr>         <td valign=\"top\" width=\"568\">           <p>// random() -&gt; (0,1)\n\nfor i in [0, n):\n\n&#160;&#160;&#160; if i &lt; k then: // k\n\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; results[i] := data[i];\n\n&#160;&#160;&#160; else:\n\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; tmp := random() * i;\n\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; if tmp &lt; k then:\n\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; swap(results, tmp, data, i); // \n         </td>       </tr>     </tbody></table> </p>  \n\n**1**\n\n1k1\n\n2k+1k/k+1 1-p p = k / k+11 / kk / k+1k+11 / kk / k+1\n\n3\n\n**2**\n\na\n\n +   \n\n[![image](http://www.hongweiyi.com/wp-content/uploads/2012/02/image_thumb2.png \"image\")](http://www.hongweiyi.com/wp-content/uploads/2012/02/image2.png) \n\n2\n\n****\n\nMonte CarloLas VegasSherwood\n\n","slug":"algorithm-probability","published":1,"updated":"2015-12-29T13:31:03.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciirfw73h00bksv8f8vxac2cf"},{"title":" - ","id":"317","date":"2012-02-14T12:13:50.000Z","_content":"\n****\n\n\tDynamic Programming\n\n<!--more-->\n\n\t&ldquo;&rdquo;\n\n\t4\n\n\t1\n\n\t2\n\n\t3\n\n\t4\n\n\t****\n\n\tFibonacci\n\n> f(n) = f(n-2) + f(n-1);&nbsp;&nbsp;f(0) =0,&nbsp;f(1) = 1\n\n\tf(20)\n\n\tFibonacciFibonacci\n\n\t****\n\n\t\n\n\t\n\n\tFibonaccif(n-1)f(n-2)f(n-3)\n\n\tFibonacci\n\n<table border=\"1\" cellpadding=\"0\" cellspacing=\"0\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td valign=\"top\" width=\"568\">\n\n\t\t\t\t\tf[] := new bigint[n];\n\n\t\t\t\t\tf[0] := f[1] := 1;\n\n\t\t\t\t\tfor i in [2, n):\n\n\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp; f[i] := f[i-1] + f[i-2];\n\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n\tf(n)\n\n\t****\n\n\t\n\n\t**101**\n\n\tNWiw[i]v[i]0110\n\n\tV[i][w]iw\n\n\t\n\n\tV[i][w] = MAX{V[i-1][w], V[i-1][w-w[i]]+v[i]}\n\n\tV[i-1][w]i0V[i-1][w-w[i]]+v[i]i101\n\n\t\n\n<table border=\"1\" cellpadding=\"0\" cellspacing=\"0\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td valign=\"top\" width=\"568\">\n\n\t\t\t\t\tV[][] := new int[n][W]\n\n\t\t\t\t\tfor i in [1, n):\n\n\t\t\t\t\t&nbsp;&nbsp;&nbsp; for w in (W, w[i-1]]: // w-w[i-1]\n\n\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; V[i][w] := MAX{V[i-1][w], V[i-1][w-w[i]]+v[i]}\n\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n\tO(n*W)O(n*W)V[w]w\n\n\t\n\n> V [w] = MAX{V[w], V[w-w[i]]+v[i]}\n\n\t\n\n<table border=\"1\" cellpadding=\"0\" cellspacing=\"0\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td valign=\"top\" width=\"568\">\n\n\t\t\t\t\tV[]:= new int [W+1]\n\n\t\t\t\t\tfor i in [0, n):\n\n\t\t\t\t\t&nbsp;&nbsp;&nbsp; for w in [W, w[i]-1]: // w-w[i-1]\n\n\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; V[w] := MAX{V[w], V[w-w[i]]+v[i]}\n\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n\t**2Longest Common Sequence**\n\n\t\n\n\t[![clip_image002](http://www.hongweiyi.com/wp-content/uploads/2012/02/clip_image002_thumb1.jpg \"clip_image002\")](http://www.hongweiyi.com/wp-content/uploads/2012/02/clip_image0021.jpg)\n\n\tc[i][j]xiyjx[i]y[j]c[i-1][j-1]1c[i][j]c[i-1][j]c[i][j-1]\n\n\t\n\n<table border=\"1\" cellpadding=\"0\" cellspacing=\"0\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td valign=\"top\" width=\"568\">\n\n\t\t\t\t\tc[][] := new int[len(x)][len(y)]\n\n\t\t\t\t\tfor i in [0, len(x)):\n\n\t\t\t\t\t&nbsp;&nbsp;&nbsp; for j in [0, len(y));\n\n\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if i==0 || j==0 then:\n\n\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; c[i][j] :=0;\n\n\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else if x[i] == y[j] then:\n\n\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; c[i-1][j-1] += 1;\n\n\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else:\n\n\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; c[i][j]:= MAX{c[i][j-1], c[i-1][j]};\n\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n\t**3Longest Increase Sequence**\n\n\tN\n\n> LIS[i+1] = MAX{1, LIS[k] +1}, array[i+1] > array[k], for k in [0, i]\n\n\t\n\n<table border=\"1\" cellpadding=\"0\" cellspacing=\"0\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td valign=\"top\" width=\"568\">\n\n\t\t\t\t\tL[] :=new int[len(array)];\n\n\t\t\t\t\tfor i in [0, len(array)):\n\n\t\t\t\t\t&nbsp;&nbsp;&nbsp; L[i] := 1 // 1\n\n\t\t\t\t\t&nbsp;&nbsp;&nbsp; for j in [0, j):\n\n\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if array[i] > array[j] &amp;&amp; L[j] +1 > L[i]:\n\n\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; L[i] = L[j] +1;\n\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n\t****\n\n\t&lt;****&gt;&lt;****&gt;&ldquo;&rdquo;&ldquo;&rdquo;V[w]wLCSc[i][j]x[0, i]y[0, j]LISL[i]array[0, i]\n\n\t","source":"_posts/algorithm-dynammic-programming.md","raw":"title:  - \ntags:\n  - \nid: 317\ncategories:\n  - \ndate: 2012-02-14 20:13:50\n---\n\n****\n\n\tDynamic Programming\n\n<!--more-->\n\n\t&ldquo;&rdquo;\n\n\t4\n\n\t1\n\n\t2\n\n\t3\n\n\t4\n\n\t****\n\n\tFibonacci\n\n> f(n) = f(n-2) + f(n-1);&nbsp;&nbsp;f(0) =0,&nbsp;f(1) = 1\n\n\tf(20)\n\n\tFibonacciFibonacci\n\n\t****\n\n\t\n\n\t\n\n\tFibonaccif(n-1)f(n-2)f(n-3)\n\n\tFibonacci\n\n<table border=\"1\" cellpadding=\"0\" cellspacing=\"0\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td valign=\"top\" width=\"568\">\n\n\t\t\t\t\tf[] := new bigint[n];\n\n\t\t\t\t\tf[0] := f[1] := 1;\n\n\t\t\t\t\tfor i in [2, n):\n\n\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp; f[i] := f[i-1] + f[i-2];\n\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n\tf(n)\n\n\t****\n\n\t\n\n\t**101**\n\n\tNWiw[i]v[i]0110\n\n\tV[i][w]iw\n\n\t\n\n\tV[i][w] = MAX{V[i-1][w], V[i-1][w-w[i]]+v[i]}\n\n\tV[i-1][w]i0V[i-1][w-w[i]]+v[i]i101\n\n\t\n\n<table border=\"1\" cellpadding=\"0\" cellspacing=\"0\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td valign=\"top\" width=\"568\">\n\n\t\t\t\t\tV[][] := new int[n][W]\n\n\t\t\t\t\tfor i in [1, n):\n\n\t\t\t\t\t&nbsp;&nbsp;&nbsp; for w in (W, w[i-1]]: // w-w[i-1]\n\n\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; V[i][w] := MAX{V[i-1][w], V[i-1][w-w[i]]+v[i]}\n\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n\tO(n*W)O(n*W)V[w]w\n\n\t\n\n> V [w] = MAX{V[w], V[w-w[i]]+v[i]}\n\n\t\n\n<table border=\"1\" cellpadding=\"0\" cellspacing=\"0\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td valign=\"top\" width=\"568\">\n\n\t\t\t\t\tV[]:= new int [W+1]\n\n\t\t\t\t\tfor i in [0, n):\n\n\t\t\t\t\t&nbsp;&nbsp;&nbsp; for w in [W, w[i]-1]: // w-w[i-1]\n\n\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; V[w] := MAX{V[w], V[w-w[i]]+v[i]}\n\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n\t**2Longest Common Sequence**\n\n\t\n\n\t[![clip_image002](http://www.hongweiyi.com/wp-content/uploads/2012/02/clip_image002_thumb1.jpg \"clip_image002\")](http://www.hongweiyi.com/wp-content/uploads/2012/02/clip_image0021.jpg)\n\n\tc[i][j]xiyjx[i]y[j]c[i-1][j-1]1c[i][j]c[i-1][j]c[i][j-1]\n\n\t\n\n<table border=\"1\" cellpadding=\"0\" cellspacing=\"0\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td valign=\"top\" width=\"568\">\n\n\t\t\t\t\tc[][] := new int[len(x)][len(y)]\n\n\t\t\t\t\tfor i in [0, len(x)):\n\n\t\t\t\t\t&nbsp;&nbsp;&nbsp; for j in [0, len(y));\n\n\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if i==0 || j==0 then:\n\n\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; c[i][j] :=0;\n\n\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else if x[i] == y[j] then:\n\n\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; c[i-1][j-1] += 1;\n\n\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else:\n\n\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; c[i][j]:= MAX{c[i][j-1], c[i-1][j]};\n\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n\t**3Longest Increase Sequence**\n\n\tN\n\n> LIS[i+1] = MAX{1, LIS[k] +1}, array[i+1] > array[k], for k in [0, i]\n\n\t\n\n<table border=\"1\" cellpadding=\"0\" cellspacing=\"0\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td valign=\"top\" width=\"568\">\n\n\t\t\t\t\tL[] :=new int[len(array)];\n\n\t\t\t\t\tfor i in [0, len(array)):\n\n\t\t\t\t\t&nbsp;&nbsp;&nbsp; L[i] := 1 // 1\n\n\t\t\t\t\t&nbsp;&nbsp;&nbsp; for j in [0, j):\n\n\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if array[i] > array[j] &amp;&amp; L[j] +1 > L[i]:\n\n\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; L[i] = L[j] +1;\n\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n\t****\n\n\t&lt;****&gt;&lt;****&gt;&ldquo;&rdquo;&ldquo;&rdquo;V[w]wLCSc[i][j]x[0, i]y[0, j]LISL[i]array[0, i]\n\n\t","slug":"algorithm-dynammic-programming","published":1,"updated":"2015-12-29T13:31:03.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciirfw73j00bnsv8f1cxfapx8"},{"title":"README","date":"2015-08-28T12:32:00.000Z","_content":"\n\n# \n\n [hexo](https://hexo.io/zh-cn/)\n\n```\n$ npm install hexo-cli -g\n$ hexo init blog\n$ cd blog\n$ npm install\n$ hexo server\n```\n\n\n# \n\n [NexT](http://theme-next.iissnan.com/)\n\n```\n$ cd your-hexo-site\n$ git clone https://github.com/iissnan/hexo-theme-next themes/next\n```\n\n\n [github ](https://github.com/iissnan/hexo-theme-next)  zip \n\n\n#  github pages\n\n git : [](https://hexo.io/zh-cn/docs/deployment.html)\n\n* \n\n\n```\n$ npm install hexo-deployer-git --save\n```\n\n*  `_config.yml`  deploy \n\n```\ndeploy:\n  type: git\n  repo: https://github.com/hongweiyi/hongweiyi.github.io.git\n```\n\n* \n\n```\n$ hexo deploy\n```\n","source":"_posts/README.md","raw":"title: README\ndate: 2015-08-28 20:32:00\n---\n\n\n# \n\n [hexo](https://hexo.io/zh-cn/)\n\n```\n$ npm install hexo-cli -g\n$ hexo init blog\n$ cd blog\n$ npm install\n$ hexo server\n```\n\n\n# \n\n [NexT](http://theme-next.iissnan.com/)\n\n```\n$ cd your-hexo-site\n$ git clone https://github.com/iissnan/hexo-theme-next themes/next\n```\n\n\n [github ](https://github.com/iissnan/hexo-theme-next)  zip \n\n\n#  github pages\n\n git : [](https://hexo.io/zh-cn/docs/deployment.html)\n\n* \n\n\n```\n$ npm install hexo-deployer-git --save\n```\n\n*  `_config.yml`  deploy \n\n```\ndeploy:\n  type: git\n  repo: https://github.com/hongweiyi/hongweiyi.github.io.git\n```\n\n* \n\n```\n$ hexo deploy\n```\n","slug":"README","published":1,"updated":"2015-12-29T13:30:15.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciirfw73k00bqsv8f4jcn45cl"},{"title":"2013","id":"623","date":"2013-01-03T15:20:47.000Z","_content":"\n201212BTW133\n\n<!--more-->\n\n\n\n1****solrhbasehadoop\n\n2****stormstormtopologies\n\n3****DremelGoogleHDFSDremel\n\n4****LinuxI/OIT\n\n5****LDALDA\n\n&nbsp;\n\nmac air\n\n6**mac os**macT_T\n\n14ICCCC","source":"_posts/2013-learning-plan.md","raw":"title: 2013\ntags:\n  - \nid: 623\ncategories:\n  - \ndate: 2013-01-03 23:20:47\n---\n\n201212BTW133\n\n<!--more-->\n\n\n\n1****solrhbasehadoop\n\n2****stormstormtopologies\n\n3****DremelGoogleHDFSDremel\n\n4****LinuxI/OIT\n\n5****LDALDA\n\n&nbsp;\n\nmac air\n\n6**mac os**macT_T\n\n14ICCCC","slug":"2013-learning-plan","published":1,"updated":"2015-12-29T13:31:03.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciirfw73m00brsv8fqj61b0l8"}],"PostAsset":[],"PostCategory":[{"post_id":"ciirfw6yj0001sv8fsy8xi3s5","category_id":"ciirfw6yl0002sv8ffmhw74yf","_id":"ciirfw6yn0005sv8f203yfktl"},{"post_id":"ciirfw6yo0006sv8ffygadnfd","category_id":"ciirfw6yl0002sv8ffmhw74yf","_id":"ciirfw6yo0007sv8fy69jx1ks"},{"post_id":"ciirfw6yp000asv8f8xnwf1qu","category_id":"ciirfw6yq000bsv8f80q88x4a","_id":"ciirfw6yr000esv8fnxx155xl"},{"post_id":"ciirfw6yr000hsv8fdns7ehnx","category_id":"ciirfw6yq000bsv8f80q88x4a","_id":"ciirfw6ys000isv8f944ghaei"},{"post_id":"ciirfw6yu000nsv8fvw5ckjh2","category_id":"ciirfw6yq000bsv8f80q88x4a","_id":"ciirfw6yu000osv8fbhylyymo"},{"post_id":"ciirfw6yw000rsv8fvvzmndqh","category_id":"ciirfw6yl0002sv8ffmhw74yf","_id":"ciirfw6yw000ssv8f99062itd"},{"post_id":"ciirfw6yx000vsv8fyab9fh17","category_id":"ciirfw6yl0002sv8ffmhw74yf","_id":"ciirfw6yy000wsv8faqtziwey"},{"post_id":"ciirfw6yz000zsv8f0n2imb81","category_id":"ciirfw6yq000bsv8f80q88x4a","_id":"ciirfw6z00010sv8fhrgs4u8m"},{"post_id":"ciirfw6z10013sv8f421fen87","category_id":"ciirfw6yl0002sv8ffmhw74yf","_id":"ciirfw6z20014sv8fgibtv9ur"},{"post_id":"ciirfw6z40017sv8f4qhjkt4m","category_id":"ciirfw6yq000bsv8f80q88x4a","_id":"ciirfw6z40018sv8fqdo3uolk"},{"post_id":"ciirfw6z6001dsv8fnk5uzoi5","category_id":"ciirfw6z6001esv8flksda37q","_id":"ciirfw6z6001hsv8fs3ret1h7"},{"post_id":"ciirfw6z7001isv8f2lv1r817","category_id":"ciirfw6z8001jsv8fdwjnpozk","_id":"ciirfw6z9001msv8f4diarckk"},{"post_id":"ciirfw6za001psv8fshyu71lp","category_id":"ciirfw6yq000bsv8f80q88x4a","_id":"ciirfw6za001qsv8f3a0eimx4"},{"post_id":"ciirfw6zc001usv8flkap9d3y","category_id":"ciirfw6yl0002sv8ffmhw74yf","_id":"ciirfw6zc001vsv8f9dlwzwc2"},{"post_id":"ciirfw6ze0021sv8fwqs48w4s","category_id":"ciirfw6yq000bsv8f80q88x4a","_id":"ciirfw6zf0022sv8f5nmb2lxr"},{"post_id":"ciirfw6zg0027sv8fx4v5cfwl","category_id":"ciirfw6yl0002sv8ffmhw74yf","_id":"ciirfw6zg0028sv8fqmfixm6l"},{"post_id":"ciirfw6zi002dsv8f5ucdpqll","category_id":"ciirfw6yl0002sv8ffmhw74yf","_id":"ciirfw6zi002esv8fp3w61gna"},{"post_id":"ciirfw6zj002hsv8fxqt7py66","category_id":"ciirfw6yl0002sv8ffmhw74yf","_id":"ciirfw6zk002isv8fv74rrhtv"},{"post_id":"ciirfw6zl002ksv8fo2duuzrw","category_id":"ciirfw6yq000bsv8f80q88x4a","_id":"ciirfw6zm002lsv8fgvxneopd"},{"post_id":"ciirfw6zn002osv8fein236fs","category_id":"ciirfw6z8001jsv8fdwjnpozk","_id":"ciirfw6zo002psv8fmc5fh7xx"},{"post_id":"ciirfw6zp002vsv8frd716snb","category_id":"ciirfw6yl0002sv8ffmhw74yf","_id":"ciirfw6zq002wsv8ffcufp25k"},{"post_id":"ciirfw6zr0031sv8f6fcb8att","category_id":"ciirfw6yl0002sv8ffmhw74yf","_id":"ciirfw6zs0032sv8fb7ls4d0y"},{"post_id":"ciirfw6zt0035sv8fh84srmpj","category_id":"ciirfw6yl0002sv8ffmhw74yf","_id":"ciirfw6zu0036sv8flg7o878k"},{"post_id":"ciirfw6zv0039sv8f71gsm19m","category_id":"ciirfw6yl0002sv8ffmhw74yf","_id":"ciirfw6zv003asv8fvjrc4v42"},{"post_id":"ciirfw6zx003fsv8fhc18x2my","category_id":"ciirfw6yl0002sv8ffmhw74yf","_id":"ciirfw6zx003gsv8fu22o0659"},{"post_id":"ciirfw6zy003ksv8f1hob0lhn","category_id":"ciirfw6yl0002sv8ffmhw74yf","_id":"ciirfw6zz003lsv8fbqwl6yw4"},{"post_id":"ciirfw702003rsv8fq590ploi","category_id":"ciirfw6yl0002sv8ffmhw74yf","_id":"ciirfw703003ssv8fpfio0foo"},{"post_id":"ciirfw706003ysv8f832eeyhv","category_id":"ciirfw6yl0002sv8ffmhw74yf","_id":"ciirfw707003zsv8f46wm6ylk"},{"post_id":"ciirfw7080042sv8fbfad2gti","category_id":"ciirfw6yl0002sv8ffmhw74yf","_id":"ciirfw7080043sv8fl7u9go6i"},{"post_id":"ciirfw7090045sv8fzz89t87q","category_id":"ciirfw6yl0002sv8ffmhw74yf","_id":"ciirfw7090046sv8fa5kc251b"},{"post_id":"ciirfw70a0048sv8fgt69eiiz","category_id":"ciirfw6yq000bsv8f80q88x4a","_id":"ciirfw70b0049sv8ftoqs7nhl"},{"post_id":"ciirfw70d004bsv8f7lceguik","category_id":"ciirfw6yq000bsv8f80q88x4a","_id":"ciirfw70e004csv8femasqccj"},{"post_id":"ciirfw70g004jsv8fef6dwlbc","category_id":"ciirfw6yl0002sv8ffmhw74yf","_id":"ciirfw70h004ksv8ff8iqz0tx"},{"post_id":"ciirfw70i004psv8f05sjkj2x","category_id":"ciirfw6yl0002sv8ffmhw74yf","_id":"ciirfw70j004qsv8fug1z8tq0"},{"post_id":"ciirfw70k004usv8f4razkxdy","category_id":"ciirfw6yl0002sv8ffmhw74yf","_id":"ciirfw70l004vsv8f9fcamfpa"},{"post_id":"ciirfw70m004ysv8fd4z2ylgl","category_id":"ciirfw6yl0002sv8ffmhw74yf","_id":"ciirfw70n004zsv8f6ucalmn7"},{"post_id":"ciirfw70o0054sv8frqas5vbl","category_id":"ciirfw6yl0002sv8ffmhw74yf","_id":"ciirfw70p0055sv8fgzfvzeh2"},{"post_id":"ciirfw70q0058sv8f8mv2ecg5","category_id":"ciirfw6yl0002sv8ffmhw74yf","_id":"ciirfw70q0059sv8fj9exswbu"},{"post_id":"ciirfw70s005csv8fer5kiwku","category_id":"ciirfw6yl0002sv8ffmhw74yf","_id":"ciirfw70s005dsv8f4lyem8wg"},{"post_id":"ciirfw70t005isv8ftz6a2hwa","category_id":"ciirfw6yl0002sv8ffmhw74yf","_id":"ciirfw70u005jsv8f9zlxwhew"},{"post_id":"ciirfw70v005msv8f4lu6q842","category_id":"ciirfw6yl0002sv8ffmhw74yf","_id":"ciirfw70w005nsv8f11a8881p"},{"post_id":"ciirfw70x005qsv8fdhjjwt7c","category_id":"ciirfw6yl0002sv8ffmhw74yf","_id":"ciirfw70x005rsv8f82svba2z"},{"post_id":"ciirfw70z005usv8fqpbhebuw","category_id":"ciirfw6yq000bsv8f80q88x4a","_id":"ciirfw70z005vsv8fq85c0dbb"},{"post_id":"ciirfw710005ysv8fm46zf8to","category_id":"ciirfw6yl0002sv8ffmhw74yf","_id":"ciirfw711005zsv8f56cth3xm"},{"post_id":"ciirfw7120061sv8fy0cd9ngd","category_id":"ciirfw6z8001jsv8fdwjnpozk","_id":"ciirfw7130062sv8fo3wv8wpt"},{"post_id":"ciirfw7140065sv8f79uw52n1","category_id":"ciirfw6yl0002sv8ffmhw74yf","_id":"ciirfw7140066sv8fi8n0ocd4"},{"post_id":"ciirfw7150068sv8fjdc8tiw8","category_id":"ciirfw6z8001jsv8fdwjnpozk","_id":"ciirfw7160069sv8fpuxdbdgs"},{"post_id":"ciirfw717006bsv8f7zbwyh0n","category_id":"ciirfw6yl0002sv8ffmhw74yf","_id":"ciirfw717006csv8frh9nfbit"},{"post_id":"ciirfw718006esv8ftbl3i6o1","category_id":"ciirfw6yl0002sv8ffmhw74yf","_id":"ciirfw719006fsv8f7qi91tdb"},{"post_id":"ciirfw719006isv8fgcyt5xwq","category_id":"ciirfw6yl0002sv8ffmhw74yf","_id":"ciirfw71a006jsv8fvvlnsjdx"},{"post_id":"ciirfw71b006osv8fl1nhk9pq","category_id":"ciirfw6yl0002sv8ffmhw74yf","_id":"ciirfw71c006psv8f5bp7tjni"},{"post_id":"ciirfw71d006ssv8fzupk1lbr","category_id":"ciirfw6z6001esv8flksda37q","_id":"ciirfw71d006tsv8f3lpptg4c"},{"post_id":"ciirfw71e006wsv8fedmjidbb","category_id":"ciirfw6yl0002sv8ffmhw74yf","_id":"ciirfw71f006xsv8f9sdlk2h4"},{"post_id":"ciirfw71j0070sv8f6lw04ye1","category_id":"ciirfw6yl0002sv8ffmhw74yf","_id":"ciirfw71k0071sv8f1iv77t5b"},{"post_id":"ciirfw71l0073sv8ff1p3gmks","category_id":"ciirfw6yl0002sv8ffmhw74yf","_id":"ciirfw71l0074sv8f10f0yefz"},{"post_id":"ciirfw71m0079sv8fnugzhjkc","category_id":"ciirfw6yl0002sv8ffmhw74yf","_id":"ciirfw71n007asv8fjp0w3jg0"},{"post_id":"ciirfw71o007esv8fbzovva7w","category_id":"ciirfw6yl0002sv8ffmhw74yf","_id":"ciirfw71p007fsv8f0gkms4ou"},{"post_id":"ciirfw71q007jsv8fxkcvq71s","category_id":"ciirfw6yl0002sv8ffmhw74yf","_id":"ciirfw71r007ksv8f16uw890x"},{"post_id":"ciirfw71s007nsv8fkncjeesn","category_id":"ciirfw6yl0002sv8ffmhw74yf","_id":"ciirfw71s007osv8fvlo3jg49"},{"post_id":"ciirfw71t007rsv8fngxv8qzt","category_id":"ciirfw6yl0002sv8ffmhw74yf","_id":"ciirfw71t007ssv8fdr0ykibf"},{"post_id":"ciirfw71u007usv8fopbbbgor","category_id":"ciirfw6yl0002sv8ffmhw74yf","_id":"ciirfw71v007vsv8f87zcwabo"},{"post_id":"ciirfw71v007xsv8f36za5sdy","category_id":"ciirfw6yq000bsv8f80q88x4a","_id":"ciirfw71w007ysv8f83hcp69t"},{"post_id":"ciirfw71x0081sv8fhbe1gblc","category_id":"ciirfw6z8001jsv8fdwjnpozk","_id":"ciirfw71x0082sv8f5q2weg29"},{"post_id":"ciirfw71y0085sv8f13l894qv","category_id":"ciirfw6z6001esv8flksda37q","_id":"ciirfw71z0086sv8fsbs8qebh"},{"post_id":"ciirfw7200089sv8f72ioy073","category_id":"ciirfw6yq000bsv8f80q88x4a","_id":"ciirfw721008asv8fc5padv9l"},{"post_id":"ciirfw722008dsv8f76bsi9zw","category_id":"ciirfw6yq000bsv8f80q88x4a","_id":"ciirfw723008esv8fv0oegj5a"},{"post_id":"ciirfw726008hsv8fwr3exu9w","category_id":"ciirfw6yl0002sv8ffmhw74yf","_id":"ciirfw726008isv8f3jsw1nlo"},{"post_id":"ciirfw727008msv8fgf84mgzo","category_id":"ciirfw728008nsv8fw52os3ad","_id":"ciirfw729008qsv8fjrrwlxm1"},{"post_id":"ciirfw72a008vsv8fu0gfmz0b","category_id":"ciirfw6z8001jsv8fdwjnpozk","_id":"ciirfw72b008wsv8fdnfqp83t"},{"post_id":"ciirfw72c0090sv8fyk9g20v6","category_id":"ciirfw6yl0002sv8ffmhw74yf","_id":"ciirfw72e0093sv8flzc2hnko"},{"post_id":"ciirfw72c0090sv8fyk9g20v6","category_id":"ciirfw72d0091sv8f6c16s9ez","_id":"ciirfw72e0094sv8fzst4tpep"},{"post_id":"ciirfw72e0095sv8fxdkp6u8t","category_id":"ciirfw6yl0002sv8ffmhw74yf","_id":"ciirfw72f0096sv8fr6ca2fhw"},{"post_id":"ciirfw72g0099sv8f2rorlsk4","category_id":"ciirfw6yl0002sv8ffmhw74yf","_id":"ciirfw72g009asv8fftpvkuqn"},{"post_id":"ciirfw72h009dsv8f6unnq2p0","category_id":"ciirfw6yl0002sv8ffmhw74yf","_id":"ciirfw72i009esv8f7f1xvqm8"},{"post_id":"ciirfw72k009gsv8fok68806m","category_id":"ciirfw6yl0002sv8ffmhw74yf","_id":"ciirfw72k009hsv8f7m0nqxqx"},{"post_id":"ciirfw72l009jsv8fphrpj3v5","category_id":"ciirfw6yl0002sv8ffmhw74yf","_id":"ciirfw72m009ksv8feelgkd0j"},{"post_id":"ciirfw72m009msv8fcmbkhihm","category_id":"ciirfw6yl0002sv8ffmhw74yf","_id":"ciirfw72n009nsv8fb5l1wz7r"},{"post_id":"ciirfw72o009psv8fgzsqkv1c","category_id":"ciirfw6yl0002sv8ffmhw74yf","_id":"ciirfw72o009qsv8frat0pa93"},{"post_id":"ciirfw72p009ssv8f5kbieiqw","category_id":"ciirfw6yl0002sv8ffmhw74yf","_id":"ciirfw72q009tsv8f303e0vfr"},{"post_id":"ciirfw72q009vsv8feyqu4njv","category_id":"ciirfw6yl0002sv8ffmhw74yf","_id":"ciirfw72r009wsv8fomt49y82"},{"post_id":"ciirfw72s009ysv8frduazeua","category_id":"ciirfw6yl0002sv8ffmhw74yf","_id":"ciirfw72s009zsv8fmrxdj600"},{"post_id":"ciirfw72t00a1sv8f1f3gc36b","category_id":"ciirfw6yl0002sv8ffmhw74yf","_id":"ciirfw72u00a2sv8fcl44hlri"},{"post_id":"ciirfw72u00a4sv8fhtrfnfju","category_id":"ciirfw6yl0002sv8ffmhw74yf","_id":"ciirfw72v00a5sv8fl9icqrvy"},{"post_id":"ciirfw72w00a7sv8fatt6e8l1","category_id":"ciirfw6yl0002sv8ffmhw74yf","_id":"ciirfw72x00a8sv8fo3h5g9ky"},{"post_id":"ciirfw72y00aasv8fc5yfvq26","category_id":"ciirfw6yl0002sv8ffmhw74yf","_id":"ciirfw72y00absv8fhouz3l61"},{"post_id":"ciirfw72z00adsv8fgbdkk3h1","category_id":"ciirfw6z8001jsv8fdwjnpozk","_id":"ciirfw73000aesv8fu7v3qltv"},{"post_id":"ciirfw73100ajsv8fhyfwnwfy","category_id":"ciirfw6yl0002sv8ffmhw74yf","_id":"ciirfw73200aksv8fmya782zz"},{"post_id":"ciirfw73300aosv8f29js8hpk","category_id":"ciirfw6yq000bsv8f80q88x4a","_id":"ciirfw73400apsv8f7s2g2lge"},{"post_id":"ciirfw73500arsv8fwoq5gxej","category_id":"ciirfw6yl0002sv8ffmhw74yf","_id":"ciirfw73500assv8fh00ix6kg"},{"post_id":"ciirfw73700ausv8f6zj4bhae","category_id":"ciirfw6yl0002sv8ffmhw74yf","_id":"ciirfw73700avsv8fvgvdoyx7"},{"post_id":"ciirfw73800axsv8fp846g8pk","category_id":"ciirfw6yl0002sv8ffmhw74yf","_id":"ciirfw73900aysv8f5vvotf4o"},{"post_id":"ciirfw73a00b0sv8fdy4zkgcz","category_id":"ciirfw6yl0002sv8ffmhw74yf","_id":"ciirfw73a00b1sv8f71ztgrp5"},{"post_id":"ciirfw73b00b4sv8f0w2p2dxh","category_id":"ciirfw6yl0002sv8ffmhw74yf","_id":"ciirfw73c00b5sv8fq9thm8ny"},{"post_id":"ciirfw73d00b7sv8fzuoxdnoc","category_id":"ciirfw6yl0002sv8ffmhw74yf","_id":"ciirfw73d00b8sv8fspweonto"},{"post_id":"ciirfw73e00bdsv8foh0df0m8","category_id":"ciirfw6yl0002sv8ffmhw74yf","_id":"ciirfw73f00besv8f661u6xyn"},{"post_id":"ciirfw73g00bhsv8fav8y6kae","category_id":"ciirfw6yl0002sv8ffmhw74yf","_id":"ciirfw73h00bisv8f1x4qgxsj"},{"post_id":"ciirfw73h00bksv8f8vxac2cf","category_id":"ciirfw6yl0002sv8ffmhw74yf","_id":"ciirfw73i00blsv8ff1qbgf66"},{"post_id":"ciirfw73j00bnsv8f1cxfapx8","category_id":"ciirfw6yl0002sv8ffmhw74yf","_id":"ciirfw73k00bosv8fq927ql3z"},{"post_id":"ciirfw73m00brsv8fqj61b0l8","category_id":"ciirfw6yq000bsv8f80q88x4a","_id":"ciirfw73n00bssv8fih245hux"}],"PostTag":[{"post_id":"ciirfw6yj0001sv8fsy8xi3s5","tag_id":"ciirfw6yl0003sv8f6k9qjbah","_id":"ciirfw6yn0004sv8fnd1cognq"},{"post_id":"ciirfw6yo0006sv8ffygadnfd","tag_id":"ciirfw6yo0008sv8flt8tnza6","_id":"ciirfw6yp0009sv8fb0kywti8"},{"post_id":"ciirfw6yp000asv8f8xnwf1qu","tag_id":"ciirfw6yq000csv8fp47alrrn","_id":"ciirfw6yr000fsv8fn3nleo07"},{"post_id":"ciirfw6yp000asv8f8xnwf1qu","tag_id":"ciirfw6yr000dsv8foy1x4nty","_id":"ciirfw6yr000gsv8f6drt01j8"},{"post_id":"ciirfw6yr000hsv8fdns7ehnx","tag_id":"ciirfw6ys000jsv8fyqi2blpe","_id":"ciirfw6ys000lsv8fc04717gj"},{"post_id":"ciirfw6yr000hsv8fdns7ehnx","tag_id":"ciirfw6ys000ksv8fn0okxpy3","_id":"ciirfw6yt000msv8fbjbn264j"},{"post_id":"ciirfw6yu000nsv8fvw5ckjh2","tag_id":"ciirfw6yu000psv8fxz5j5cqq","_id":"ciirfw6yu000qsv8f9fspc0l0"},{"post_id":"ciirfw6yw000rsv8fvvzmndqh","tag_id":"ciirfw6yw000tsv8f5gy8c6i9","_id":"ciirfw6yw000usv8f81j2b47y"},{"post_id":"ciirfw6yx000vsv8fyab9fh17","tag_id":"ciirfw6yy000xsv8fg4vpyb10","_id":"ciirfw6yy000ysv8f2axaqvus"},{"post_id":"ciirfw6yz000zsv8f0n2imb81","tag_id":"ciirfw6z00011sv8ffphk4m75","_id":"ciirfw6z00012sv8fg8o07o0l"},{"post_id":"ciirfw6z10013sv8f421fen87","tag_id":"ciirfw6z20015sv8f8kjj9m1s","_id":"ciirfw6z20016sv8fz8xlx155"},{"post_id":"ciirfw6z40017sv8f4qhjkt4m","tag_id":"ciirfw6z40019sv8ft8fd06nk","_id":"ciirfw6z5001bsv8fuj11u0yx"},{"post_id":"ciirfw6z40017sv8f4qhjkt4m","tag_id":"ciirfw6z5001asv8fmrmskcew","_id":"ciirfw6z5001csv8fxfdi1x7p"},{"post_id":"ciirfw6z6001dsv8fnk5uzoi5","tag_id":"ciirfw6z6001fsv8f11y4yf4o","_id":"ciirfw6z6001gsv8f2y7ezr12"},{"post_id":"ciirfw6z7001isv8f2lv1r817","tag_id":"ciirfw6z8001ksv8f8te77fov","_id":"ciirfw6z9001nsv8ft3g1d7vw"},{"post_id":"ciirfw6z7001isv8f2lv1r817","tag_id":"ciirfw6z8001lsv8f36qxnjv0","_id":"ciirfw6z9001osv8fyqxvxqap"},{"post_id":"ciirfw6za001psv8fshyu71lp","tag_id":"ciirfw6za001rsv8fmhh1gn63","_id":"ciirfw6za001ssv8fr4c86w06"},{"post_id":"ciirfw6za001psv8fshyu71lp","tag_id":"ciirfw6yu000psv8fxz5j5cqq","_id":"ciirfw6zb001tsv8fw76wka9l"},{"post_id":"ciirfw6zc001usv8flkap9d3y","tag_id":"ciirfw6yw000tsv8f5gy8c6i9","_id":"ciirfw6zd001ysv8f8tqrkldz"},{"post_id":"ciirfw6zc001usv8flkap9d3y","tag_id":"ciirfw6zd001wsv8f6klpx141","_id":"ciirfw6zd001zsv8flrxvg28u"},{"post_id":"ciirfw6zc001usv8flkap9d3y","tag_id":"ciirfw6zd001xsv8ff6bmyggp","_id":"ciirfw6zd0020sv8fylyqrjif"},{"post_id":"ciirfw6ze0021sv8fwqs48w4s","tag_id":"ciirfw6zf0023sv8fiyqepd8e","_id":"ciirfw6zf0024sv8foq5shkx2"},{"post_id":"ciirfw6ze0021sv8fwqs48w4s","tag_id":"ciirfw6z5001asv8fmrmskcew","_id":"ciirfw6zf0025sv8fhmsci5u7"},{"post_id":"ciirfw6ze0021sv8fwqs48w4s","tag_id":"ciirfw6yu000psv8fxz5j5cqq","_id":"ciirfw6zf0026sv8fty9thsur"},{"post_id":"ciirfw6zg0027sv8fx4v5cfwl","tag_id":"ciirfw6zg0029sv8fah3qoyif","_id":"ciirfw6zh002bsv8frz17wr2l"},{"post_id":"ciirfw6zg0027sv8fx4v5cfwl","tag_id":"ciirfw6zh002asv8fxxzmbfqq","_id":"ciirfw6zh002csv8fvi3ding5"},{"post_id":"ciirfw6zi002dsv8f5ucdpqll","tag_id":"ciirfw6zi002fsv8fl4wmecgz","_id":"ciirfw6zj002gsv8fp976tebb"},{"post_id":"ciirfw6zj002hsv8fxqt7py66","tag_id":"ciirfw6zi002fsv8fl4wmecgz","_id":"ciirfw6zk002jsv8fu1nebcp4"},{"post_id":"ciirfw6zl002ksv8fo2duuzrw","tag_id":"ciirfw6z40019sv8ft8fd06nk","_id":"ciirfw6zm002msv8fjf4n8uvp"},{"post_id":"ciirfw6zl002ksv8fo2duuzrw","tag_id":"ciirfw6z5001asv8fmrmskcew","_id":"ciirfw6zm002nsv8fwmgp8ypz"},{"post_id":"ciirfw6zn002osv8fein236fs","tag_id":"ciirfw6z8001ksv8f8te77fov","_id":"ciirfw6zo002ssv8fl4xfv8c0"},{"post_id":"ciirfw6zn002osv8fein236fs","tag_id":"ciirfw6zo002qsv8fcqgparnw","_id":"ciirfw6zo002tsv8fnxwgaxir"},{"post_id":"ciirfw6zn002osv8fein236fs","tag_id":"ciirfw6zo002rsv8f57ieh0xe","_id":"ciirfw6zp002usv8frha5feyd"},{"post_id":"ciirfw6zp002vsv8frd716snb","tag_id":"ciirfw6zq002xsv8fnnda26za","_id":"ciirfw6zq002ysv8fdy2hjovm"},{"post_id":"ciirfw6zp002vsv8frd716snb","tag_id":"ciirfw6zo002qsv8fcqgparnw","_id":"ciirfw6zq002zsv8f1rk5ix94"},{"post_id":"ciirfw6zp002vsv8frd716snb","tag_id":"ciirfw6zo002rsv8f57ieh0xe","_id":"ciirfw6zq0030sv8ft6ayds7o"},{"post_id":"ciirfw6zr0031sv8f6fcb8att","tag_id":"ciirfw6zq002xsv8fnnda26za","_id":"ciirfw6zs0033sv8f0n8lig41"},{"post_id":"ciirfw6zr0031sv8f6fcb8att","tag_id":"ciirfw6zo002qsv8fcqgparnw","_id":"ciirfw6zs0034sv8fjs029zm2"},{"post_id":"ciirfw6zt0035sv8fh84srmpj","tag_id":"ciirfw6zu0037sv8fdn2jcwf0","_id":"ciirfw6zu0038sv8fzksw8jk4"},{"post_id":"ciirfw6zv0039sv8f71gsm19m","tag_id":"ciirfw6zh002asv8fxxzmbfqq","_id":"ciirfw6zw003csv8fnm5qfbqo"},{"post_id":"ciirfw6zv0039sv8f71gsm19m","tag_id":"ciirfw6zu0037sv8fdn2jcwf0","_id":"ciirfw6zw003dsv8fwqg04t2k"},{"post_id":"ciirfw6zv0039sv8f71gsm19m","tag_id":"ciirfw6zw003bsv8fo6ui7403","_id":"ciirfw6zw003esv8f8ogmtrif"},{"post_id":"ciirfw6zx003fsv8fhc18x2my","tag_id":"ciirfw6zh002asv8fxxzmbfqq","_id":"ciirfw6zx003hsv8fyynci9qi"},{"post_id":"ciirfw6zx003fsv8fhc18x2my","tag_id":"ciirfw6zu0037sv8fdn2jcwf0","_id":"ciirfw6zx003isv8femws1cyk"},{"post_id":"ciirfw6zx003fsv8fhc18x2my","tag_id":"ciirfw6zw003bsv8fo6ui7403","_id":"ciirfw6zx003jsv8fs89qy5gf"},{"post_id":"ciirfw6zy003ksv8f1hob0lhn","tag_id":"ciirfw6z8001ksv8f8te77fov","_id":"ciirfw700003osv8f2er9rsch"},{"post_id":"ciirfw6zy003ksv8f1hob0lhn","tag_id":"ciirfw6zz003msv8fbivcjw4q","_id":"ciirfw700003psv8fn5b610a1"},{"post_id":"ciirfw6zy003ksv8f1hob0lhn","tag_id":"ciirfw6zz003nsv8fntcwpoxn","_id":"ciirfw700003qsv8fpenmj1w1"},{"post_id":"ciirfw702003rsv8fq590ploi","tag_id":"ciirfw6z8001ksv8f8te77fov","_id":"ciirfw704003usv8fytpoznz2"},{"post_id":"ciirfw702003rsv8fq590ploi","tag_id":"ciirfw6zz003msv8fbivcjw4q","_id":"ciirfw704003vsv8fapxjsaf3"},{"post_id":"ciirfw702003rsv8fq590ploi","tag_id":"ciirfw6zz003nsv8fntcwpoxn","_id":"ciirfw704003wsv8fn9ecb0m9"},{"post_id":"ciirfw702003rsv8fq590ploi","tag_id":"ciirfw704003tsv8fluyy0pnv","_id":"ciirfw704003xsv8fgp04vgo6"},{"post_id":"ciirfw706003ysv8f832eeyhv","tag_id":"ciirfw6zz003nsv8fntcwpoxn","_id":"ciirfw7070040sv8fg9ngc39f"},{"post_id":"ciirfw706003ysv8f832eeyhv","tag_id":"ciirfw704003tsv8fluyy0pnv","_id":"ciirfw7070041sv8f8btx4sax"},{"post_id":"ciirfw7080042sv8fbfad2gti","tag_id":"ciirfw6zz003nsv8fntcwpoxn","_id":"ciirfw7080044sv8f173yh6gq"},{"post_id":"ciirfw7090045sv8fzz89t87q","tag_id":"ciirfw6zz003nsv8fntcwpoxn","_id":"ciirfw70a0047sv8fbwpoyxzg"},{"post_id":"ciirfw70a0048sv8fgt69eiiz","tag_id":"ciirfw6z00011sv8ffphk4m75","_id":"ciirfw70b004asv8feqzkfsrh"},{"post_id":"ciirfw70d004bsv8f7lceguik","tag_id":"ciirfw70e004dsv8fgzbebv80","_id":"ciirfw70f004gsv8fygmqk6z2"},{"post_id":"ciirfw70d004bsv8f7lceguik","tag_id":"ciirfw70e004esv8fjo7jevwo","_id":"ciirfw70f004hsv8f4ey386hn"},{"post_id":"ciirfw70d004bsv8f7lceguik","tag_id":"ciirfw70e004fsv8f4exoz69k","_id":"ciirfw70f004isv8f50yplrhp"},{"post_id":"ciirfw70g004jsv8fef6dwlbc","tag_id":"ciirfw70h004lsv8f27shk447","_id":"ciirfw70h004nsv8ft6gd2csk"},{"post_id":"ciirfw70g004jsv8fef6dwlbc","tag_id":"ciirfw70h004msv8f7kfgea6n","_id":"ciirfw70h004osv8fh2i1suew"},{"post_id":"ciirfw70i004psv8f05sjkj2x","tag_id":"ciirfw6zq002xsv8fnnda26za","_id":"ciirfw70j004ssv8fj9rt8ufq"},{"post_id":"ciirfw70i004psv8f05sjkj2x","tag_id":"ciirfw70j004rsv8fjh65x3q0","_id":"ciirfw70j004tsv8fxn37mpbd"},{"post_id":"ciirfw70k004usv8f4razkxdy","tag_id":"ciirfw6zq002xsv8fnnda26za","_id":"ciirfw70l004wsv8fd70bkq27"},{"post_id":"ciirfw70k004usv8f4razkxdy","tag_id":"ciirfw70j004rsv8fjh65x3q0","_id":"ciirfw70l004xsv8f8cq2qw0s"},{"post_id":"ciirfw70m004ysv8fd4z2ylgl","tag_id":"ciirfw70n0050sv8fr5jzgyzh","_id":"ciirfw70n0052sv8fufg1uvnw"},{"post_id":"ciirfw70m004ysv8fd4z2ylgl","tag_id":"ciirfw70n0051sv8f5j098lk9","_id":"ciirfw70n0053sv8fdt4t355r"},{"post_id":"ciirfw70o0054sv8frqas5vbl","tag_id":"ciirfw70n0050sv8fr5jzgyzh","_id":"ciirfw70p0056sv8fj75devg4"},{"post_id":"ciirfw70o0054sv8frqas5vbl","tag_id":"ciirfw70n0051sv8f5j098lk9","_id":"ciirfw70p0057sv8fufmjp06c"},{"post_id":"ciirfw70q0058sv8f8mv2ecg5","tag_id":"ciirfw70n0050sv8fr5jzgyzh","_id":"ciirfw70r005asv8fcgoeddsg"},{"post_id":"ciirfw70q0058sv8f8mv2ecg5","tag_id":"ciirfw70n0051sv8f5j098lk9","_id":"ciirfw70r005bsv8fheo1y0uc"},{"post_id":"ciirfw70s005csv8fer5kiwku","tag_id":"ciirfw70s005esv8fcdxi4dbw","_id":"ciirfw70t005gsv8fl9rssjj0"},{"post_id":"ciirfw70s005csv8fer5kiwku","tag_id":"ciirfw70s005fsv8ffxpau416","_id":"ciirfw70t005hsv8fx0lmovax"},{"post_id":"ciirfw70t005isv8ftz6a2hwa","tag_id":"ciirfw70s005esv8fcdxi4dbw","_id":"ciirfw70u005ksv8fgkz039a2"},{"post_id":"ciirfw70t005isv8ftz6a2hwa","tag_id":"ciirfw70s005fsv8ffxpau416","_id":"ciirfw70u005lsv8fpts1hxvs"},{"post_id":"ciirfw70v005msv8f4lu6q842","tag_id":"ciirfw70s005esv8fcdxi4dbw","_id":"ciirfw70w005osv8fv0qzmwdj"},{"post_id":"ciirfw70v005msv8f4lu6q842","tag_id":"ciirfw70s005fsv8ffxpau416","_id":"ciirfw70w005psv8f3e89dmiu"},{"post_id":"ciirfw70x005qsv8fdhjjwt7c","tag_id":"ciirfw70s005esv8fcdxi4dbw","_id":"ciirfw70y005ssv8fcf9w5rdd"},{"post_id":"ciirfw70x005qsv8fdhjjwt7c","tag_id":"ciirfw70s005fsv8ffxpau416","_id":"ciirfw70y005tsv8fspo9pxli"},{"post_id":"ciirfw70z005usv8fqpbhebuw","tag_id":"ciirfw6ys000jsv8fyqi2blpe","_id":"ciirfw70z005wsv8fvixnoapq"},{"post_id":"ciirfw70z005usv8fqpbhebuw","tag_id":"ciirfw6ys000ksv8fn0okxpy3","_id":"ciirfw710005xsv8feh1m7cim"},{"post_id":"ciirfw710005ysv8fm46zf8to","tag_id":"ciirfw6zo002qsv8fcqgparnw","_id":"ciirfw7120060sv8fjsns4b93"},{"post_id":"ciirfw7120061sv8fy0cd9ngd","tag_id":"ciirfw7130063sv8fvfll1dea","_id":"ciirfw7130064sv8frpe194s2"},{"post_id":"ciirfw7140065sv8f79uw52n1","tag_id":"ciirfw6zq002xsv8fnnda26za","_id":"ciirfw7140067sv8fiek37ugq"},{"post_id":"ciirfw7150068sv8fjdc8tiw8","tag_id":"ciirfw6z8001ksv8f8te77fov","_id":"ciirfw716006asv8fpw8qhf65"},{"post_id":"ciirfw717006bsv8f7zbwyh0n","tag_id":"ciirfw6zq002xsv8fnnda26za","_id":"ciirfw717006dsv8f1a9wg8q4"},{"post_id":"ciirfw718006esv8ftbl3i6o1","tag_id":"ciirfw70n0050sv8fr5jzgyzh","_id":"ciirfw719006gsv8fnzx2l2u1"},{"post_id":"ciirfw718006esv8ftbl3i6o1","tag_id":"ciirfw70n0051sv8f5j098lk9","_id":"ciirfw719006hsv8fn7z5w9am"},{"post_id":"ciirfw719006isv8fgcyt5xwq","tag_id":"ciirfw70n0050sv8fr5jzgyzh","_id":"ciirfw71a006lsv8faciz0pok"},{"post_id":"ciirfw719006isv8fgcyt5xwq","tag_id":"ciirfw71a006ksv8fgrng8dkf","_id":"ciirfw71a006msv8ffovm5e3i"},{"post_id":"ciirfw719006isv8fgcyt5xwq","tag_id":"ciirfw70n0051sv8f5j098lk9","_id":"ciirfw71a006nsv8fafgmeh2c"},{"post_id":"ciirfw71b006osv8fl1nhk9pq","tag_id":"ciirfw70n0050sv8fr5jzgyzh","_id":"ciirfw71c006qsv8ftyhpux1n"},{"post_id":"ciirfw71b006osv8fl1nhk9pq","tag_id":"ciirfw70n0051sv8f5j098lk9","_id":"ciirfw71c006rsv8f6cnj0wc7"},{"post_id":"ciirfw71d006ssv8fzupk1lbr","tag_id":"ciirfw71d006usv8f6rxqeky0","_id":"ciirfw71e006vsv8f9x1n4dcr"},{"post_id":"ciirfw71e006wsv8fedmjidbb","tag_id":"ciirfw71f006ysv8fkh7tvu1b","_id":"ciirfw71f006zsv8fwhfg998q"},{"post_id":"ciirfw71j0070sv8f6lw04ye1","tag_id":"ciirfw70n0050sv8fr5jzgyzh","_id":"ciirfw71k0072sv8frs5h9ox6"},{"post_id":"ciirfw71l0073sv8ff1p3gmks","tag_id":"ciirfw70n0050sv8fr5jzgyzh","_id":"ciirfw71m0076sv8f84xklima"},{"post_id":"ciirfw71l0073sv8ff1p3gmks","tag_id":"ciirfw71l0075sv8fwkc6rxyr","_id":"ciirfw71m0077sv8fqta7zm11"},{"post_id":"ciirfw71l0073sv8ff1p3gmks","tag_id":"ciirfw70n0051sv8f5j098lk9","_id":"ciirfw71m0078sv8fk8ymvhd0"},{"post_id":"ciirfw71m0079sv8fnugzhjkc","tag_id":"ciirfw70n0050sv8fr5jzgyzh","_id":"ciirfw71o007bsv8fr5aamxh0"},{"post_id":"ciirfw71m0079sv8fnugzhjkc","tag_id":"ciirfw71l0075sv8fwkc6rxyr","_id":"ciirfw71o007csv8ftfysrbbc"},{"post_id":"ciirfw71m0079sv8fnugzhjkc","tag_id":"ciirfw70n0051sv8f5j098lk9","_id":"ciirfw71o007dsv8fi809ksjh"},{"post_id":"ciirfw71o007esv8fbzovva7w","tag_id":"ciirfw70n0050sv8fr5jzgyzh","_id":"ciirfw71q007hsv8fu1aikep1"},{"post_id":"ciirfw71o007esv8fbzovva7w","tag_id":"ciirfw71p007gsv8fh30qhenq","_id":"ciirfw71q007isv8fbflxpxnm"},{"post_id":"ciirfw71q007jsv8fxkcvq71s","tag_id":"ciirfw70n0050sv8fr5jzgyzh","_id":"ciirfw71r007lsv8fqfseb68b"},{"post_id":"ciirfw71q007jsv8fxkcvq71s","tag_id":"ciirfw71p007gsv8fh30qhenq","_id":"ciirfw71r007msv8fgqwkfleq"},{"post_id":"ciirfw71s007nsv8fkncjeesn","tag_id":"ciirfw70n0050sv8fr5jzgyzh","_id":"ciirfw71s007psv8fgh5xnx4l"},{"post_id":"ciirfw71s007nsv8fkncjeesn","tag_id":"ciirfw71p007gsv8fh30qhenq","_id":"ciirfw71s007qsv8fldwg87nq"},{"post_id":"ciirfw71t007rsv8fngxv8qzt","tag_id":"ciirfw70n0050sv8fr5jzgyzh","_id":"ciirfw71u007tsv8f096ce69d"},{"post_id":"ciirfw71u007usv8fopbbbgor","tag_id":"ciirfw70n0050sv8fr5jzgyzh","_id":"ciirfw71v007wsv8fgpyua6mq"},{"post_id":"ciirfw71v007xsv8f36za5sdy","tag_id":"ciirfw71w007zsv8fkl83d0kc","_id":"ciirfw71w0080sv8fgejivnza"},{"post_id":"ciirfw71x0081sv8fhbe1gblc","tag_id":"ciirfw71x0083sv8fqvbbq0zz","_id":"ciirfw71y0084sv8fg9qm34ew"},{"post_id":"ciirfw71y0085sv8f13l894qv","tag_id":"ciirfw71z0087sv8fj2szk5iz","_id":"ciirfw71z0088sv8fkv7bn2dd"},{"post_id":"ciirfw7200089sv8f72ioy073","tag_id":"ciirfw6z00011sv8ffphk4m75","_id":"ciirfw721008bsv8fym0yhnyz"},{"post_id":"ciirfw7200089sv8f72ioy073","tag_id":"ciirfw6yu000psv8fxz5j5cqq","_id":"ciirfw721008csv8fi6skht15"},{"post_id":"ciirfw722008dsv8f76bsi9zw","tag_id":"ciirfw723008fsv8f1yujy0g8","_id":"ciirfw724008gsv8fca5c9d3w"},{"post_id":"ciirfw726008hsv8fwr3exu9w","tag_id":"ciirfw726008jsv8fmw1im4sk","_id":"ciirfw727008ksv8fu76o4vhw"},{"post_id":"ciirfw726008hsv8fwr3exu9w","tag_id":"ciirfw6zq002xsv8fnnda26za","_id":"ciirfw727008lsv8fgymob6o4"},{"post_id":"ciirfw727008msv8fgf84mgzo","tag_id":"ciirfw728008osv8fs82uvnu7","_id":"ciirfw729008ssv8f2yr1qfcv"},{"post_id":"ciirfw727008msv8fgf84mgzo","tag_id":"ciirfw728008psv8fouvh3trq","_id":"ciirfw72a008tsv8f1hqvcmq4"},{"post_id":"ciirfw727008msv8fgf84mgzo","tag_id":"ciirfw729008rsv8fmiz6gw8l","_id":"ciirfw72a008usv8fraxdg8fq"},{"post_id":"ciirfw72a008vsv8fu0gfmz0b","tag_id":"ciirfw728008osv8fs82uvnu7","_id":"ciirfw72b008ysv8fnc4b0xnl"},{"post_id":"ciirfw72a008vsv8fu0gfmz0b","tag_id":"ciirfw72b008xsv8fi00xtg4t","_id":"ciirfw72c008zsv8foymjwxbo"},{"post_id":"ciirfw72c0090sv8fyk9g20v6","tag_id":"ciirfw6z5001asv8fmrmskcew","_id":"ciirfw72d0092sv8fblw8q4wn"},{"post_id":"ciirfw72e0095sv8fxdkp6u8t","tag_id":"ciirfw72f0097sv8f8m55z60b","_id":"ciirfw72f0098sv8fs74o3wgh"},{"post_id":"ciirfw72g0099sv8f2rorlsk4","tag_id":"ciirfw72g009bsv8fm1tj5vak","_id":"ciirfw72h009csv8fry4o8zus"},{"post_id":"ciirfw72h009dsv8f6unnq2p0","tag_id":"ciirfw72g009bsv8fm1tj5vak","_id":"ciirfw72i009fsv8frut98grd"},{"post_id":"ciirfw72k009gsv8fok68806m","tag_id":"ciirfw72g009bsv8fm1tj5vak","_id":"ciirfw72k009isv8f3rtor3ge"},{"post_id":"ciirfw72l009jsv8fphrpj3v5","tag_id":"ciirfw72g009bsv8fm1tj5vak","_id":"ciirfw72m009lsv8f5btbmtdz"},{"post_id":"ciirfw72m009msv8fcmbkhihm","tag_id":"ciirfw72g009bsv8fm1tj5vak","_id":"ciirfw72n009osv8ftuse8ed4"},{"post_id":"ciirfw72o009psv8fgzsqkv1c","tag_id":"ciirfw72g009bsv8fm1tj5vak","_id":"ciirfw72o009rsv8f4xfagdjy"},{"post_id":"ciirfw72p009ssv8f5kbieiqw","tag_id":"ciirfw72g009bsv8fm1tj5vak","_id":"ciirfw72q009usv8fq4ozj30i"},{"post_id":"ciirfw72q009vsv8feyqu4njv","tag_id":"ciirfw72g009bsv8fm1tj5vak","_id":"ciirfw72r009xsv8fk0og22r2"},{"post_id":"ciirfw72s009ysv8frduazeua","tag_id":"ciirfw72g009bsv8fm1tj5vak","_id":"ciirfw72s00a0sv8fhpqdh9s9"},{"post_id":"ciirfw72t00a1sv8f1f3gc36b","tag_id":"ciirfw72g009bsv8fm1tj5vak","_id":"ciirfw72u00a3sv8fm9hjqmqw"},{"post_id":"ciirfw72u00a4sv8fhtrfnfju","tag_id":"ciirfw6zd001xsv8ff6bmyggp","_id":"ciirfw72v00a6sv8fwtvzlj6v"},{"post_id":"ciirfw72w00a7sv8fatt6e8l1","tag_id":"ciirfw6zd001xsv8ff6bmyggp","_id":"ciirfw72x00a9sv8fhqibzdu9"},{"post_id":"ciirfw72y00aasv8fc5yfvq26","tag_id":"ciirfw6zd001xsv8ff6bmyggp","_id":"ciirfw72y00acsv8fnbdh2ems"},{"post_id":"ciirfw72z00adsv8fgbdkk3h1","tag_id":"ciirfw73000afsv8fdrif0z68","_id":"ciirfw73000ahsv8fjpsul26t"},{"post_id":"ciirfw72z00adsv8fgbdkk3h1","tag_id":"ciirfw73000agsv8f0ok13imy","_id":"ciirfw73000aisv8f9rmahtl8"},{"post_id":"ciirfw73100ajsv8fhyfwnwfy","tag_id":"ciirfw726008jsv8fmw1im4sk","_id":"ciirfw73200alsv8f3f05idli"},{"post_id":"ciirfw73100ajsv8fhyfwnwfy","tag_id":"ciirfw6zq002xsv8fnnda26za","_id":"ciirfw73300amsv8fktonaovb"},{"post_id":"ciirfw73100ajsv8fhyfwnwfy","tag_id":"ciirfw6z20015sv8f8kjj9m1s","_id":"ciirfw73300ansv8fomjlz6m8"},{"post_id":"ciirfw73300aosv8f29js8hpk","tag_id":"ciirfw6yu000psv8fxz5j5cqq","_id":"ciirfw73400aqsv8fn4jwb28g"},{"post_id":"ciirfw73500arsv8fwoq5gxej","tag_id":"ciirfw6z20015sv8f8kjj9m1s","_id":"ciirfw73600atsv8f8y3vlm97"},{"post_id":"ciirfw73700ausv8f6zj4bhae","tag_id":"ciirfw6z20015sv8f8kjj9m1s","_id":"ciirfw73800awsv8fojsojgj2"},{"post_id":"ciirfw73800axsv8fp846g8pk","tag_id":"ciirfw6z20015sv8f8kjj9m1s","_id":"ciirfw73900azsv8fpg9sh1kt"},{"post_id":"ciirfw73a00b0sv8fdy4zkgcz","tag_id":"ciirfw73a00b2sv8f91nm29vl","_id":"ciirfw73b00b3sv8fpc2i2zds"},{"post_id":"ciirfw73b00b4sv8f0w2p2dxh","tag_id":"ciirfw73a00b2sv8f91nm29vl","_id":"ciirfw73c00b6sv8foeq9520x"},{"post_id":"ciirfw73d00b7sv8fzuoxdnoc","tag_id":"ciirfw70n0050sv8fr5jzgyzh","_id":"ciirfw73e00basv8fv3x3lrh6"},{"post_id":"ciirfw73d00b7sv8fzuoxdnoc","tag_id":"ciirfw70n0051sv8f5j098lk9","_id":"ciirfw73e00bbsv8fz3xe1u4b"},{"post_id":"ciirfw73d00b7sv8fzuoxdnoc","tag_id":"ciirfw73d00b9sv8fw3yqo5r3","_id":"ciirfw73e00bcsv8fejtq1hiz"},{"post_id":"ciirfw73e00bdsv8foh0df0m8","tag_id":"ciirfw73f00bfsv8f6758j9vv","_id":"ciirfw73f00bgsv8f5hqxwe7u"},{"post_id":"ciirfw73g00bhsv8fav8y6kae","tag_id":"ciirfw6zh002asv8fxxzmbfqq","_id":"ciirfw73h00bjsv8fy6zjje5i"},{"post_id":"ciirfw73h00bksv8f8vxac2cf","tag_id":"ciirfw6zh002asv8fxxzmbfqq","_id":"ciirfw73i00bmsv8fbvdxwu35"},{"post_id":"ciirfw73j00bnsv8f1cxfapx8","tag_id":"ciirfw6zh002asv8fxxzmbfqq","_id":"ciirfw73k00bpsv8fgbkn0s59"},{"post_id":"ciirfw73m00brsv8fqj61b0l8","tag_id":"ciirfw6yu000psv8fxz5j5cqq","_id":"ciirfw73n00btsv8fad0pc9mx"}],"Tag":[{"name":"ZooKeeper","_id":"ciirfw6yl0003sv8f6k9qjbah"},{"name":"11","_id":"ciirfw6yo0008sv8flt8tnza6"},{"name":"","_id":"ciirfw6yq000csv8fp47alrrn"},{"name":"","_id":"ciirfw6yr000dsv8foy1x4nty"},{"name":"","_id":"ciirfw6ys000jsv8fyqi2blpe"},{"name":"","_id":"ciirfw6ys000ksv8fn0okxpy3"},{"name":"","_id":"ciirfw6yu000psv8fxz5j5cqq"},{"name":"NoSQL","_id":"ciirfw6yw000tsv8f5gy8c6i9"},{"name":"","_id":"ciirfw6yy000xsv8fg4vpyb10"},{"name":"","_id":"ciirfw6z00011sv8ffphk4m75"},{"name":"Solr","_id":"ciirfw6z20015sv8f8kjj9m1s"},{"name":"","_id":"ciirfw6z40019sv8ft8fd06nk"},{"name":"","_id":"ciirfw6z5001asv8fmrmskcew"},{"name":"REWORK, 37signals, , ","_id":"ciirfw6z6001fsv8f11y4yf4o"},{"name":"Java","_id":"ciirfw6z8001ksv8f8te77fov"},{"name":"Network","_id":"ciirfw6z8001lsv8f36qxnjv0"},{"name":"","_id":"ciirfw6za001rsv8fmhh1gn63"},{"name":"Redis","_id":"ciirfw6zd001wsv8f6klpx141"},{"name":"","_id":"ciirfw6zd001xsv8ff6bmyggp"},{"name":"SSD","_id":"ciirfw6zf0023sv8fiyqepd8e"},{"name":"","_id":"ciirfw6zg0029sv8fah3qoyif"},{"name":"","_id":"ciirfw6zh002asv8fxxzmbfqq"},{"name":"Python","_id":"ciirfw6zi002fsv8fl4wmecgz"},{"name":"JVM","_id":"ciirfw6zo002qsv8fcqgparnw"},{"name":"OOM Killer","_id":"ciirfw6zo002rsv8f57ieh0xe"},{"name":"java","_id":"ciirfw6zq002xsv8fnnda26za"},{"name":"","_id":"ciirfw6zu0037sv8fdn2jcwf0"},{"name":"","_id":"ciirfw6zw003bsv8fo6ui7403"},{"name":"Mina","_id":"ciirfw6zz003msv8fbivcjw4q"},{"name":"Netty","_id":"ciirfw6zz003nsv8fntcwpoxn"},{"name":"","_id":"ciirfw704003tsv8fluyy0pnv"},{"name":"Apple","_id":"ciirfw70e004dsv8fgzbebv80"},{"name":"Macbook","_id":"ciirfw70e004esv8fjo7jevwo"},{"name":"RBMP","_id":"ciirfw70e004fsv8f4exoz69k"},{"name":"group by","_id":"ciirfw70h004lsv8f27shk447"},{"name":"SQL","_id":"ciirfw70h004msv8f7kfgea6n"},{"name":"Maven","_id":"ciirfw70j004rsv8fjh65x3q0"},{"name":"Hadoop","_id":"ciirfw70n0050sv8fr5jzgyzh"},{"name":"MapReduce","_id":"ciirfw70n0051sv8f5j098lk9"},{"name":"Linux","_id":"ciirfw70s005esv8fcdxi4dbw"},{"name":"Shell","_id":"ciirfw70s005fsv8ffxpau416"},{"name":"Java, ","_id":"ciirfw7130063sv8fvfll1dea"},{"name":"Haloop","_id":"ciirfw71a006ksv8fgrng8dkf"},{"name":"Remote, , ","_id":"ciirfw71d006usv8f6rxqeky0"},{"name":"SAE","_id":"ciirfw71f006ysv8fkh7tvu1b"},{"name":"Hadoop Pipes","_id":"ciirfw71l0075sv8fwkc6rxyr"},{"name":"RPC","_id":"ciirfw71p007gsv8fh30qhenq"},{"name":"Google","_id":"ciirfw71w007zsv8fkl83d0kc"},{"name":"GIT","_id":"ciirfw71x0083sv8fqvbbq0zz"},{"name":", ","_id":"ciirfw71z0087sv8fj2szk5iz"},{"name":"","_id":"ciirfw723008fsv8f1yujy0g8"},{"name":"Eclipse","_id":"ciirfw726008jsv8fmw1im4sk"},{"name":"Docker","_id":"ciirfw728008osv8fs82uvnu7"},{"name":"Docker plugins","_id":"ciirfw728008psv8fouvh3trq"},{"name":"Docker volume","_id":"ciirfw729008rsv8fmiz6gw8l"},{"name":"Docker Compose","_id":"ciirfw72b008xsv8fi00xtg4t"},{"name":"","_id":"ciirfw72f0097sv8f8m55z60b"},{"name":"","_id":"ciirfw72g009bsv8fm1tj5vak"},{"name":"CSS","_id":"ciirfw73000afsv8fdrif0z68"},{"name":"Frontend","_id":"ciirfw73000agsv8f0ok13imy"},{"name":"Solr, ","_id":"ciirfw73a00b2sv8f91nm29vl"},{"name":"YARN","_id":"ciirfw73d00b9sv8fw3yqo5r3"},{"name":"Android","_id":"ciirfw73f00bfsv8f6758j9vv"}]}}